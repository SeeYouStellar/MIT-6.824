=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 0 vote for server 2
term 1 server 2 get outdate rpc reply from server 0
client write log 3362464464341675377 (index 1) to leader 2
flag 56833 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 91199 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3362464464341675377 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3362464464341675377 1 1}]
------------------------------------------------------
flag 22330 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 7647 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3362464464341675377 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3362464464341675377 1 1}]
------------------------------------------------------
flag 11170 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 6805 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3362464464341675377 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3362464464341675377 1 1}]
------------------------------------------------------
flag 36341 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 44818 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3362464464341675377 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3362464464341675377 1 1}]
------------------------------------------------------
flag 66716 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 24113 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3362464464341675377 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3362464464341675377 1 1}]
------------------------------------------------------
flag 71115 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 5683 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3362464464341675377 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3362464464341675377 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4625549680140783001 (index 2) to leader 2
flag 19299 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 64711 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2}]
------------------------------------------------------
flag 79234 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 3001 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2}]
------------------------------------------------------
client write log 2512669041395902834 (index 3) to leader 2
client write log 8871605583137892172 (index 4) to leader 2
client write log 1305329062323849783 (index 5) to leader 2
client write log 6328669266302499938 (index 6) to leader 2
client write log 7772684735503464286 (index 7) to leader 2
client write log 7128320470673443505 (index 8) to leader 2
flag 33165 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 8602 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=9
update matchIndex[1]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8}]
------------------------------------------------------
flag 91472 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 76821 term 1 leader 2 nextIndex[1]: 9  matchIndex[1]: 8
term 1 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=9
update matchIndex[1]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8}]
------------------------------------------------------
!!!!!!connect server 0
client write log 3254809039654978642 (index 9) to leader 2
flag 76659 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 77748 term 1 leader 2 nextIndex[1]: 9  matchIndex[1]: 8
term 1 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 2 server 0 AppendEntries false 领导者任期过期 args.Term 1
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 2 Server2 start snapshot! index=9
term 2 server2 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 2 server 2 not vote for server 0, 日志不够新
term 1 server 1 not vote for server 0, 日志不够新
term 4 server 2 vote for server 1
term 4 server 1 get vote from server 2
term 4 server 0 vote for server 1
term 4 server 1 become leader
------------------------------------------------------
term 4 server 1 get outdate rpc reply from server 0
flag 76205 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 13130 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 10->9
------------------------------------------------------
flag 88992 term 4 leader 1 nextIndex[0]: 2  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 93550 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
flag 60930 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 62815 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
flag 26844 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 82559 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
flag 44161 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 37377 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
flag 56838 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 50699 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
flag 77577 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 9504 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
flag 85699 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 61945 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10486 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 97616 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
flag 95562 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 50688 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
flag 38592 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 38895 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74132 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 43548 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
flag 75986 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 51652 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
flag 43296 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 1132 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
flag 83827 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 13334 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
flag 73992 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 8959 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9}]
------------------------------------------------------
client write log 3254809039654978642 (index 10) to leader 1
flag 7645 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 29855 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9} {3254809039654978642 4 10}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {3362464464341675377 1 1} {4625549680140783001 1 2} {2512669041395902834 1 3} {8871605583137892172 1 4} {1305329062323849783 1 5} {6328669266302499938 1 6} {7772684735503464286 1 7} {7128320470673443505 1 8} {3254809039654978642 1 9} {3254809039654978642 4 10}]
------------------------------------------------------
term 4 Server1 start snapshot! index=9
term 4 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 82943 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 93197 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {3254809039654978642 4 10}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {3254809039654978642 4 10}]
------------------------------------------------------
term 4 Server0 start snapshot! index=9
term 4 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 97419 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 31574 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {3254809039654978642 4 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {3254809039654978642 4 10}]
------------------------------------------------------
flag 45250 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 15758 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {3254809039654978642 4 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {3254809039654978642 4 10}]
------------------------------------------------------
flag 76080 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 9103 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {3254809039654978642 4 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {3254809039654978642 4 10}]
------------------------------------------------------
flag 38864 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 27604 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {3254809039654978642 4 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {3254809039654978642 4 10}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 60193 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 73239 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 33875 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 6715 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 59461 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 6718 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 5 server 0 vote for server 2
term 5 server 2 get vote from server 0
term 5 server 2 become leader
------------------------------------------------------
flag 87830 term 5 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 27745 term 5 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {3254809039654978642 4 10}]
------------------------------------------------------
flag 62552 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 69182 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
client write log 8458619028985525143 (index 11) to leader 2
flag 11473 term 5 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 5512 term 5 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3254809039654978642 4 10} {8458619028985525143 5 11}]
------------------------------------------------------
flag 61473 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 4599 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 11->10
------------------------------------------------------
flag 4134 term 5 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 5 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 5 leaderCommit: 11 
------------------------------------------------------
flag 47946 term 5 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3254809039654978642 4 10} {8458619028985525143 5 11}]
------------------------------------------------------
client write log 6498648611750545498 (index 12) to leader 2
client write log 8496653757664549978 (index 13) to leader 2
client write log 222863730740072756 (index 14) to leader 2
client write log 5820570722677048877 (index 15) to leader 2
client write log 2964096816326587120 (index 16) to leader 2
client write log 4732042250791705815 (index 17) to leader 2
client write log 8952735110186450024 (index 18) to leader 2
client write log 2085604379991104076 (index 19) to leader 2
client write log 707125403232887416 (index 20) to leader 2
client write log 5097932712511840793 (index 21) to leader 2
client write log 2384698614527662643 (index 22) to leader 2
client write log 1714938219245951999 (index 23) to leader 2
client write log 7496308700079643527 (index 24) to leader 2
client write log 30211524186559785 (index 25) to leader 2
term 4 leader 1 nextIndex[0]: 0  matchIndex[0]: 10
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 51946 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 33514 term 5 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 5 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 5 leaderCommit: 11 
------------------------------------------------------
flag 44055 term 5 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 1 9} {3254809039654978642 4 10} {8458619028985525143 5 11} {6498648611750545498 5 12} {8496653757664549978 5 13} {222863730740072756 5 14} {5820570722677048877 5 15} {2964096816326587120 5 16} {4732042250791705815 5 17} {8952735110186450024 5 18} {2085604379991104076 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
term 5 Server2 start snapshot! index=19
term 5 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=25
-------------------------------------------------------------
term 4 leader 1 nextIndex[0]: 0  matchIndex[0]: 10
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 59102 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 4758 term 5 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 5 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 5 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 5 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 5
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
term 5 Server0 start snapshot! index=19
term 5 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=25
-------------------------------------------------------------
!!!!!!connect server 1
term 4 leader 1 nextIndex[0]: 0  matchIndex[0]: 10
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 1579 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
client write log 1223960463703829553 (index 11) to leader 1
term 5 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 5 server 2 AppendEntries false 领导者任期过期 args.Term 4
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62766 term 5 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 5 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 5 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 5 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 5
------------------------------------------------------
term 5 server 1 InstallSnapshot success
------------------------------------------------------
term 5 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 5 rf.commitIndex 19 rf.lastApplied 19
term 5 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
term 5 server 2 not vote for server 1, 日志不够新
term 5 server 0 not vote for server 1, 日志不够新
term 7 server 1 vote for server 2
term 7 server 2 get vote from server 1
term 7 server 2 become leader
------------------------------------------------------
term 7 server 0 vote for server 2
term 7 server 2 get outdate rpc reply from server 0
flag 784 term 7 leader 2 nextIndex[0]: 26  matchIndex[0]: 0
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 88011 term 7 leader 2 nextIndex[1]: 26  matchIndex[1]: 0
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 26->25
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
flag 9737 term 7 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 65540 term 7 leader 2 nextIndex[1]: 20  matchIndex[1]: 0
term 7 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
term 7 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16902 term 7 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 61849 term 7 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9711 term 7 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 77563 term 7 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
flag 67054 term 7 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 44915 term 7 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
flag 9855 term 7 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 7691 term 7 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
flag 59825 term 7 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 56752 term 7 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
flag 58184 term 7 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 72100 term 7 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90106 term 7 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 84310 term 7 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
flag 93100 term 7 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 61685 term 7 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
flag 51791 term 7 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 37051 term 7 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
flag 43097 term 7 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 27561 term 7 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99080 term 7 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 2852 term 7 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
flag 37690 term 7 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 63459 term 7 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
flag 7547 term 7 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 77108 term 7 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
flag 4135 term 7 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 97574 term 7 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
flag 43383 term 7 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 81583 term 7 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
term 7 server 2 not vote for server 0, 任期不够新
term 7 server 0 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5883 term 7 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 5397 term 7 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25}]
------------------------------------------------------
term 7 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 1223960463703829553 (index 26) to leader 2
flag 69219 term 7 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 51632 term 7 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 7 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25} {1223960463703829553 7 26}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25} {1223960463703829553 7 26}]
------------------------------------------------------
flag 67589 term 7 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 7 leaderCommit: 26 
------------------------------------------------------
flag 90912 term 7 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 7 leaderCommit: 26 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25} {1223960463703829553 7 26}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25} {1223960463703829553 7 26}]
------------------------------------------------------
flag 2707 term 7 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 7 leaderCommit: 26 
------------------------------------------------------
flag 8857 term 7 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 7 leaderCommit: 26 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25} {1223960463703829553 7 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25} {1223960463703829553 7 26}]
------------------------------------------------------
flag 36763 term 7 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 7 leaderCommit: 26 
------------------------------------------------------
flag 42735 term 7 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 7 leaderCommit: 26 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25} {1223960463703829553 7 26}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25} {1223960463703829553 7 26}]
------------------------------------------------------
term 7 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58344 term 7 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 7 leaderCommit: 26 
------------------------------------------------------
flag 11542 term 7 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 7 leaderCommit: 26 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25} {1223960463703829553 7 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25} {1223960463703829553 7 26}]
------------------------------------------------------
flag 46869 term 7 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 7 leaderCommit: 26 
------------------------------------------------------
flag 88650 term 7 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 7 leaderCommit: 26 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25} {1223960463703829553 7 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25} {1223960463703829553 7 26}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5795065425360165021 (index 27) to leader 2
flag 12288 term 7 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 7 leaderCommit: 26 
------------------------------------------------------
flag 63469 term 7 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 7 leaderCommit: 26 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25} {1223960463703829553 7 26} {5795065425360165021 7 27}]
------------------------------------------------------
flag 78088 term 7 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 7 leaderCommit: 27 
------------------------------------------------------
flag 56452 term 7 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 7 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 7 leaderCommit: 27 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25} {1223960463703829553 7 26} {5795065425360165021 7 27}]
------------------------------------------------------
client write log 5942260714951630579 (index 28) to leader 2
client write log 3430315734158646772 (index 29) to leader 2
client write log 8564619906870646616 (index 30) to leader 2
client write log 9028131578414053549 (index 31) to leader 2
client write log 3201127927850628400 (index 32) to leader 2
client write log 405912344039290186 (index 33) to leader 2
client write log 5349499344995799554 (index 34) to leader 2
client write log 1288509584381981733 (index 35) to leader 2
client write log 3694273089295133517 (index 36) to leader 2
client write log 6769933056088358424 (index 37) to leader 2
flag 92641 term 7 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 7 leaderCommit: 27 
------------------------------------------------------
flag 94842 term 7 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 7 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 7 leaderCommit: 27 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 5 19} {707125403232887416 5 20} {5097932712511840793 5 21} {2384698614527662643 5 22} {1714938219245951999 5 23} {7496308700079643527 5 24} {30211524186559785 5 25} {1223960463703829553 7 26} {5795065425360165021 7 27} {5942260714951630579 7 28} {3430315734158646772 7 29} {8564619906870646616 7 30} {9028131578414053549 7 31} {3201127927850628400 7 32} {405912344039290186 7 33} {5349499344995799554 7 34} {1288509584381981733 7 35} {3694273089295133517 7 36} {6769933056088358424 7 37}]
------------------------------------------------------
term 7 Server2 start snapshot! index=29
term 7 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=37
-------------------------------------------------------------
term 7 server 1 not vote for server 2, 任期不够新
term 7 server 2 get outdate rpc reply from server 1
term 7 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 7 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 7
------------------------------------------------------
flag 3467 term 7 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 7 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {8564619906870646616 7 30} {9028131578414053549 7 31} {3201127927850628400 7 32} {405912344039290186 7 33} {5349499344995799554 7 34} {1288509584381981733 7 35} {3694273089295133517 7 36} {6769933056088358424 7 37}]
------------------------------------------------------
term 7 Server1 start snapshot! index=29
term 7 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=37
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5793239407248555055 (index 38) to leader 2
term 7 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 7 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 7
------------------------------------------------------
flag 78462 term 7 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 7 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 7 leaderCommit: 37 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 7 29} {8564619906870646616 7 30} {9028131578414053549 7 31} {3201127927850628400 7 32} {405912344039290186 7 33} {5349499344995799554 7 34} {1288509584381981733 7 35} {3694273089295133517 7 36} {6769933056088358424 7 37} {5793239407248555055 7 38}]
------------------------------------------------------
term 8 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 7 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 1 vote for server 2
term 9 server 0 vote for server 2
term 9 server 2 get vote from server 1
term 9 server 2 become leader
------------------------------------------------------
term 9 server 2 get outdate rpc reply from server 0
flag 28834 term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 38 
------------------------------------------------------
flag 67768 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 38 
------------------------------------------------------
term 9 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 39->38
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 7 29} {8564619906870646616 7 30} {9028131578414053549 7 31} {3201127927850628400 7 32} {405912344039290186 7 33} {5349499344995799554 7 34} {1288509584381981733 7 35} {3694273089295133517 7 36} {6769933056088358424 7 37} {5793239407248555055 7 38}]
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 27  matchIndex[0]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 7
------------------------------------------------------
flag 96480 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 38 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
term 9 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 7 29} {8564619906870646616 7 30} {9028131578414053549 7 31} {3201127927850628400 7 32} {405912344039290186 7 33} {5349499344995799554 7 34} {1288509584381981733 7 35} {3694273089295133517 7 36} {6769933056088358424 7 37} {5793239407248555055 7 38}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 7 rf.commitIndex 29 rf.lastApplied 29
term 9 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
flag 71138 term 9 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 9 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 7 leaderCommit: 38 
------------------------------------------------------
flag 15815 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 38 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 7 29} {8564619906870646616 7 30} {9028131578414053549 7 31} {3201127927850628400 7 32} {405912344039290186 7 33} {5349499344995799554 7 34} {1288509584381981733 7 35} {3694273089295133517 7 36} {6769933056088358424 7 37} {5793239407248555055 7 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 7 29} {8564619906870646616 7 30} {9028131578414053549 7 31} {3201127927850628400 7 32} {405912344039290186 7 33} {5349499344995799554 7 34} {1288509584381981733 7 35} {3694273089295133517 7 36} {6769933056088358424 7 37} {5793239407248555055 7 38}]
------------------------------------------------------
flag 19592 term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 38 
------------------------------------------------------
flag 61293 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 38 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 7 29} {8564619906870646616 7 30} {9028131578414053549 7 31} {3201127927850628400 7 32} {405912344039290186 7 33} {5349499344995799554 7 34} {1288509584381981733 7 35} {3694273089295133517 7 36} {6769933056088358424 7 37} {5793239407248555055 7 38}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 7 29} {8564619906870646616 7 30} {9028131578414053549 7 31} {3201127927850628400 7 32} {405912344039290186 7 33} {5349499344995799554 7 34} {1288509584381981733 7 35} {3694273089295133517 7 36} {6769933056088358424 7 37} {5793239407248555055 7 38}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45466 term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 38 
------------------------------------------------------
flag 54583 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 38 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 7 29} {8564619906870646616 7 30} {9028131578414053549 7 31} {3201127927850628400 7 32} {405912344039290186 7 33} {5349499344995799554 7 34} {1288509584381981733 7 35} {3694273089295133517 7 36} {6769933056088358424 7 37} {5793239407248555055 7 38}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 7 29} {8564619906870646616 7 30} {9028131578414053549 7 31} {3201127927850628400 7 32} {405912344039290186 7 33} {5349499344995799554 7 34} {1288509584381981733 7 35} {3694273089295133517 7 36} {6769933056088358424 7 37} {5793239407248555055 7 38}]
------------------------------------------------------
flag 91067 term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 38 
------------------------------------------------------
flag 75286 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 38 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 7 29} {8564619906870646616 7 30} {9028131578414053549 7 31} {3201127927850628400 7 32} {405912344039290186 7 33} {5349499344995799554 7 34} {1288509584381981733 7 35} {3694273089295133517 7 36} {6769933056088358424 7 37} {5793239407248555055 7 38}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 7 29} {8564619906870646616 7 30} {9028131578414053549 7 31} {3201127927850628400 7 32} {405912344039290186 7 33} {5349499344995799554 7 34} {1288509584381981733 7 35} {3694273089295133517 7 36} {6769933056088358424 7 37} {5793239407248555055 7 38}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68268 term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 38 
------------------------------------------------------
flag 14824 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 38 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 7 29} {8564619906870646616 7 30} {9028131578414053549 7 31} {3201127927850628400 7 32} {405912344039290186 7 33} {5349499344995799554 7 34} {1288509584381981733 7 35} {3694273089295133517 7 36} {6769933056088358424 7 37} {5793239407248555055 7 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 7 29} {8564619906870646616 7 30} {9028131578414053549 7 31} {3201127927850628400 7 32} {405912344039290186 7 33} {5349499344995799554 7 34} {1288509584381981733 7 35} {3694273089295133517 7 36} {6769933056088358424 7 37} {5793239407248555055 7 38}]
------------------------------------------------------
flag 98532 term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 38 
------------------------------------------------------
flag 90983 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 38 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:38 
term 9 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 7 29} {8564619906870646616 7 30} {9028131578414053549 7 31} {3201127927850628400 7 32} {405912344039290186 7 33} {5349499344995799554 7 34} {1288509584381981733 7 35} {3694273089295133517 7 36} {6769933056088358424 7 37} {5793239407248555055 7 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 7 29} {8564619906870646616 7 30} {9028131578414053549 7 31} {3201127927850628400 7 32} {405912344039290186 7 33} {5349499344995799554 7 34} {1288509584381981733 7 35} {3694273089295133517 7 36} {6769933056088358424 7 37} {5793239407248555055 7 38}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3475909884909451348 (index 39) to leader 2
flag 68555 term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 38 
------------------------------------------------------
flag 29587 term 9 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 9 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 7 leaderCommit: 38 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 7 29} {8564619906870646616 7 30} {9028131578414053549 7 31} {3201127927850628400 7 32} {405912344039290186 7 33} {5349499344995799554 7 34} {1288509584381981733 7 35} {3694273089295133517 7 36} {6769933056088358424 7 37} {5793239407248555055 7 38} {3475909884909451348 9 39}]
------------------------------------------------------
term 9 Server2 start snapshot! index=39
term 9 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 9
------------------------------------------------------
flag 12436 term 9 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 9 39}]
------------------------------------------------------
term 9 Server1 start snapshot! index=39
term 9 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4294293286967337115 (index 40) to leader 2
client write log 1309784388438091720 (index 41) to leader 2
client write log 7991735057706147998 (index 42) to leader 2
client write log 2654890513009054991 (index 43) to leader 2
client write log 1716927379883964502 (index 44) to leader 2
client write log 1682928124251719448 (index 45) to leader 2
client write log 4295619371207944231 (index 46) to leader 2
client write log 3222328220344488279 (index 47) to leader 2
client write log 509800262755919873 (index 48) to leader 2
client write log 7030977525653562128 (index 49) to leader 2
term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 9
------------------------------------------------------
flag 74532 term 9 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 9 39} {4294293286967337115 9 40} {1309784388438091720 9 41} {7991735057706147998 9 42} {2654890513009054991 9 43} {1716927379883964502 9 44} {1682928124251719448 9 45} {4295619371207944231 9 46} {3222328220344488279 9 47} {509800262755919873 9 48} {7030977525653562128 9 49}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 9 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 13739 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 9 49}]
------------------------------------------------------
term 9 Server1 start snapshot! index=49
term 9 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 0
client write log 5601595412986132014 (index 50) to leader 2
term 9 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
flag 79216 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
flag 26531 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
term 10 server 0 AppendEntries false 领导者任期过期 args.Term 9
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 10 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 server 2 not vote for server 0, 日志不够新
term 9 server 1 not vote for server 0, 日志不够新
term 11 server 2 not vote for server 0, 任期不够新
term 11 server 0 get outdate rpc reply from server 2
term 12 server 2 vote for server 1
term 12 server 1 get vote from server 2
term 12 server 1 become leader
------------------------------------------------------
term 12 server 0 vote for server 1
term 12 server 1 get outdate rpc reply from server 0
flag 72129 term 12 leader 1 nextIndex[0]: 51  matchIndex[0]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
flag 22517 term 12 leader 1 nextIndex[2]: 51  matchIndex[2]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 12 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 51->50
------------------------------------------------------
term 12 leader 1 nextIndex[0]: 39  matchIndex[0]: 0
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 3054 term 12 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 12 server 0 InstallSnapshot success
------------------------------------------------------
term 12 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
flag 66161 term 12 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 12 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
flag 31321 term 12 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
flag 37181 term 12 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
flag 48059 term 12 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
term 12 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
flag 11435 term 12 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
flag 38735 term 12 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
flag 67876 term 12 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
flag 24712 term 12 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33751 term 12 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
flag 318 term 12 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
term 12 server 1 not vote for server 0, 任期不够新
term 12 server 0 get outdate rpc reply from server 1
flag 58175 term 12 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
flag 13131 term 12 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
flag 72042 term 12 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
flag 59043 term 12 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
flag 64548 term 12 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
flag 81489 term 12 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 405 term 12 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
flag 79137 term 12 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
flag 75512 term 12 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
flag 76101 term 12 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53458 term 12 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
flag 97404 term 12 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
flag 14337 term 12 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
flag 74058 term 12 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
term 12 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76921 term 12 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
flag 1668 term 12 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40311 term 12 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
flag 76668 term 12 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=49
leader log:
[{snapshot 9 49} {5601595412986132014 9 50}]
------------------------------------------------------
client write log 5601595412986132014 (index 51) to leader 1
term 12 server 1 not vote for server 0, 任期不够新
term 12 server 0 get outdate rpc reply from server 1
flag 51480 term 12 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
flag 926 term 12 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5601595412986132014 9 50} {5601595412986132014 12 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5601595412986132014 9 50} {5601595412986132014 12 51}]
------------------------------------------------------
flag 7680 term 12 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
flag 70807 term 12 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5601595412986132014 9 50} {5601595412986132014 12 51}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5601595412986132014 9 50} {5601595412986132014 12 51}]
------------------------------------------------------
flag 79681 term 12 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
flag 68824 term 12 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5601595412986132014 9 50} {5601595412986132014 12 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5601595412986132014 9 50} {5601595412986132014 12 51}]
------------------------------------------------------
flag 37598 term 12 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
flag 31038 term 12 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5601595412986132014 9 50} {5601595412986132014 12 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5601595412986132014 9 50} {5601595412986132014 12 51}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11082 term 12 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
flag 5681 term 12 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5601595412986132014 9 50} {5601595412986132014 12 51}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5601595412986132014 9 50} {5601595412986132014 12 51}]
------------------------------------------------------
flag 68150 term 12 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
flag 29029 term 12 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5601595412986132014 9 50} {5601595412986132014 12 51}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5601595412986132014 9 50} {5601595412986132014 12 51}]
------------------------------------------------------
flag 48393 term 12 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
flag 52914 term 12 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5601595412986132014 9 50} {5601595412986132014 12 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5601595412986132014 9 50} {5601595412986132014 12 51}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 10035 term 12 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
flag 50811 term 12 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
flag 19465 term 12 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
flag 45068 term 12 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
flag 62201 term 12 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
flag 41795 term 12 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
term 13 server 0 vote for server 2
term 13 server 2 get vote from server 0
term 13 server 2 become leader
------------------------------------------------------
flag 8033 term 12 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
flag 92661 term 12 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
flag 67943 term 13 leader 2 nextIndex[0]: 52  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
flag 5285 term 13 leader 2 nextIndex[1]: 52  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5601595412986132014 9 50} {5601595412986132014 12 51}]
------------------------------------------------------
client write log 8246127291064378611 (index 52) to leader 2
flag 98009 term 12 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
flag 90489 term 12 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
flag 91424 term 13 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 13 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
flag 90031 term 13 leader 2 nextIndex[1]: 52  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {5601595412986132014 9 50} {5601595412986132014 12 51} {8246127291064378611 13 52}]
------------------------------------------------------
flag 13333 term 12 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
flag 79963 term 12 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
flag 23119 term 13 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 13 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 13 leaderCommit: 52 
------------------------------------------------------
flag 50827 term 13 leader 2 nextIndex[1]: 52  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 52 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {5601595412986132014 9 50} {5601595412986132014 12 51} {8246127291064378611 13 52}]
------------------------------------------------------
client write log 6526806339086623251 (index 53) to leader 2
client write log 8032550843142948620 (index 54) to leader 2
client write log 6829384497012280688 (index 55) to leader 2
client write log 2159436065897947502 (index 56) to leader 2
client write log 3152479297977128477 (index 57) to leader 2
client write log 6578544399912919881 (index 58) to leader 2
client write log 3065359256593356963 (index 59) to leader 2
client write log 8261304167663102890 (index 60) to leader 2
flag 28483 term 12 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
flag 70701 term 12 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
flag 86680 term 13 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 13 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 13 leaderCommit: 52 
------------------------------------------------------
flag 93346 term 13 leader 2 nextIndex[1]: 52  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 52 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 49} {5601595412986132014 9 50} {5601595412986132014 12 51} {8246127291064378611 13 52} {6526806339086623251 13 53} {8032550843142948620 13 54} {6829384497012280688 13 55} {2159436065897947502 13 56} {3152479297977128477 13 57} {6578544399912919881 13 58} {3065359256593356963 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
term 13 Server2 start snapshot! index=59
term 13 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=60
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 52->51
------------------------------------------------------
flag 19631 term 12 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
term 12 leader 1 nextIndex[2]: 0  matchIndex[2]: 51
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 79397 term 13 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 13 leader 2 nextIndex[1]: 52  matchIndex[1]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 13
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
term 13 Server0 start snapshot! index=59
term 13 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=60
-------------------------------------------------------------
!!!!!!connect server 1
client write log 609505781040134275 (index 52) to leader 1
flag 98817 term 12 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
term 12 leader 1 nextIndex[2]: 0  matchIndex[2]: 51
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 13 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 13 server 0 AppendEntries false 领导者任期过期 args.Term 12
------------------------------------------------------
term 12 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57585 term 13 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 13 leader 2 nextIndex[1]: 52  matchIndex[1]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 13
------------------------------------------------------
term 13 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 13 rf.commitIndex 59 rf.lastApplied 59
term 13 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
term 13 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 60->59
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 2 not vote for server 1, 日志不够新
term 13 server 0 not vote for server 1, 日志不够新
term 15 server 1 vote for server 2
term 15 server 0 vote for server 2
term 15 server 2 get vote from server 1
term 15 server 2 become leader
------------------------------------------------------
term 15 server 2 get outdate rpc reply from server 0
flag 78326 term 15 leader 2 nextIndex[0]: 61  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 86928 term 15 leader 2 nextIndex[1]: 61  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 15 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 61->60
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48084 term 15 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 68604 term 15 leader 2 nextIndex[1]: 60  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
term 15 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
flag 41719 term 15 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 48282 term 15 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
flag 10848 term 15 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 37282 term 15 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
flag 25307 term 15 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 33276 term 15 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
term 15 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73421 term 15 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 77509 term 15 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5213 term 15 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 78664 term 15 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
flag 28876 term 15 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 88332 term 15 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
flag 64460 term 15 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 92684 term 15 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
flag 64133 term 15 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 84476 term 15 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
flag 23588 term 15 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 90084 term 15 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12941 term 15 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 56972 term 15 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
flag 67308 term 15 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 12409 term 15 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
flag 99089 term 15 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 93233 term 15 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
term 15 server 1 not vote for server 0, 任期不够新
term 15 server 0 get outdate rpc reply from server 1
flag 8974 term 15 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 45235 term 15 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
flag 57526 term 15 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 97600 term 15 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43379 term 15 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 44048 term 15 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
flag 76598 term 15 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 20112 term 15 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
flag 37152 term 15 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 22789 term 15 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 13 59} {8261304167663102890 13 60}]
------------------------------------------------------
client write log 609505781040134275 (index 61) to leader 2
flag 76371 term 15 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 70030 term 15 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 15 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 13 59} {8261304167663102890 13 60} {609505781040134275 15 61}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 13 59} {8261304167663102890 13 60} {609505781040134275 15 61}]
------------------------------------------------------
flag 65955 term 15 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 15 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 15 leaderCommit: 61 
------------------------------------------------------
flag 79954 term 15 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 15 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 15 leaderCommit: 61 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 13 59} {8261304167663102890 13 60} {609505781040134275 15 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 13 59} {8261304167663102890 13 60} {609505781040134275 15 61}]
------------------------------------------------------
term 15 server 2 not vote for server 0, 任期不够新
term 15 server 0 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36063 term 15 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 15 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 15 leaderCommit: 61 
------------------------------------------------------
flag 28859 term 15 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 15 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 15 leaderCommit: 61 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 13 59} {8261304167663102890 13 60} {609505781040134275 15 61}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 13 59} {8261304167663102890 13 60} {609505781040134275 15 61}]
------------------------------------------------------
flag 74544 term 15 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 15 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 15 leaderCommit: 61 
------------------------------------------------------
flag 17684 term 15 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 15 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 15 leaderCommit: 61 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 13 59} {8261304167663102890 13 60} {609505781040134275 15 61}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 13 59} {8261304167663102890 13 60} {609505781040134275 15 61}]
------------------------------------------------------
flag 11984 term 15 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 15 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 15 leaderCommit: 61 
------------------------------------------------------
flag 77446 term 15 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 15 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 15 leaderCommit: 61 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 13 59} {8261304167663102890 13 60} {609505781040134275 15 61}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 13 59} {8261304167663102890 13 60} {609505781040134275 15 61}]
------------------------------------------------------
flag 41067 term 15 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 15 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 15 leaderCommit: 61 
------------------------------------------------------
flag 2709 term 15 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 15 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 15 leaderCommit: 61 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 13 59} {8261304167663102890 13 60} {609505781040134275 15 61}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 13 59} {8261304167663102890 13 60} {609505781040134275 15 61}]
------------------------------------------------------
flag 90509 term 15 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 15 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 15 leaderCommit: 61 
------------------------------------------------------
flag 79903 term 15 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 15 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 15 leaderCommit: 61 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 13 59} {8261304167663102890 13 60} {609505781040134275 15 61}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 13 59} {8261304167663102890 13 60} {609505781040134275 15 61}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4296604743088853265 (index 62) to leader 2
flag 77119 term 15 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 15 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 15 leaderCommit: 61 
------------------------------------------------------
flag 64578 term 15 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 15 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 15 leaderCommit: 61 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 13 59} {8261304167663102890 13 60} {609505781040134275 15 61} {4296604743088853265 15 62}]
------------------------------------------------------
flag 89252 term 15 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 15 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 15 leaderCommit: 62 
------------------------------------------------------
flag 34074 term 15 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 15 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 15 leaderCommit: 62 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 13 59} {8261304167663102890 13 60} {609505781040134275 15 61} {4296604743088853265 15 62}]
------------------------------------------------------
client write log 5852395552383496523 (index 63) to leader 2
client write log 186155415826566089 (index 64) to leader 2
client write log 8911324203032458993 (index 65) to leader 2
client write log 4664949678183031747 (index 66) to leader 2
client write log 3878002724174595014 (index 67) to leader 2
client write log 8390702473481583985 (index 68) to leader 2
client write log 1333317363125194699 (index 69) to leader 2
client write log 5585118140686612476 (index 70) to leader 2
client write log 4111375459178096492 (index 71) to leader 2
client write log 3183510571616385807 (index 72) to leader 2
client write log 3215944591963647547 (index 73) to leader 2
client write log 1091906182651860294 (index 74) to leader 2
client write log 6981354011834104305 (index 75) to leader 2
client write log 781511135432606087 (index 76) to leader 2
flag 6862 term 15 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 15 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 15 leaderCommit: 62 
------------------------------------------------------
flag 698 term 15 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 15 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 15 leaderCommit: 62 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 59} {8261304167663102890 13 60} {609505781040134275 15 61} {4296604743088853265 15 62} {5852395552383496523 15 63} {186155415826566089 15 64} {8911324203032458993 15 65} {4664949678183031747 15 66} {3878002724174595014 15 67} {8390702473481583985 15 68} {1333317363125194699 15 69} {5585118140686612476 15 70} {4111375459178096492 15 71} {3183510571616385807 15 72} {3215944591963647547 15 73} {1091906182651860294 15 74} {6981354011834104305 15 75} {781511135432606087 15 76}]
------------------------------------------------------
term 15 Server2 start snapshot! index=69
term 15 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=76
-------------------------------------------------------------
term 15 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 15
------------------------------------------------------
flag 6002 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 15 69} {5585118140686612476 15 70} {4111375459178096492 15 71} {3183510571616385807 15 72} {3215944591963647547 15 73} {1091906182651860294 15 74} {6981354011834104305 15 75} {781511135432606087 15 76}]
------------------------------------------------------
term 15 Server1 start snapshot! index=69
term 15 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=76
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3172736697897158797 (index 77) to leader 2
term 15 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 15
------------------------------------------------------
flag 76019 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 16 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
update nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5585118140686612476 15 70} {4111375459178096492 15 71} {3183510571616385807 15 72} {3215944591963647547 15 73} {1091906182651860294 15 74} {6981354011834104305 15 75} {781511135432606087 15 76} {3172736697897158797 15 77}]
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 17 server 1 vote for server 2
term 17 server 2 get vote from server 1
term 17 server 2 become leader
------------------------------------------------------
term 17 server 0 vote for server 2
term 17 server 2 get outdate rpc reply from server 0
flag 10515 term 17 leader 2 nextIndex[0]: 78  matchIndex[0]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 89134 term 17 leader 2 nextIndex[1]: 78  matchIndex[1]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5585118140686612476 15 70} {4111375459178096492 15 71} {3183510571616385807 15 72} {3215944591963647547 15 73} {1091906182651860294 15 74} {6981354011834104305 15 75} {781511135432606087 15 76} {3172736697897158797 15 77}]
------------------------------------------------------
term 17 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 78->77
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 leader 2 nextIndex[0]: 62  matchIndex[0]: 0
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 15
------------------------------------------------------
flag 60795 term 17 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
term 17 server 0 InstallSnapshot success
------------------------------------------------------
leader log:
[{snapshot 15 69} {5585118140686612476 15 70} {4111375459178096492 15 71} {3183510571616385807 15 72} {3215944591963647547 15 73} {1091906182651860294 15 74} {6981354011834104305 15 75} {781511135432606087 15 76} {3172736697897158797 15 77}]
------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 15 rf.commitIndex 69 rf.lastApplied 69
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18619 term 17 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 17 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 92843 term 17 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
term 17 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5585118140686612476 15 70} {4111375459178096492 15 71} {3183510571616385807 15 72} {3215944591963647547 15 73} {1091906182651860294 15 74} {6981354011834104305 15 75} {781511135432606087 15 76} {3172736697897158797 15 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5585118140686612476 15 70} {4111375459178096492 15 71} {3183510571616385807 15 72} {3215944591963647547 15 73} {1091906182651860294 15 74} {6981354011834104305 15 75} {781511135432606087 15 76} {3172736697897158797 15 77}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25935 term 17 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 27644 term 17 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5585118140686612476 15 70} {4111375459178096492 15 71} {3183510571616385807 15 72} {3215944591963647547 15 73} {1091906182651860294 15 74} {6981354011834104305 15 75} {781511135432606087 15 76} {3172736697897158797 15 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5585118140686612476 15 70} {4111375459178096492 15 71} {3183510571616385807 15 72} {3215944591963647547 15 73} {1091906182651860294 15 74} {6981354011834104305 15 75} {781511135432606087 15 76} {3172736697897158797 15 77}]
------------------------------------------------------
flag 80202 term 17 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 14514 term 17 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5585118140686612476 15 70} {4111375459178096492 15 71} {3183510571616385807 15 72} {3215944591963647547 15 73} {1091906182651860294 15 74} {6981354011834104305 15 75} {781511135432606087 15 76} {3172736697897158797 15 77}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5585118140686612476 15 70} {4111375459178096492 15 71} {3183510571616385807 15 72} {3215944591963647547 15 73} {1091906182651860294 15 74} {6981354011834104305 15 75} {781511135432606087 15 76} {3172736697897158797 15 77}]
------------------------------------------------------
flag 11930 term 17 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 98046 term 17 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5585118140686612476 15 70} {4111375459178096492 15 71} {3183510571616385807 15 72} {3215944591963647547 15 73} {1091906182651860294 15 74} {6981354011834104305 15 75} {781511135432606087 15 76} {3172736697897158797 15 77}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5585118140686612476 15 70} {4111375459178096492 15 71} {3183510571616385807 15 72} {3215944591963647547 15 73} {1091906182651860294 15 74} {6981354011834104305 15 75} {781511135432606087 15 76} {3172736697897158797 15 77}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28677 term 17 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 96793 term 17 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
term 17 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5585118140686612476 15 70} {4111375459178096492 15 71} {3183510571616385807 15 72} {3215944591963647547 15 73} {1091906182651860294 15 74} {6981354011834104305 15 75} {781511135432606087 15 76} {3172736697897158797 15 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5585118140686612476 15 70} {4111375459178096492 15 71} {3183510571616385807 15 72} {3215944591963647547 15 73} {1091906182651860294 15 74} {6981354011834104305 15 75} {781511135432606087 15 76} {3172736697897158797 15 77}]
------------------------------------------------------
flag 70781 term 17 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 41072 term 17 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5585118140686612476 15 70} {4111375459178096492 15 71} {3183510571616385807 15 72} {3215944591963647547 15 73} {1091906182651860294 15 74} {6981354011834104305 15 75} {781511135432606087 15 76} {3172736697897158797 15 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5585118140686612476 15 70} {4111375459178096492 15 71} {3183510571616385807 15 72} {3215944591963647547 15 73} {1091906182651860294 15 74} {6981354011834104305 15 75} {781511135432606087 15 76} {3172736697897158797 15 77}]
------------------------------------------------------
flag 48484 term 17 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 14396 term 17 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5585118140686612476 15 70} {4111375459178096492 15 71} {3183510571616385807 15 72} {3215944591963647547 15 73} {1091906182651860294 15 74} {6981354011834104305 15 75} {781511135432606087 15 76} {3172736697897158797 15 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5585118140686612476 15 70} {4111375459178096492 15 71} {3183510571616385807 15 72} {3215944591963647547 15 73} {1091906182651860294 15 74} {6981354011834104305 15 75} {781511135432606087 15 76} {3172736697897158797 15 77}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4152624301046878981 (index 78) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10464 term 17 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 47525 term 17 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 15 69} {5585118140686612476 15 70} {4111375459178096492 15 71} {3183510571616385807 15 72} {3215944591963647547 15 73} {1091906182651860294 15 74} {6981354011834104305 15 75} {781511135432606087 15 76} {3172736697897158797 15 77} {4152624301046878981 17 78}]
------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53373 term 17 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
flag 15480 term 17 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 17 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 17 leaderCommit: 78 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 15 69} {5585118140686612476 15 70} {4111375459178096492 15 71} {3183510571616385807 15 72} {3215944591963647547 15 73} {1091906182651860294 15 74} {6981354011834104305 15 75} {781511135432606087 15 76} {3172736697897158797 15 77} {4152624301046878981 17 78}]
------------------------------------------------------
client write log 3038901538050208664 (index 79) to leader 2
client write log 7376899389630768250 (index 80) to leader 2
client write log 8936994012518951726 (index 81) to leader 2
client write log 6848159725414474777 (index 82) to leader 2
client write log 2074483844417384045 (index 83) to leader 2
client write log 9168211145302266227 (index 84) to leader 2
client write log 4448029185452942100 (index 85) to leader 2
client write log 6482545928717111541 (index 86) to leader 2
client write log 46521954941785134 (index 87) to leader 2
flag 30739 term 17 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
flag 92148 term 17 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 17 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 17 leaderCommit: 78 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 15 69} {5585118140686612476 15 70} {4111375459178096492 15 71} {3183510571616385807 15 72} {3215944591963647547 15 73} {1091906182651860294 15 74} {6981354011834104305 15 75} {781511135432606087 15 76} {3172736697897158797 15 77} {4152624301046878981 17 78} {3038901538050208664 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87}]
------------------------------------------------------
term 17 Server2 start snapshot! index=79
term 17 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=87
-------------------------------------------------------------
term 17 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 17
------------------------------------------------------
flag 30521 term 17 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 17 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87}]
------------------------------------------------------
term 17 Server1 start snapshot! index=79
term 17 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=87
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5363360324084311611 (index 88) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 78->77
------------------------------------------------------
term 17 server 2 not vote for server 0, 日志不够新
term 17 server 1 not vote for server 0, 日志不够新
term 19 server 1 vote for server 2
term 19 server 0 vote for server 2
term 19 server 2 get vote from server 1
term 19 server 2 become leader
------------------------------------------------------
term 19 server 2 get outdate rpc reply from server 0
flag 85781 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
flag 74365 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
term 19 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 89->88
------------------------------------------------------
term 19 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 89->88
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 78  matchIndex[0]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 17
------------------------------------------------------
flag 87316 term 19 leader 2 nextIndex[1]: 88  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
term 19 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 17 rf.commitIndex 79 rf.lastApplied 79
term 19 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
flag 16167 term 19 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 19 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
flag 38946 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
flag 95018 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
flag 36242 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
term 19 server 1 not vote for server 2, 任期不够新
term 19 server 2 get outdate rpc reply from server 1
flag 48867 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
flag 58416 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56027 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
flag 10081 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85589 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
flag 81680 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
flag 34445 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
flag 85886 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34878 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
flag 51151 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
flag 94351 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
flag 78497 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
flag 75108 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
flag 84703 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
flag 44578 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
flag 94551 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
flag 18349 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
flag 44012 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
flag 3595 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
flag 89877 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 19314 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
flag 20090 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
flag 96805 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
flag 37134 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
flag 50427 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
flag 57782 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
flag 48746 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
flag 17894 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3405 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
flag 48137 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
flag 64251 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
flag 25016 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88}]
------------------------------------------------------
client write log 5363360324084311611 (index 89) to leader 2
flag 52868 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
flag 80475 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88} {5363360324084311611 19 89}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 17 79} {7376899389630768250 17 80} {8936994012518951726 17 81} {6848159725414474777 17 82} {2074483844417384045 17 83} {9168211145302266227 17 84} {4448029185452942100 17 85} {6482545928717111541 17 86} {46521954941785134 17 87} {5363360324084311611 17 88} {5363360324084311611 19 89}]
------------------------------------------------------
term 19 Server2 start snapshot! index=89
term 19 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76273 term 19 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 19 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 89 
------------------------------------------------------
flag 90411 term 19 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 19 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 89 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 19 89}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 19 89}]
------------------------------------------------------
term 19 Server0 start snapshot! index=89
term 19 Server1 start snapshot! index=89
term 19 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
term 19 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
flag 4961 term 19 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 19 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 89 
------------------------------------------------------
flag 45811 term 19 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 19 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 89 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 19 89}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 19 89}]
------------------------------------------------------
flag 17085 term 19 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 19 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 89 
------------------------------------------------------
flag 71010 term 19 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 19 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 89 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 19 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 19 89}]
------------------------------------------------------
flag 58872 term 19 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 19 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 89 
------------------------------------------------------
flag 17882 term 19 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 19 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 89 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 19 89}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 19 89}]
------------------------------------------------------
flag 85272 term 19 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 19 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 89 
------------------------------------------------------
flag 27090 term 19 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 19 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 89 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 19 89}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 19 89}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 64520 term 19 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 19 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 89 
------------------------------------------------------
flag 36441 term 19 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 19 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 89 
------------------------------------------------------
flag 5434 term 19 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 19 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 89 
------------------------------------------------------
flag 99721 term 19 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 19 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 89 
------------------------------------------------------
flag 99004 term 19 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 19 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 89 
------------------------------------------------------
flag 94062 term 19 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 19 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 90->89
------------------------------------------------------
flag 83439 term 19 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 19 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 89 
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 89
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 19
------------------------------------------------------
term 20 server 0 vote for server 1
term 20 server 1 get vote from server 0
term 20 server 1 become leader
------------------------------------------------------
flag 15871 term 20 leader 1 nextIndex[0]: 90  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 89 
------------------------------------------------------
flag 25494 term 20 leader 1 nextIndex[2]: 90  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 89 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 19 89}]
------------------------------------------------------
client write log 1326837741886400396 (index 90) to leader 1
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 90->89
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 0  matchIndex[0]: 89
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 19
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 89
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 19
------------------------------------------------------
flag 33894 term 20 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 20 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 89 
------------------------------------------------------
flag 11228 term 20 leader 1 nextIndex[2]: 90  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 89 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 19 89} {1326837741886400396 20 90}]
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 0  matchIndex[0]: 89
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 19
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 89
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 19
------------------------------------------------------
flag 36973 term 20 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 20 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 20 leaderCommit: 90 
------------------------------------------------------
flag 17230 term 20 leader 1 nextIndex[2]: 90  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 90 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 19 89} {1326837741886400396 20 90}]
------------------------------------------------------
client write log 6860217432330800535 (index 91) to leader 1
term 19 leader 2 nextIndex[0]: 0  matchIndex[0]: 89
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 19
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 89
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 19
------------------------------------------------------
flag 69387 term 20 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 20 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 20 leaderCommit: 90 
------------------------------------------------------
flag 35728 term 20 leader 1 nextIndex[2]: 90  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 90 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 19 89} {1326837741886400396 20 90} {6860217432330800535 20 91}]
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 0  matchIndex[0]: 89
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 19
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 89
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 19
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 90->89
------------------------------------------------------
flag 34345 term 20 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 20 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 20 leaderCommit: 91 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 19
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 19 89} {1326837741886400396 20 90} {6860217432330800535 20 91}]
------------------------------------------------------
!!!!!!connect server 2
client write log 418599203187057148 (index 92) to leader 1
term 19 leader 2 nextIndex[0]: 0  matchIndex[0]: 89
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 19
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 89
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 19
------------------------------------------------------
term 20 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 20 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29579 term 20 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 20 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 20 leaderCommit: 91 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 19
------------------------------------------------------
term 20 server 2 InstallSnapshot fail
rf.commitIndex 89 args.LastIncludedIndex 89
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 19 89} {1326837741886400396 20 90} {6860217432330800535 20 91} {418599203187057148 20 92}]
------------------------------------------------------
term 20 server 2 vote for server 1
term 20 server 1 get outdate rpc reply from server 2
flag 98051 term 20 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 20 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 20 leaderCommit: 92 
------------------------------------------------------
flag 35937 term 20 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 20 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 92 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 19 89} {1326837741886400396 20 90} {6860217432330800535 20 91} {418599203187057148 20 92}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 19 89} {1326837741886400396 20 90} {6860217432330800535 20 91} {418599203187057148 20 92}]
------------------------------------------------------
flag 89362 term 20 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 20 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 20 leaderCommit: 92 
------------------------------------------------------
flag 93061 term 20 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 20 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 20 leaderCommit: 92 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 19 89} {1326837741886400396 20 90} {6860217432330800535 20 91} {418599203187057148 20 92}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 19 89} {1326837741886400396 20 90} {6860217432330800535 20 91} {418599203187057148 20 92}]
------------------------------------------------------
flag 66241 term 20 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 20 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 20 leaderCommit: 92 
------------------------------------------------------
flag 16215 term 20 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 20 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 20 leaderCommit: 92 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 19 89} {1326837741886400396 20 90} {6860217432330800535 20 91} {418599203187057148 20 92}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 19 89} {1326837741886400396 20 90} {6860217432330800535 20 91} {418599203187057148 20 92}]
------------------------------------------------------
flag 94668 term 20 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 20 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 20 leaderCommit: 92 
------------------------------------------------------
flag 72398 term 20 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 20 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 20 leaderCommit: 92 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 19 89} {1326837741886400396 20 90} {6860217432330800535 20 91} {418599203187057148 20 92}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 19 89} {1326837741886400396 20 90} {6860217432330800535 20 91} {418599203187057148 20 92}]
------------------------------------------------------
term 20 server 1 not vote for server 0, 任期不够新
term 20 server 0 get outdate rpc reply from server 1
term 20 server 2 not vote for server 0, 任期不够新
term 20 server 0 get outdate rpc reply from server 2
flag 63336 term 20 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 20 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 20 leaderCommit: 92 
------------------------------------------------------
flag 67241 term 20 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 20 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 20 leaderCommit: 92 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 19 89} {1326837741886400396 20 90} {6860217432330800535 20 91} {418599203187057148 20 92}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 19 89} {1326837741886400396 20 90} {6860217432330800535 20 91} {418599203187057148 20 92}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 93->92
------------------------------------------------------
flag 61614 term 20 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 20 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 20 leaderCommit: 92 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 0  matchIndex[2]: 92
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 19
------------------------------------------------------
term 20 server 2 InstallSnapshot fail
rf.commitIndex 92 args.LastIncludedIndex 89
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 19 89} {1326837741886400396 20 90} {6860217432330800535 20 91} {418599203187057148 20 92}]
------------------------------------------------------
flag 7295 term 20 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 20 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 20 leaderCommit: 92 
------------------------------------------------------
flag 6188 term 20 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 20 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 92 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 19 89} {1326837741886400396 20 90} {6860217432330800535 20 91} {418599203187057148 20 92}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 19 89} {1326837741886400396 20 90} {6860217432330800535 20 91} {418599203187057148 20 92}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5613465129026504738 (index 93) to leader 1
flag 29339 term 20 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 20 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 20 leaderCommit: 92 
------------------------------------------------------
flag 46993 term 20 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 20 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 20 leaderCommit: 92 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 19 89} {1326837741886400396 20 90} {6860217432330800535 20 91} {418599203187057148 20 92} {5613465129026504738 20 93}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47121 term 20 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 20 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 20 leaderCommit: 93 
------------------------------------------------------
flag 61115 term 20 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 20 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 20 leaderCommit: 93 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 19 89} {1326837741886400396 20 90} {6860217432330800535 20 91} {418599203187057148 20 92} {5613465129026504738 20 93}]
------------------------------------------------------
client write log 6561156156633769570 (index 94) to leader 1
client write log 6686785001374545216 (index 95) to leader 1
client write log 7560706168455765764 (index 96) to leader 1
client write log 6566484843093275194 (index 97) to leader 1
client write log 8671389300314468419 (index 98) to leader 1
client write log 7409429153908805975 (index 99) to leader 1
client write log 4990616526054767887 (index 100) to leader 1
client write log 4135736982985069518 (index 101) to leader 1
client write log 4105514186004403763 (index 102) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36533 term 20 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 20 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 20 leaderCommit: 93 
------------------------------------------------------
flag 98033 term 20 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 20 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 20 leaderCommit: 93 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 19 89} {1326837741886400396 20 90} {6860217432330800535 20 91} {418599203187057148 20 92} {5613465129026504738 20 93} {6561156156633769570 20 94} {6686785001374545216 20 95} {7560706168455765764 20 96} {6566484843093275194 20 97} {8671389300314468419 20 98} {7409429153908805975 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102}]
------------------------------------------------------
term 20 Server1 start snapshot! index=99
term 20 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=102
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 93->92
------------------------------------------------------
flag 89967 term 20 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 20 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 0  matchIndex[2]: 92
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102}]
------------------------------------------------------
term 20 Server0 start snapshot! index=99
term 20 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=102
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2134138712716026087 (index 103) to leader 1
term 20 server 1 not vote for server 2, 日志不够新
term 20 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 22 server 2 vote for server 1
term 22 server 0 vote for server 1
term 22 server 1 get vote from server 2
term 22 server 1 become leader
------------------------------------------------------
term 22 server 1 get outdate rpc reply from server 0
flag 93942 term 22 leader 1 nextIndex[0]: 104  matchIndex[0]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
flag 46950 term 22 leader 1 nextIndex[2]: 104  matchIndex[2]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 22 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 22 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 104->103
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 104->103
------------------------------------------------------
flag 7499 term 22 leader 1 nextIndex[0]: 103  matchIndex[0]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 22 leader 1 nextIndex[2]: 93  matchIndex[2]: 0
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 20
------------------------------------------------------
term 22 server 2 InstallSnapshot success
------------------------------------------------------
term 22 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 20 rf.commitIndex 99 rf.lastApplied 99
flag 19132 term 22 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
flag 7335 term 22 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 22 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
term 22 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
flag 68353 term 22 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
flag 66527 term 22 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
flag 70349 term 22 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
flag 27936 term 22 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
term 22 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49311 term 22 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
flag 33896 term 22 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
flag 1058 term 22 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
flag 50660 term 22 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:102 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
flag 43268 term 22 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
flag 73956 term 22 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 22 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17277 term 22 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
flag 9297 term 22 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
term 22 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37160 term 22 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
flag 57173 term 22 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89912 term 22 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
flag 43871 term 22 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
flag 57958 term 22 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
flag 89564 term 22 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
flag 19185 term 22 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
flag 71566 term 22 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:102 
term 22 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
flag 5692 term 22 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
flag 64918 term 22 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2444 term 22 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
flag 63417 term 22 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 22 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8756 term 22 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
flag 80235 term 22 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
flag 50579 term 22 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
flag 99042 term 22 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51690 term 22 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
flag 14599 term 22 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
flag 66744 term 22 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
flag 55405 term 22 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
term 22 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 22 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33161 term 22 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
flag 5984 term 22 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103}]
------------------------------------------------------
client write log 2134138712716026087 (index 104) to leader 1
term 22 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9919 term 22 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
flag 5946 term 22 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 22 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103} {2134138712716026087 22 104}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103} {2134138712716026087 22 104}]
------------------------------------------------------
flag 71250 term 22 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 22 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
flag 89043 term 22 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103} {2134138712716026087 22 104}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103} {2134138712716026087 22 104}]
------------------------------------------------------
flag 29117 term 22 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 22 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
flag 43855 term 22 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103} {2134138712716026087 22 104}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103} {2134138712716026087 22 104}]
------------------------------------------------------
flag 42855 term 22 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 22 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
flag 9636 term 22 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103} {2134138712716026087 22 104}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103} {2134138712716026087 22 104}]
------------------------------------------------------
flag 95925 term 22 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 22 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
flag 32087 term 22 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103} {2134138712716026087 22 104}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103} {2134138712716026087 22 104}]
------------------------------------------------------
flag 30302 term 22 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 22 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
flag 96748 term 22 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103} {2134138712716026087 22 104}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103} {2134138712716026087 22 104}]
------------------------------------------------------
flag 9510 term 22 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 22 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
flag 17429 term 22 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103} {2134138712716026087 22 104}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103} {2134138712716026087 22 104}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3673178236090507355 (index 105) to leader 1
flag 98521 term 22 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 22 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
flag 41874 term 22 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 104 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103} {2134138712716026087 22 104} {3673178236090507355 22 105}]
------------------------------------------------------
flag 27638 term 22 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 22 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 22 leaderCommit: 105 
------------------------------------------------------
flag 92223 term 22 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 105 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103} {2134138712716026087 22 104} {3673178236090507355 22 105}]
------------------------------------------------------
client write log 6048020235182479201 (index 106) to leader 1
client write log 2640885659249790228 (index 107) to leader 1
client write log 2097423678290828092 (index 108) to leader 1
client write log 2722794831143569180 (index 109) to leader 1
client write log 5242931190544289959 (index 110) to leader 1
client write log 1015009603574666633 (index 111) to leader 1
client write log 5650962988504709976 (index 112) to leader 1
client write log 5726047436603098453 (index 113) to leader 1
client write log 6562639617080181290 (index 114) to leader 1
client write log 4439451581297841768 (index 115) to leader 1
client write log 2911151995703584695 (index 116) to leader 1
client write log 6076417450657894712 (index 117) to leader 1
client write log 375448418439226671 (index 118) to leader 1
flag 77400 term 22 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 22 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 22 leaderCommit: 105 
------------------------------------------------------
flag 45840 term 22 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 22 leaderCommit: 105 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 20 99} {4990616526054767887 20 100} {4135736982985069518 20 101} {4105514186004403763 20 102} {2134138712716026087 20 103} {2134138712716026087 22 104} {3673178236090507355 22 105} {6048020235182479201 22 106} {2640885659249790228 22 107} {2097423678290828092 22 108} {2722794831143569180 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118}]
------------------------------------------------------
term 22 Server1 start snapshot! index=109
term 22 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=118
-------------------------------------------------------------
flag 71242 term 22 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 22 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 22 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118}]
------------------------------------------------------
term 22 Server0 start snapshot! index=109
term 22 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=118
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5558047115555375456 (index 119) to leader 1
term 22 server 1 not vote for server 2, 日志不够新
term 22 server 0 not vote for server 2, 日志不够新
term 24 server 2 vote for server 1
term 24 server 1 get vote from server 2
term 24 server 1 become leader
------------------------------------------------------
term 24 server 0 vote for server 1
term 24 server 1 get outdate rpc reply from server 0
flag 42754 term 24 leader 1 nextIndex[0]: 120  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 45695 term 24 leader 1 nextIndex[2]: 120  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 24 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 24 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 120->119
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 120->119
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65212 term 24 leader 1 nextIndex[0]: 119  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 105  matchIndex[2]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 22
------------------------------------------------------
term 24 server 2 InstallSnapshot success
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 22 rf.commitIndex 109 rf.lastApplied 109
term 24 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
flag 91415 term 24 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 48796 term 24 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 24 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
flag 68833 term 24 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 16038 term 24 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
flag 39473 term 24 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 74273 term 24 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
flag 19353 term 24 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 35000 term 24 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35957 term 24 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 82985 term 24 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
flag 47039 term 24 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 48616 term 24 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
flag 29744 term 24 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 23123 term 24 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
flag 77588 term 24 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 2698 term 24 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23359 term 24 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 26074 term 24 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
flag 2572 term 24 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 79207 term 24 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
flag 83531 term 24 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 61526 term 24 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
flag 24921 term 24 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 42957 term 24 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97769 term 24 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 21548 term 24 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99302 term 24 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 36111 term 24 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42640 term 24 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 55980 term 24 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 90506 term 24 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 73866 term 24 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
term 24 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
flag 91110 term 24 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 62415 term 24 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119}]
------------------------------------------------------
client write log 5558047115555375456 (index 120) to leader 1
flag 80369 term 24 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 3079 term 24 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
term 24 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119} {5558047115555375456 24 120}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 109} {5242931190544289959 22 110} {1015009603574666633 22 111} {5650962988504709976 22 112} {5726047436603098453 22 113} {6562639617080181290 22 114} {4439451581297841768 22 115} {2911151995703584695 22 116} {6076417450657894712 22 117} {375448418439226671 22 118} {5558047115555375456 22 119} {5558047115555375456 24 120}]
------------------------------------------------------
term 24 Server1 start snapshot! index=119
term 24 server1 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=120
-------------------------------------------------------------
flag 74901 term 24 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
flag 48746 term 24 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {5558047115555375456 24 120}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {5558047115555375456 24 120}]
------------------------------------------------------
term 24 Server2 start snapshot! index=119
term 24 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=120
-------------------------------------------------------------
term 24 Server0 start snapshot! index=119
term 24 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=120
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91223 term 24 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
flag 25180 term 24 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {5558047115555375456 24 120}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {5558047115555375456 24 120}]
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39096 term 24 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
flag 20949 term 24 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {5558047115555375456 24 120}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {5558047115555375456 24 120}]
------------------------------------------------------
flag 46316 term 24 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
flag 16651 term 24 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {5558047115555375456 24 120}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {5558047115555375456 24 120}]
------------------------------------------------------
flag 94342 term 24 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
flag 67026 term 24 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {5558047115555375456 24 120}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {5558047115555375456 24 120}]
------------------------------------------------------
flag 43138 term 24 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
flag 79649 term 24 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {5558047115555375456 24 120}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {5558047115555375456 24 120}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 22152 term 24 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
flag 69910 term 24 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
flag 58029 term 24 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
flag 89558 term 24 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
flag 30039 term 24 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
flag 75199 term 24 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
term 25 server 2 vote for server 0
term 25 server 0 get vote from server 2
term 25 server 0 become leader
------------------------------------------------------
flag 99742 term 25 leader 0 nextIndex[1]: 121  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
flag 94664 term 25 leader 0 nextIndex[2]: 121  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {5558047115555375456 24 120}]
------------------------------------------------------
client write log 46196777704432827 (index 121) to leader 0
flag 49905 term 24 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
flag 18390 term 24 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
flag 90489 term 25 leader 0 nextIndex[1]: 121  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
flag 48359 term 25 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 25 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121}]
------------------------------------------------------
flag 61410 term 24 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
flag 29954 term 24 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
flag 70119 term 25 leader 0 nextIndex[1]: 121  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 121 
------------------------------------------------------
flag 64305 term 25 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 25 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 25 leaderCommit: 121 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121}]
------------------------------------------------------
client write log 8173254711057701034 (index 122) to leader 0
flag 95013 term 24 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
flag 77132 term 24 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
flag 38198 term 25 leader 0 nextIndex[1]: 121  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 121 
------------------------------------------------------
flag 53664 term 25 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 25 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 25 leaderCommit: 121 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
flag 13717 term 24 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
flag 3175 term 24 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
flag 40491 term 25 leader 0 nextIndex[1]: 121  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 122 
------------------------------------------------------
flag 26348 term 25 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
!!!!!!connect server 1
client write log 4237630600327099253 (index 121) to leader 1
flag 788 term 24 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
flag 61925 term 24 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
term 25 server 0 AppendEntries false 领导者任期过期 args.Term 24
------------------------------------------------------
term 25 server 2 AppendEntries false 领导者任期过期 args.Term 24
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9279 term 25 leader 0 nextIndex[1]: 121  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 122 
------------------------------------------------------
flag 73534 term 25 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
flag 82660 term 25 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
flag 55304 term 25 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
flag 46052 term 25 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
flag 60701 term 25 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
flag 66487 term 25 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
flag 43351 term 25 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
flag 5229 term 25 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
flag 41676 term 25 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 123->122
------------------------------------------------------
term 25 leader 0 nextIndex[1]: 0  matchIndex[1]: 122
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 22
------------------------------------------------------
flag 63395 term 25 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
term 25 server 1 InstallSnapshot fail
rf.commitIndex 122 args.LastIncludedIndex 119
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3632 term 25 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 25 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 122 
------------------------------------------------------
flag 39665 term 25 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
flag 83543 term 25 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
flag 79976 term 25 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
flag 83045 term 25 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
flag 85779 term 25 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
flag 4034 term 25 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
flag 83310 term 25 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 123->122
------------------------------------------------------
term 25 leader 0 nextIndex[1]: 0  matchIndex[1]: 122
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 22
------------------------------------------------------
flag 61520 term 25 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
term 25 server 1 InstallSnapshot fail
rf.commitIndex 122 args.LastIncludedIndex 119
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
flag 24315 term 25 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 25 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 122 
------------------------------------------------------
flag 89096 term 25 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81714 term 25 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
flag 36568 term 25 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
term 25 server 1 not vote for server 0, 日志不够新
term 25 server 0 get outdate rpc reply from server 1
flag 35262 term 25 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
flag 44597 term 25 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
flag 80864 term 25 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
flag 8608 term 25 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32790 term 25 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
flag 99334 term 25 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
term 25 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
flag 56931 term 25 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
flag 62039 term 25 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 123->122
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 leader 0 nextIndex[1]: 0  matchIndex[1]: 122
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 22
------------------------------------------------------
flag 72066 term 25 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
term 25 server 1 InstallSnapshot fail
rf.commitIndex 122 args.LastIncludedIndex 119
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
flag 47951 term 25 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 25 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 122 
------------------------------------------------------
flag 85235 term 25 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88598 term 25 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
flag 87833 term 25 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122}]
------------------------------------------------------
client write log 4237630600327099253 (index 123) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13419 term 25 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
flag 82940 term 25 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 25 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 25 leaderCommit: 122 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122} {4237630600327099253 25 123}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122} {4237630600327099253 25 123}]
------------------------------------------------------
flag 51874 term 25 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 25 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 25 leaderCommit: 123 
------------------------------------------------------
flag 36956 term 25 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 25 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 25 leaderCommit: 123 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122} {4237630600327099253 25 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122} {4237630600327099253 25 123}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13414 term 25 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 25 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 25 leaderCommit: 123 
------------------------------------------------------
flag 36709 term 25 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 25 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 25 leaderCommit: 123 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122} {4237630600327099253 25 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122} {4237630600327099253 25 123}]
------------------------------------------------------
flag 14922 term 25 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 25 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 25 leaderCommit: 123 
------------------------------------------------------
flag 89236 term 25 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 25 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 25 leaderCommit: 123 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122} {4237630600327099253 25 123}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122} {4237630600327099253 25 123}]
------------------------------------------------------
flag 54923 term 25 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 25 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 25 leaderCommit: 123 
------------------------------------------------------
flag 49779 term 25 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 25 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 25 leaderCommit: 123 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122} {4237630600327099253 25 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122} {4237630600327099253 25 123}]
------------------------------------------------------
flag 51931 term 25 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 25 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 25 leaderCommit: 123 
------------------------------------------------------
flag 73183 term 25 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 25 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 25 leaderCommit: 123 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
term 25 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122} {4237630600327099253 25 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122} {4237630600327099253 25 123}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5104887335273330563 (index 124) to leader 0
flag 72272 term 25 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 25 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 25 leaderCommit: 123 
------------------------------------------------------
flag 71170 term 25 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 25 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 25 leaderCommit: 123 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122} {4237630600327099253 25 123} {5104887335273330563 25 124}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93984 term 25 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 25 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 25 leaderCommit: 124 
------------------------------------------------------
flag 13198 term 25 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 25 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 25 leaderCommit: 124 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122} {4237630600327099253 25 123} {5104887335273330563 25 124}]
------------------------------------------------------
client write log 9063580447628638566 (index 125) to leader 0
client write log 1426785066994955545 (index 126) to leader 0
client write log 6410503314741923719 (index 127) to leader 0
client write log 5655554103958708322 (index 128) to leader 0
client write log 7529133128783661403 (index 129) to leader 0
client write log 7366730510385228623 (index 130) to leader 0
client write log 6355778479949162672 (index 131) to leader 0
client write log 6875123549541947315 (index 132) to leader 0
client write log 4556903462738727843 (index 133) to leader 0
client write log 2363809335660502397 (index 134) to leader 0
client write log 2554549186861676467 (index 135) to leader 0
flag 36957 term 25 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 25 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 25 leaderCommit: 124 
------------------------------------------------------
flag 59751 term 25 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 25 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 25 leaderCommit: 124 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 22 119} {5558047115555375456 24 120} {46196777704432827 25 121} {8173254711057701034 25 122} {4237630600327099253 25 123} {5104887335273330563 25 124} {9063580447628638566 25 125} {1426785066994955545 25 126} {6410503314741923719 25 127} {5655554103958708322 25 128} {7529133128783661403 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135}]
------------------------------------------------------
term 25 Server0 start snapshot! index=129
term 25 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=135
-------------------------------------------------------------
term 25 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 25
------------------------------------------------------
flag 85323 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135}]
------------------------------------------------------
term 25 Server2 start snapshot! index=129
term 25 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=135
-------------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
!!!!!!connect server 1
client write log 6472044900373187207 (index 136) to leader 0
term 25 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 server 2 not vote for server 1, 日志不够新
term 25 server 0 not vote for server 1, 日志不够新
term 27 server 2 vote for server 0
term 27 server 1 vote for server 0
term 27 server 0 get vote from server 2
term 27 server 0 become leader
------------------------------------------------------
term 27 server 0 get outdate rpc reply from server 1
flag 41182 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 4257 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 27 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 27 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 137->136
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 137->136
------------------------------------------------------
term 27 leader 0 nextIndex[1]: 124  matchIndex[1]: 0
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 25
------------------------------------------------------
flag 54248 term 27 leader 0 nextIndex[2]: 136  matchIndex[2]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 27 server 1 InstallSnapshot success
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
term 27 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 25 rf.commitIndex 129 rf.lastApplied 129
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
flag 52947 term 27 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 27 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 88902 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
flag 59830 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 83485 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
flag 51978 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 73232 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
flag 90915 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 63574 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
flag 62985 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 96721 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
flag 9107 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 66407 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
flag 45114 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 90498 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
flag 30002 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 63568 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
term 27 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24740 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 87850 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
flag 34553 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 2765 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
flag 61242 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 39521 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
flag 80335 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 48467 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
term 27 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
flag 46542 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 1638 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
flag 99145 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 44902 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
flag 26684 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 3099 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
flag 49302 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 89167 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
flag 28873 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 70719 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93876 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 65572 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6472044900373187207 (index 137) to leader 0
flag 32967 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 25615 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136} {6472044900373187207 27 137}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136} {6472044900373187207 27 137}]
------------------------------------------------------
flag 2768 term 27 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 27 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 27 leaderCommit: 137 
------------------------------------------------------
flag 92629 term 27 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 27 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 27 leaderCommit: 137 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136} {6472044900373187207 27 137}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136} {6472044900373187207 27 137}]
------------------------------------------------------
flag 12449 term 27 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 27 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 27 leaderCommit: 137 
------------------------------------------------------
flag 2546 term 27 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 27 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 27 leaderCommit: 137 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136} {6472044900373187207 27 137}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136} {6472044900373187207 27 137}]
------------------------------------------------------
flag 10822 term 27 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 27 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 27 leaderCommit: 137 
------------------------------------------------------
flag 16640 term 27 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 27 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 27 leaderCommit: 137 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136} {6472044900373187207 27 137}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136} {6472044900373187207 27 137}]
------------------------------------------------------
flag 3785 term 27 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 27 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 27 leaderCommit: 137 
------------------------------------------------------
flag 87269 term 27 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 27 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 27 leaderCommit: 137 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136} {6472044900373187207 27 137}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136} {6472044900373187207 27 137}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24835 term 27 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 27 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 27 leaderCommit: 137 
------------------------------------------------------
flag 67977 term 27 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 27 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 27 leaderCommit: 137 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136} {6472044900373187207 27 137}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136} {6472044900373187207 27 137}]
------------------------------------------------------
flag 7342 term 27 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 27 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 27 leaderCommit: 137 
------------------------------------------------------
flag 90607 term 27 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 27 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 27 leaderCommit: 137 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136} {6472044900373187207 27 137}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136} {6472044900373187207 27 137}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 755940258911671745 (index 138) to leader 0
flag 16514 term 27 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 27 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 27 leaderCommit: 137 
------------------------------------------------------
flag 82101 term 27 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 27 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 27 leaderCommit: 137 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=138
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136} {6472044900373187207 27 137} {755940258911671745 27 138}]
------------------------------------------------------
flag 85117 term 27 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 27 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 27 leaderCommit: 138 
------------------------------------------------------
flag 31749 term 27 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 27 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 27 leaderCommit: 138 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=138
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136} {6472044900373187207 27 137} {755940258911671745 27 138}]
------------------------------------------------------
client write log 62460825147197062 (index 139) to leader 0
client write log 672954686190604786 (index 140) to leader 0
client write log 5840638334250042665 (index 141) to leader 0
client write log 8572138627360033202 (index 142) to leader 0
client write log 6439974209041865038 (index 143) to leader 0
client write log 5718680087691434549 (index 144) to leader 0
client write log 8315584666276348002 (index 145) to leader 0
client write log 5204792448039399771 (index 146) to leader 0
client write log 5690820170474341815 (index 147) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46472 term 27 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 27 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 27 leaderCommit: 138 
------------------------------------------------------
flag 75740 term 27 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 27 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 27 leaderCommit: 138 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 25 129} {7366730510385228623 25 130} {6355778479949162672 25 131} {6875123549541947315 25 132} {4556903462738727843 25 133} {2363809335660502397 25 134} {2554549186861676467 25 135} {6472044900373187207 25 136} {6472044900373187207 27 137} {755940258911671745 27 138} {62460825147197062 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147}]
------------------------------------------------------
term 27 Server0 start snapshot! index=139
term 27 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=147
-------------------------------------------------------------
term 27 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 27
------------------------------------------------------
flag 25716 term 27 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 27 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147}]
------------------------------------------------------
term 27 Server2 start snapshot! index=139
term 27 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=147
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6948944371610538807 (index 148) to leader 0
term 27 server 2 not vote for server 1, 日志不够新
term 27 server 0 not vote for server 1, 日志不够新
term 29 server 2 vote for server 0
term 29 server 1 vote for server 0
term 29 server 0 get vote from server 2
term 29 server 0 become leader
------------------------------------------------------
term 29 server 0 get outdate rpc reply from server 1
flag 64261 term 29 leader 0 nextIndex[1]: 149  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
flag 39393 term 29 leader 0 nextIndex[2]: 149  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
term 29 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 149->148
------------------------------------------------------
term 29 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 149->148
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 leader 0 nextIndex[1]: 138  matchIndex[1]: 0
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 27
------------------------------------------------------
flag 9414 term 29 leader 0 nextIndex[2]: 148  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
term 29 server 1 InstallSnapshot success
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 27 rf.commitIndex 139 rf.lastApplied 139
term 29 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15888 term 29 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 29 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
flag 63096 term 29 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
flag 86760 term 29 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
flag 14510 term 29 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
flag 14671 term 29 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
flag 80873 term 29 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
flag 40430 term 29 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
flag 51389 term 29 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
flag 99494 term 29 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
flag 1565 term 29 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49959 term 29 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
flag 28396 term 29 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
flag 87476 term 29 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
flag 90666 term 29 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
flag 69531 term 29 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
flag 11908 term 29 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42573 term 29 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
flag 54175 term 29 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65429 term 29 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
flag 82137 term 29 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
flag 49869 term 29 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
flag 20639 term 29 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
flag 9530 term 29 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
flag 18572 term 29 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
flag 90516 term 29 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
flag 46653 term 29 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
flag 23112 term 29 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
flag 1282 term 29 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
flag 3330 term 29 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
flag 86169 term 29 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
flag 72436 term 29 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
flag 7127 term 29 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
flag 60057 term 29 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
flag 87482 term 29 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148}]
------------------------------------------------------
client write log 6948944371610538807 (index 149) to leader 0
flag 37229 term 29 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
flag 31128 term 29 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148} {6948944371610538807 29 149}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 27 139} {672954686190604786 27 140} {5840638334250042665 27 141} {8572138627360033202 27 142} {6439974209041865038 27 143} {5718680087691434549 27 144} {8315584666276348002 27 145} {5204792448039399771 27 146} {5690820170474341815 27 147} {6948944371610538807 27 148} {6948944371610538807 29 149}]
------------------------------------------------------
term 29 Server0 start snapshot! index=149
term 29 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
flag 82727 term 29 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 29 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
flag 82269 term 29 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 29 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 29 149}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 29 149}]
------------------------------------------------------
term 29 Server2 start snapshot! index=149
term 29 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
term 29 Server1 start snapshot! index=149
term 29 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
flag 7513 term 29 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 29 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
flag 8560 term 29 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 29 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 29 149}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 29 149}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96172 term 29 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 29 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
flag 20523 term 29 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 29 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 29 149}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 29 149}]
------------------------------------------------------
flag 57282 term 29 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 29 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
flag 31851 term 29 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 29 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 29 149}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 29 149}]
------------------------------------------------------
flag 6880 term 29 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 29 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
flag 39018 term 29 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 29 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 29 149}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 29 149}]
------------------------------------------------------
flag 85712 term 29 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 29 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
flag 72217 term 29 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 29 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 29 149}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 29 149}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 97441 term 29 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 29 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
flag 62652 term 29 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 29 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
flag 84448 term 29 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 29 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
flag 46514 term 29 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 29 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
flag 77509 term 29 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 29 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
flag 28402 term 29 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 29 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
term 30 server 2 vote for server 1
term 30 server 1 get vote from server 2
term 30 server 1 become leader
------------------------------------------------------
flag 37257 term 30 leader 1 nextIndex[0]: 150  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
flag 58120 term 30 leader 1 nextIndex[2]: 150  matchIndex[2]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 29 149}]
------------------------------------------------------
flag 3644 term 29 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 29 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
flag 81342 term 29 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 29 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
client write log 8212928060899196291 (index 150) to leader 1
flag 92821 term 30 leader 1 nextIndex[0]: 150  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
flag 6841 term 30 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 30 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 29 149} {8212928060899196291 30 150}]
------------------------------------------------------
flag 35858 term 29 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 29 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
flag 53721 term 29 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 29 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
flag 83056 term 30 leader 1 nextIndex[0]: 150  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 150 
------------------------------------------------------
flag 92075 term 30 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 30 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 30 leaderCommit: 150 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 29 149} {8212928060899196291 30 150}]
------------------------------------------------------
client write log 2412271850794649975 (index 151) to leader 1
client write log 7851561681224505897 (index 152) to leader 1
client write log 7083060183607540389 (index 153) to leader 1
client write log 7587104081910409325 (index 154) to leader 1
client write log 7576390403257059359 (index 155) to leader 1
client write log 6610832284334564719 (index 156) to leader 1
client write log 404800283816488361 (index 157) to leader 1
flag 25272 term 29 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 29 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
flag 76936 term 29 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 29 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
flag 92288 term 30 leader 1 nextIndex[0]: 150  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 150 
------------------------------------------------------
flag 83172 term 30 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 30 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 30 leaderCommit: 150 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 29 149} {8212928060899196291 30 150} {2412271850794649975 30 151} {7851561681224505897 30 152} {7083060183607540389 30 153} {7587104081910409325 30 154} {7576390403257059359 30 155} {6610832284334564719 30 156} {404800283816488361 30 157}]
------------------------------------------------------
flag 60664 term 29 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 29 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
flag 1800 term 29 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 29 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 150->149
------------------------------------------------------
flag 3466 term 30 leader 1 nextIndex[0]: 150  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 157 
------------------------------------------------------
flag 65229 term 30 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 30 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 30 leaderCommit: 157 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 29 149} {8212928060899196291 30 150} {2412271850794649975 30 151} {7851561681224505897 30 152} {7083060183607540389 30 153} {7587104081910409325 30 154} {7576390403257059359 30 155} {6610832284334564719 30 156} {404800283816488361 30 157}]
------------------------------------------------------
flag 30857 term 29 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
!!!!!!connect server 0
client write log 380562643736584378 (index 158) to leader 1
term 29 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 149 
------------------------------------------------------
term 29 leader 0 nextIndex[2]: 0  matchIndex[2]: 149
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 29
------------------------------------------------------
term 30 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 server 1 AppendEntries false 领导者任期过期 args.Term 29
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30397 term 30 leader 1 nextIndex[0]: 150  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 157 
------------------------------------------------------
flag 95712 term 30 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 30 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 30 leaderCommit: 157 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 29 149} {8212928060899196291 30 150} {2412271850794649975 30 151} {7851561681224505897 30 152} {7083060183607540389 30 153} {7587104081910409325 30 154} {7576390403257059359 30 155} {6610832284334564719 30 156} {404800283816488361 30 157} {380562643736584378 30 158}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 29 149} {8212928060899196291 30 150} {2412271850794649975 30 151} {7851561681224505897 30 152} {7083060183607540389 30 153} {7587104081910409325 30 154} {7576390403257059359 30 155} {6610832284334564719 30 156} {404800283816488361 30 157} {380562643736584378 30 158}]
------------------------------------------------------
flag 75698 term 30 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 30 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 30 leaderCommit: 158 
------------------------------------------------------
flag 28030 term 30 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 30 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 30 leaderCommit: 158 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 29 149} {8212928060899196291 30 150} {2412271850794649975 30 151} {7851561681224505897 30 152} {7083060183607540389 30 153} {7587104081910409325 30 154} {7576390403257059359 30 155} {6610832284334564719 30 156} {404800283816488361 30 157} {380562643736584378 30 158}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 29 149} {8212928060899196291 30 150} {2412271850794649975 30 151} {7851561681224505897 30 152} {7083060183607540389 30 153} {7587104081910409325 30 154} {7576390403257059359 30 155} {6610832284334564719 30 156} {404800283816488361 30 157} {380562643736584378 30 158}]
------------------------------------------------------
flag 95617 term 30 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 30 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 30 leaderCommit: 158 
------------------------------------------------------
flag 24079 term 30 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 30 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 30 leaderCommit: 158 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 29 149} {8212928060899196291 30 150} {2412271850794649975 30 151} {7851561681224505897 30 152} {7083060183607540389 30 153} {7587104081910409325 30 154} {7576390403257059359 30 155} {6610832284334564719 30 156} {404800283816488361 30 157} {380562643736584378 30 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 29 149} {8212928060899196291 30 150} {2412271850794649975 30 151} {7851561681224505897 30 152} {7083060183607540389 30 153} {7587104081910409325 30 154} {7576390403257059359 30 155} {6610832284334564719 30 156} {404800283816488361 30 157} {380562643736584378 30 158}]
------------------------------------------------------
flag 87950 term 30 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 30 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 30 leaderCommit: 158 
------------------------------------------------------
flag 62917 term 30 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 30 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 30 leaderCommit: 158 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 29 149} {8212928060899196291 30 150} {2412271850794649975 30 151} {7851561681224505897 30 152} {7083060183607540389 30 153} {7587104081910409325 30 154} {7576390403257059359 30 155} {6610832284334564719 30 156} {404800283816488361 30 157} {380562643736584378 30 158}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 29 149} {8212928060899196291 30 150} {2412271850794649975 30 151} {7851561681224505897 30 152} {7083060183607540389 30 153} {7587104081910409325 30 154} {7576390403257059359 30 155} {6610832284334564719 30 156} {404800283816488361 30 157} {380562643736584378 30 158}]
------------------------------------------------------
flag 78995 term 30 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 30 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 30 leaderCommit: 158 
------------------------------------------------------
flag 33510 term 30 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 30 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 30 leaderCommit: 158 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 29 149} {8212928060899196291 30 150} {2412271850794649975 30 151} {7851561681224505897 30 152} {7083060183607540389 30 153} {7587104081910409325 30 154} {7576390403257059359 30 155} {6610832284334564719 30 156} {404800283816488361 30 157} {380562643736584378 30 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 29 149} {8212928060899196291 30 150} {2412271850794649975 30 151} {7851561681224505897 30 152} {7083060183607540389 30 153} {7587104081910409325 30 154} {7576390403257059359 30 155} {6610832284334564719 30 156} {404800283816488361 30 157} {380562643736584378 30 158}]
------------------------------------------------------
flag 84173 term 30 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 30 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 30 leaderCommit: 158 
------------------------------------------------------
flag 59879 term 30 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 30 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 30 leaderCommit: 158 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 29 149} {8212928060899196291 30 150} {2412271850794649975 30 151} {7851561681224505897 30 152} {7083060183607540389 30 153} {7587104081910409325 30 154} {7576390403257059359 30 155} {6610832284334564719 30 156} {404800283816488361 30 157} {380562643736584378 30 158}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 29 149} {8212928060899196291 30 150} {2412271850794649975 30 151} {7851561681224505897 30 152} {7083060183607540389 30 153} {7587104081910409325 30 154} {7576390403257059359 30 155} {6610832284334564719 30 156} {404800283816488361 30 157} {380562643736584378 30 158}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2293674009379398230 (index 159) to leader 1
flag 42666 term 30 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 30 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 30 leaderCommit: 158 
------------------------------------------------------
flag 63455 term 30 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 30 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 30 leaderCommit: 158 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 29 149} {8212928060899196291 30 150} {2412271850794649975 30 151} {7851561681224505897 30 152} {7083060183607540389 30 153} {7587104081910409325 30 154} {7576390403257059359 30 155} {6610832284334564719 30 156} {404800283816488361 30 157} {380562643736584378 30 158} {2293674009379398230 30 159}]
------------------------------------------------------
term 30 Server1 start snapshot! index=159
term 30 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
flag 31655 term 30 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 30 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 30 leaderCommit: 159 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 30 159}]
------------------------------------------------------
term 30 Server0 start snapshot! index=159
term 30 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
client write log 6444907658745599332 (index 160) to leader 1
client write log 6754350285996503682 (index 161) to leader 1
client write log 8409474384126879267 (index 162) to leader 1
client write log 4708859362873859746 (index 163) to leader 1
client write log 9176595673399580329 (index 164) to leader 1
client write log 4766968844765110302 (index 165) to leader 1
client write log 8584985608322686191 (index 166) to leader 1
client write log 2181029190975165508 (index 167) to leader 1
client write log 5885753771948718683 (index 168) to leader 1
client write log 4610598756856906815 (index 169) to leader 1
client write log 6403355300319117080 (index 170) to leader 1
flag 84496 term 30 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 30 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 30 leaderCommit: 159 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 30 159} {6444907658745599332 30 160} {6754350285996503682 30 161} {8409474384126879267 30 162} {4708859362873859746 30 163} {9176595673399580329 30 164} {4766968844765110302 30 165} {8584985608322686191 30 166} {2181029190975165508 30 167} {5885753771948718683 30 168} {4610598756856906815 30 169} {6403355300319117080 30 170}]
------------------------------------------------------
term 30 Server1 start snapshot! index=169
term 30 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=170
-------------------------------------------------------------
flag 64402 term 30 leader 1 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170}]
------------------------------------------------------
term 30 Server0 start snapshot! index=169
term 30 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=170
-------------------------------------------------------------
!!!!!!connect server 2
client write log 17513249590083493 (index 171) to leader 1
term 30 server 0 not vote for server 1, 日志不够新
term 30 server 1 get outdate rpc reply from server 0
flag 25310 term 30 leader 1 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
term 31 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 30 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 2 vote for server 1
term 32 server 1 get vote from server 2
term 32 server 1 become leader
------------------------------------------------------
term 32 server 0 vote for server 1
term 32 server 1 get outdate rpc reply from server 0
flag 67418 term 32 leader 1 nextIndex[0]: 172  matchIndex[0]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 26477 term 32 leader 1 nextIndex[2]: 172  matchIndex[2]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 172->171
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1903 term 32 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 159  matchIndex[2]: 0
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
term 32 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
rf.lastIncludedIndex 169 rf.lastIncludedTerm 30 rf.commitIndex 169 rf.lastApplied 169
term 32 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59601 term 32 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 4516 term 32 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 32 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41844 term 32 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 75987 term 32 leader 1 nextIndex[2]: 172  matchIndex[2]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
term 32 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 53023 term 32 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 62190 term 32 leader 1 nextIndex[2]: 172  matchIndex[2]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
flag 19594 term 32 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 60411 term 32 leader 1 nextIndex[2]: 172  matchIndex[2]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50216 term 32 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 82054 term 32 leader 1 nextIndex[2]: 172  matchIndex[2]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
flag 56878 term 32 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 67974 term 32 leader 1 nextIndex[2]: 172  matchIndex[2]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
flag 12002 term 32 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 60641 term 32 leader 1 nextIndex[2]: 172  matchIndex[2]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
flag 97844 term 32 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 30326 term 32 leader 1 nextIndex[2]: 172  matchIndex[2]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
flag 6922 term 32 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 20743 term 32 leader 1 nextIndex[2]: 172  matchIndex[2]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
flag 59585 term 32 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 23192 term 32 leader 1 nextIndex[2]: 172  matchIndex[2]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70267 term 32 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 73764 term 32 leader 1 nextIndex[2]: 172  matchIndex[2]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96067 term 32 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 48967 term 32 leader 1 nextIndex[2]: 172  matchIndex[2]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
flag 56944 term 32 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 9487 term 32 leader 1 nextIndex[2]: 172  matchIndex[2]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
flag 17824 term 32 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 2677 term 32 leader 1 nextIndex[2]: 172  matchIndex[2]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14414 term 32 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 91889 term 32 leader 1 nextIndex[2]: 172  matchIndex[2]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
flag 90336 term 32 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 86131 term 32 leader 1 nextIndex[2]: 172  matchIndex[2]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
flag 89984 term 32 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 49924 term 32 leader 1 nextIndex[2]: 172  matchIndex[2]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171}]
------------------------------------------------------
client write log 17513249590083493 (index 172) to leader 1
flag 11370 term 32 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 74702 term 32 leader 1 nextIndex[2]: 172  matchIndex[2]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171} {17513249590083493 32 172}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171} {17513249590083493 32 172}]
------------------------------------------------------
flag 57596 term 32 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 32 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 32 leaderCommit: 172 
------------------------------------------------------
flag 54971 term 32 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 32 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 32 leaderCommit: 172 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171} {17513249590083493 32 172}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171} {17513249590083493 32 172}]
------------------------------------------------------
flag 96763 term 32 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 32 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 32 leaderCommit: 172 
------------------------------------------------------
flag 22870 term 32 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 32 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 32 leaderCommit: 172 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171} {17513249590083493 32 172}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171} {17513249590083493 32 172}]
------------------------------------------------------
flag 87262 term 32 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 32 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 32 leaderCommit: 172 
------------------------------------------------------
flag 23765 term 32 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 32 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 32 leaderCommit: 172 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171} {17513249590083493 32 172}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171} {17513249590083493 32 172}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82644 term 32 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 32 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 32 leaderCommit: 172 
------------------------------------------------------
flag 66125 term 32 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 32 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 32 leaderCommit: 172 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171} {17513249590083493 32 172}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171} {17513249590083493 32 172}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72221 term 32 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 32 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 32 leaderCommit: 172 
------------------------------------------------------
flag 75825 term 32 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 32 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 32 leaderCommit: 172 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171} {17513249590083493 32 172}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171} {17513249590083493 32 172}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6017338076474291627 (index 173) to leader 1
flag 17935 term 32 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 32 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 32 leaderCommit: 172 
------------------------------------------------------
flag 72560 term 32 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 32 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 32 leaderCommit: 172 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171} {17513249590083493 32 172} {6017338076474291627 32 173}]
------------------------------------------------------
flag 66377 term 32 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 32 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 32 leaderCommit: 173 
------------------------------------------------------
flag 29867 term 32 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 32 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 32 leaderCommit: 173 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171} {17513249590083493 32 172} {6017338076474291627 32 173}]
------------------------------------------------------
client write log 5836702736006548243 (index 174) to leader 1
client write log 7071514429409362375 (index 175) to leader 1
client write log 6692580224112619804 (index 176) to leader 1
client write log 587095977281709409 (index 177) to leader 1
client write log 861903719880406443 (index 178) to leader 1
client write log 5034440001973160430 (index 179) to leader 1
client write log 3333472552035707217 (index 180) to leader 1
client write log 1659011649534090733 (index 181) to leader 1
client write log 7929408015400271411 (index 182) to leader 1
client write log 2127382785159452954 (index 183) to leader 1
client write log 5236921193085300472 (index 184) to leader 1
client write log 9036029992375074219 (index 185) to leader 1
client write log 8626101936289990305 (index 186) to leader 1
client write log 7126795002904004331 (index 187) to leader 1
flag 25618 term 32 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 32 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 32 leaderCommit: 173 
------------------------------------------------------
flag 92254 term 32 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 32 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 32 leaderCommit: 173 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 169} {6403355300319117080 30 170} {17513249590083493 30 171} {17513249590083493 32 172} {6017338076474291627 32 173} {5836702736006548243 32 174} {7071514429409362375 32 175} {6692580224112619804 32 176} {587095977281709409 32 177} {861903719880406443 32 178} {5034440001973160430 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187}]
------------------------------------------------------
term 32 Server1 start snapshot! index=179
term 32 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=187
-------------------------------------------------------------
flag 32732 term 32 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187}]
------------------------------------------------------
term 32 Server0 start snapshot! index=179
term 32 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=187
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4505699641859371593 (index 188) to leader 1
term 32 server 1 not vote for server 2, 日志不够新
term 32 server 0 not vote for server 2, 日志不够新
term 34 server 2 vote for server 1
term 34 server 1 get vote from server 2
term 34 server 1 become leader
------------------------------------------------------
term 34 server 0 vote for server 1
term 34 server 1 get outdate rpc reply from server 0
flag 52189 term 34 leader 1 nextIndex[0]: 189  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 1969 term 34 leader 1 nextIndex[2]: 189  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 34 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 189->188
------------------------------------------------------
term 34 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 189->188
------------------------------------------------------
flag 37258 term 34 leader 1 nextIndex[0]: 188  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 173  matchIndex[2]: 0
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 32
------------------------------------------------------
term 34 server 2 InstallSnapshot success
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 32 rf.commitIndex 179 rf.lastApplied 179
term 34 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54007 term 34 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 45924 term 34 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 34 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53 term 34 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 46083 term 34 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
flag 88930 term 34 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 77292 term 34 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
term 34 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
flag 51748 term 34 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 39254 term 34 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
flag 99434 term 34 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 98683 term 34 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89352 term 34 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 897 term 34 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68423 term 34 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 40204 term 34 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
flag 78861 term 34 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 14712 term 34 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
flag 42659 term 34 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 19421 term 34 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
flag 99281 term 34 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 72113 term 34 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58638 term 34 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 14790 term 34 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
flag 63615 term 34 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 45969 term 34 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42305 term 34 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 21688 term 34 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4139 term 34 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 82814 term 34 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
flag 55624 term 34 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 29540 term 34 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
flag 76469 term 34 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 45230 term 34 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81099 term 34 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 95752 term 34 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188}]
------------------------------------------------------
client write log 4505699641859371593 (index 189) to leader 1
flag 5539 term 34 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 53814 term 34 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 34 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188} {4505699641859371593 34 189}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 32 179} {3333472552035707217 32 180} {1659011649534090733 32 181} {7929408015400271411 32 182} {2127382785159452954 32 183} {5236921193085300472 32 184} {9036029992375074219 32 185} {8626101936289990305 32 186} {7126795002904004331 32 187} {4505699641859371593 32 188} {4505699641859371593 34 189}]
------------------------------------------------------
term 34 Server1 start snapshot! index=189
term 34 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
flag 17920 term 34 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 34 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 52418 term 34 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
term 34 Server2 start snapshot! index=189
term 34 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
term 34 Server0 start snapshot! index=189
term 34 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
flag 1852 term 34 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 34 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 42700 term 34 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
flag 94902 term 34 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 34 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 2044 term 34 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
flag 88556 term 34 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 34 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 82912 term 34 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
flag 46244 term 34 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 34 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 10841 term 34 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
flag 1787 term 34 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 34 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 55065 term 34 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
!!!!!!diconnect server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49398 term 34 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 34 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 29188 term 34 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 59327 term 34 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 34 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 41949 term 34 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 0 not vote for server 2, 任期不够新
term 34 server 2 get outdate rpc reply from server 0
flag 76910 term 34 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 34 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 90324 term 34 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 35 server 0 vote for server 2
term 35 server 2 get vote from server 0
term 35 server 2 become leader
------------------------------------------------------
client write log 6311521389529408809 (index 190) to leader 2
flag 70261 term 35 leader 2 nextIndex[0]: 190  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 83676 term 35 leader 2 nextIndex[1]: 190  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 34 189} {6311521389529408809 35 190}]
------------------------------------------------------
flag 36475 term 34 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 34 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 60621 term 34 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 18410 term 35 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 35 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 35 leaderCommit: 190 
------------------------------------------------------
flag 9170 term 35 leader 2 nextIndex[1]: 190  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 34 189} {6311521389529408809 35 190}]
------------------------------------------------------
client write log 6169848087779540804 (index 191) to leader 2
client write log 5109127589476861234 (index 192) to leader 2
client write log 6997084458844903155 (index 193) to leader 2
client write log 6966536627850906829 (index 194) to leader 2
client write log 1628844720505913129 (index 195) to leader 2
client write log 4849173712141181269 (index 196) to leader 2
client write log 8060672610440969010 (index 197) to leader 2
client write log 2271434693107416366 (index 198) to leader 2
client write log 2546237465926552751 (index 199) to leader 2
client write log 5411125161506098597 (index 200) to leader 2
client write log 5604901312408765726 (index 201) to leader 2
client write log 2190603070483261422 (index 202) to leader 2
client write log 7234808000740649956 (index 203) to leader 2
client write log 1451675196999888400 (index 204) to leader 2
flag 40082 term 34 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 34 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 29694 term 34 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 49358 term 35 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 35 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 35 leaderCommit: 190 
------------------------------------------------------
flag 72140 term 35 leader 2 nextIndex[1]: 190  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 34 189} {6311521389529408809 35 190} {6169848087779540804 35 191} {5109127589476861234 35 192} {6997084458844903155 35 193} {6966536627850906829 35 194} {1628844720505913129 35 195} {4849173712141181269 35 196} {8060672610440969010 35 197} {2271434693107416366 35 198} {2546237465926552751 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
term 35 Server2 start snapshot! index=199
term 35 server2 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=204
-------------------------------------------------------------
flag 64020 term 34 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 34 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 75467 term 34 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 190->189
------------------------------------------------------
flag 29334 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 leader 2 nextIndex[1]: 190  matchIndex[1]: 0
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
term 35 Server0 start snapshot! index=199
term 35 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=204
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3558666364894498683 (index 190) to leader 1
term 34 leader 1 nextIndex[0]: 0  matchIndex[0]: 189
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 34
------------------------------------------------------
flag 70011 term 34 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries false 领导者任期过期 args.Term 34
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 35 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 35 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27655 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 leader 2 nextIndex[1]: 190  matchIndex[1]: 0
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 1 InstallSnapshot success
------------------------------------------------------
term 35 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 35 rf.commitIndex 199 rf.lastApplied 199
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
flag 10785 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
flag 56905 term 35 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 35 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
flag 11727 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
flag 17295 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
flag 43594 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
flag 96089 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
flag 21590 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
flag 30304 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30906 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
flag 52191 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
flag 41176 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
flag 21683 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
flag 48921 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
flag 65925 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
flag 59443 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
flag 46626 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
flag 43184 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
flag 41589 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
flag 13734 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
flag 10473 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
flag 8960 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
flag 14819 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
flag 72244 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
flag 18712 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
flag 84820 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
flag 63653 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
flag 97708 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
flag 91960 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
flag 7922 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
flag 44547 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 205->204
------------------------------------------------------
flag 20338 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 leader 2 nextIndex[1]: 0  matchIndex[1]: 204
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 1 InstallSnapshot fail
rf.commitIndex 204 args.LastIncludedIndex 199
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
term 35 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 200->199
------------------------------------------------------
flag 55550 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 leader 2 nextIndex[1]: 0  matchIndex[1]: 199
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 1 InstallSnapshot fail
rf.commitIndex 204 args.LastIncludedIndex 199
------------------------------------------------------
term 35 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
term 35 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31738 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
flag 48745 term 35 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 35 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
term 35 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
flag 12399 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
flag 83045 term 35 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 35 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204}]
------------------------------------------------------
client write log 3558666364894498683 (index 205) to leader 2
flag 14628 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
flag 28224 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204} {3558666364894498683 35 205}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204} {3558666364894498683 35 205}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1907 term 35 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 35 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 56427 term 35 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 35 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204} {3558666364894498683 35 205}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204} {3558666364894498683 35 205}]
------------------------------------------------------
flag 4649 term 35 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 35 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 80263 term 35 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 35 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204} {3558666364894498683 35 205}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204} {3558666364894498683 35 205}]
------------------------------------------------------
flag 25938 term 35 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 35 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 50448 term 35 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 35 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204} {3558666364894498683 35 205}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204} {3558666364894498683 35 205}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44901 term 35 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 35 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 2493 term 35 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 35 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204} {3558666364894498683 35 205}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204} {3558666364894498683 35 205}]
------------------------------------------------------
flag 41168 term 35 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 35 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 56642 term 35 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 35 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204} {3558666364894498683 35 205}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204} {3558666364894498683 35 205}]
------------------------------------------------------
flag 60321 term 35 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 35 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 73163 term 35 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 35 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204} {3558666364894498683 35 205}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204} {3558666364894498683 35 205}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1297514573571619519 (index 206) to leader 2
flag 46891 term 35 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 35 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 73521 term 35 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 35 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204} {3558666364894498683 35 205} {1297514573571619519 35 206}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18501 term 35 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 35 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 46717 term 35 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204} {3558666364894498683 35 205} {1297514573571619519 35 206}]
------------------------------------------------------
client write log 2353163642686982584 (index 207) to leader 2
client write log 6625157913541781506 (index 208) to leader 2
client write log 947695944676312665 (index 209) to leader 2
client write log 1286250551916657653 (index 210) to leader 2
client write log 7729714769726177987 (index 211) to leader 2
client write log 2815240126946298207 (index 212) to leader 2
client write log 6128630560384248701 (index 213) to leader 2
client write log 1785178681317009850 (index 214) to leader 2
client write log 5288466156251034911 (index 215) to leader 2
client write log 4808198672502959022 (index 216) to leader 2
client write log 6051036617089386666 (index 217) to leader 2
client write log 2572328921151315543 (index 218) to leader 2
client write log 5665578315653516012 (index 219) to leader 2
flag 22860 term 35 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 35 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 93543 term 35 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 35 199} {5411125161506098597 35 200} {5604901312408765726 35 201} {2190603070483261422 35 202} {7234808000740649956 35 203} {1451675196999888400 35 204} {3558666364894498683 35 205} {1297514573571619519 35 206} {2353163642686982584 35 207} {6625157913541781506 35 208} {947695944676312665 35 209} {1286250551916657653 35 210} {7729714769726177987 35 211} {2815240126946298207 35 212} {6128630560384248701 35 213} {1785178681317009850 35 214} {5288466156251034911 35 215} {4808198672502959022 35 216} {6051036617089386666 35 217} {2572328921151315543 35 218} {5665578315653516012 35 219}]
------------------------------------------------------
term 35 Server2 start snapshot! index=209
term 35 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=219
-------------------------------------------------------------
term 35 Server2 start snapshot! index=219
term 35 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
term 35 server 1 not vote for server 2, 日志不够新
term 35 server 2 get outdate rpc reply from server 1
term 35 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 35
------------------------------------------------------
flag 37061 term 35 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 35 219}]
------------------------------------------------------
term 35 Server1 start snapshot! index=209
term 35 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=219
-------------------------------------------------------------
term 35 Server1 start snapshot! index=219
term 35 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 0
client write log 1812251554412380091 (index 220) to leader 2
term 35 server 2 not vote for server 0, 日志不够新
term 35 server 1 not vote for server 0, 日志不够新
term 37 server 1 vote for server 2
term 37 server 0 vote for server 2
term 37 server 2 get vote from server 1
term 37 server 2 become leader
------------------------------------------------------
term 37 server 2 get outdate rpc reply from server 0
flag 10661 term 37 leader 2 nextIndex[0]: 221  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
flag 60076 term 37 leader 2 nextIndex[1]: 221  matchIndex[1]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 37 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 37 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 221->220
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 221->220
------------------------------------------------------
term 37 leader 2 nextIndex[0]: 206  matchIndex[0]: 0
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 35
------------------------------------------------------
flag 31708 term 37 leader 2 nextIndex[1]: 220  matchIndex[1]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
term 37 server 0 InstallSnapshot success
------------------------------------------------------
term 37 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 35 rf.commitIndex 219 rf.lastApplied 219
flag 11159 term 37 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 37 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
flag 57147 term 37 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
flag 64903 term 37 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
flag 18738 term 37 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13855 term 37 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
flag 99524 term 37 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
term 37 server 1 not vote for server 2, 任期不够新
term 37 server 2 get outdate rpc reply from server 1
flag 8119 term 37 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
flag 75773 term 37 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44844 term 37 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
flag 57725 term 37 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
flag 1619 term 37 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
flag 34995 term 37 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
flag 30476 term 37 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
flag 26170 term 37 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
flag 57874 term 37 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
flag 46042 term 37 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
flag 94820 term 37 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
flag 74812 term 37 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
flag 97446 term 37 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
flag 40477 term 37 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
flag 37185 term 37 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
flag 16596 term 37 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19557 term 37 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
flag 70884 term 37 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
flag 12486 term 37 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
flag 22003 term 37 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
flag 23865 term 37 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
flag 854 term 37 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45247 term 37 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
flag 37239 term 37 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36612 term 37 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
flag 16072 term 37 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
flag 63350 term 37 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
flag 88426 term 37 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73560 term 37 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
flag 81398 term 37 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 35 219} {1812251554412380091 35 220}]
------------------------------------------------------
client write log 1812251554412380091 (index 221) to leader 2
flag 1871 term 37 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
flag 41358 term 37 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {1812251554412380091 35 220} {1812251554412380091 37 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {1812251554412380091 35 220} {1812251554412380091 37 221}]
------------------------------------------------------
flag 9461 term 37 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
flag 69500 term 37 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {1812251554412380091 35 220} {1812251554412380091 37 221}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {1812251554412380091 35 220} {1812251554412380091 37 221}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68985 term 37 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
flag 33029 term 37 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {1812251554412380091 35 220} {1812251554412380091 37 221}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {1812251554412380091 35 220} {1812251554412380091 37 221}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24177 term 37 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
flag 42221 term 37 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {1812251554412380091 35 220} {1812251554412380091 37 221}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {1812251554412380091 35 220} {1812251554412380091 37 221}]
------------------------------------------------------
flag 99839 term 37 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
flag 60377 term 37 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {1812251554412380091 35 220} {1812251554412380091 37 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {1812251554412380091 35 220} {1812251554412380091 37 221}]
------------------------------------------------------
flag 86187 term 37 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
flag 89245 term 37 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {1812251554412380091 35 220} {1812251554412380091 37 221}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {1812251554412380091 35 220} {1812251554412380091 37 221}]
------------------------------------------------------
flag 49520 term 37 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
flag 43046 term 37 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {1812251554412380091 35 220} {1812251554412380091 37 221}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {1812251554412380091 35 220} {1812251554412380091 37 221}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8648242304277568085 (index 222) to leader 2
flag 42881 term 37 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
flag 18342 term 37 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 35 219} {1812251554412380091 35 220} {1812251554412380091 37 221} {8648242304277568085 37 222}]
------------------------------------------------------
flag 8711 term 37 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 222 
------------------------------------------------------
flag 68478 term 37 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 37 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 37 leaderCommit: 222 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 35 219} {1812251554412380091 35 220} {1812251554412380091 37 221} {8648242304277568085 37 222}]
------------------------------------------------------
client write log 5016014769149061333 (index 223) to leader 2
client write log 6813644832400117059 (index 224) to leader 2
client write log 1704207386584403967 (index 225) to leader 2
client write log 8178999111515319191 (index 226) to leader 2
client write log 5293669481097056025 (index 227) to leader 2
client write log 3139879182566811249 (index 228) to leader 2
client write log 3216810193188753175 (index 229) to leader 2
client write log 60970847095661631 (index 230) to leader 2
client write log 64210541074040541 (index 231) to leader 2
client write log 1107546715744998210 (index 232) to leader 2
client write log 5817402256615129878 (index 233) to leader 2
flag 68838 term 37 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 222 
------------------------------------------------------
flag 41761 term 37 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 37 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 37 leaderCommit: 222 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 35 219} {1812251554412380091 35 220} {1812251554412380091 37 221} {8648242304277568085 37 222} {5016014769149061333 37 223} {6813644832400117059 37 224} {1704207386584403967 37 225} {8178999111515319191 37 226} {5293669481097056025 37 227} {3139879182566811249 37 228} {3216810193188753175 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233}]
------------------------------------------------------
term 37 Server2 start snapshot! index=229
term 37 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=233
-------------------------------------------------------------
term 37 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 37
------------------------------------------------------
flag 60509 term 37 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 37 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233}]
------------------------------------------------------
term 37 Server1 start snapshot! index=229
term 37 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=233
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3365479142210183799 (index 234) to leader 2
term 37 server 2 not vote for server 0, 日志不够新
term 37 server 1 not vote for server 0, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 server 1 vote for server 2
term 39 server 0 vote for server 2
term 39 server 2 get vote from server 1
term 39 server 2 become leader
------------------------------------------------------
term 39 server 2 get outdate rpc reply from server 0
flag 25896 term 39 leader 2 nextIndex[0]: 235  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 21887 term 39 leader 2 nextIndex[1]: 235  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 39 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 235->234
------------------------------------------------------
term 39 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 235->234
------------------------------------------------------
term 39 leader 2 nextIndex[0]: 222  matchIndex[0]: 0
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 37
------------------------------------------------------
flag 5214 term 39 leader 2 nextIndex[1]: 234  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 39 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 37 rf.commitIndex 229 rf.lastApplied 229
flag 79197 term 39 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 39 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 19751 term 39 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
flag 40735 term 39 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 81148 term 39 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
flag 36688 term 39 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 36631 term 39 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
flag 63534 term 39 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 97112 term 39 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
flag 83476 term 39 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 21773 term 39 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
flag 73196 term 39 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 62023 term 39 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
flag 84419 term 39 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 61281 term 39 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
flag 89602 term 39 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 49354 term 39 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
flag 46512 term 39 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 76098 term 39 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
flag 33517 term 39 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 34686 term 39 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66431 term 39 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 7432 term 39 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
flag 40959 term 39 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 48448 term 39 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
flag 51664 term 39 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 26147 term 39 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
flag 57917 term 39 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 83905 term 39 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
flag 33788 term 39 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 21593 term 39 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
flag 77337 term 39 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 56550 term 39 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
flag 4589 term 39 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 48215 term 39 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
flag 93457 term 39 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 56194 term 39 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234}]
------------------------------------------------------
client write log 3365479142210183799 (index 235) to leader 2
flag 12857 term 39 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 76330 term 39 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 39 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235}]
------------------------------------------------------
flag 72092 term 39 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 23744 term 39 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235}]
------------------------------------------------------
flag 36670 term 39 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 98219 term 39 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235}]
------------------------------------------------------
flag 87409 term 39 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 65018 term 39 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:235 
term 39 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235}]
------------------------------------------------------
flag 79851 term 39 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 36044 term 39 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235}]
------------------------------------------------------
flag 36875 term 39 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 39797 term 39 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 21420 term 39 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 22239 term 39 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 43576 term 39 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 42288 term 39 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 27580 term 39 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 97041 term 39 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 18968 term 39 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 83693 term 39 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 40 server 0 vote for server 1
term 40 server 1 get vote from server 0
term 40 server 1 become leader
------------------------------------------------------
flag 44125 term 40 leader 1 nextIndex[0]: 236  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 75375 term 40 leader 1 nextIndex[2]: 236  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235}]
------------------------------------------------------
client write log 7718184528919913678 (index 236) to leader 1
flag 96373 term 39 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 68393 term 39 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 31937 term 40 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 40 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 87688 term 40 leader 1 nextIndex[2]: 236  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235} {7718184528919913678 40 236}]
------------------------------------------------------
flag 38704 term 39 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 63880 term 39 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 92768 term 40 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 40 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
flag 11260 term 40 leader 1 nextIndex[2]: 236  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 236 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235} {7718184528919913678 40 236}]
------------------------------------------------------
client write log 3245698149798934965 (index 237) to leader 1
flag 11404 term 39 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 78682 term 39 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 59358 term 40 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 40 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
flag 66567 term 40 leader 1 nextIndex[2]: 236  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 236 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235} {7718184528919913678 40 236} {3245698149798934965 40 237}]
------------------------------------------------------
flag 23356 term 39 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 25899 term 39 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 236->235
------------------------------------------------------
flag 92275 term 40 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 40 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 40 leaderCommit: 237 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 37
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235} {7718184528919913678 40 236} {3245698149798934965 40 237}]
------------------------------------------------------
!!!!!!connect server 2
client write log 2073207601947028966 (index 238) to leader 1
flag 19306 term 39 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 40744 term 39 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 40 server 1 AppendEntries false 领导者任期过期 args.Term 39
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 40 server 0 AppendEntries false 领导者任期过期 args.Term 39
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22675 term 40 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 40 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 40 leaderCommit: 237 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 37
------------------------------------------------------
term 40 server 2 InstallSnapshot fail
rf.commitIndex 235 args.LastIncludedIndex 229
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 230 matchIndex[2] 229 
------------------------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235} {7718184528919913678 40 236} {3245698149798934965 40 237} {2073207601947028966 40 238}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59882 term 40 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 40 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
flag 25853 term 40 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235} {7718184528919913678 40 236} {3245698149798934965 40 237} {2073207601947028966 40 238}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235} {7718184528919913678 40 236} {3245698149798934965 40 237} {2073207601947028966 40 238}]
------------------------------------------------------
flag 14478 term 40 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 40 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
flag 51813 term 40 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 40 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235} {7718184528919913678 40 236} {3245698149798934965 40 237} {2073207601947028966 40 238}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235} {7718184528919913678 40 236} {3245698149798934965 40 237} {2073207601947028966 40 238}]
------------------------------------------------------
flag 55677 term 40 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 40 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
flag 55861 term 40 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 40 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235} {7718184528919913678 40 236} {3245698149798934965 40 237} {2073207601947028966 40 238}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235} {7718184528919913678 40 236} {3245698149798934965 40 237} {2073207601947028966 40 238}]
------------------------------------------------------
flag 85189 term 40 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 40 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
flag 27767 term 40 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 40 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235} {7718184528919913678 40 236} {3245698149798934965 40 237} {2073207601947028966 40 238}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235} {7718184528919913678 40 236} {3245698149798934965 40 237} {2073207601947028966 40 238}]
------------------------------------------------------
flag 95436 term 40 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 40 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
flag 32515 term 40 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 40 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235} {7718184528919913678 40 236} {3245698149798934965 40 237} {2073207601947028966 40 238}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235} {7718184528919913678 40 236} {3245698149798934965 40 237} {2073207601947028966 40 238}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94733 term 40 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 40 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
flag 21959 term 40 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 40 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235} {7718184528919913678 40 236} {3245698149798934965 40 237} {2073207601947028966 40 238}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235} {7718184528919913678 40 236} {3245698149798934965 40 237} {2073207601947028966 40 238}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2073712869518654393 (index 239) to leader 1
flag 24498 term 40 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 40 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
flag 25067 term 40 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 40 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 37 229} {60970847095661631 37 230} {64210541074040541 37 231} {1107546715744998210 37 232} {5817402256615129878 37 233} {3365479142210183799 37 234} {3365479142210183799 39 235} {7718184528919913678 40 236} {3245698149798934965 40 237} {2073207601947028966 40 238} {2073712869518654393 40 239}]
------------------------------------------------------
term 40 Server1 start snapshot! index=239
term 40 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60732 term 40 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 40 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 40 leaderCommit: 239 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 40 239}]
------------------------------------------------------
term 40 Server0 start snapshot! index=239
term 40 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
client write log 1059492058714401346 (index 240) to leader 1
client write log 8846588405899489760 (index 241) to leader 1
client write log 5267848952187956511 (index 242) to leader 1
client write log 6721676429654922179 (index 243) to leader 1
client write log 5704365696073043597 (index 244) to leader 1
client write log 2777702063720816438 (index 245) to leader 1
client write log 2112573221140538380 (index 246) to leader 1
client write log 3014773336335219939 (index 247) to leader 1
client write log 403443954563396401 (index 248) to leader 1
client write log 662692944745474642 (index 249) to leader 1
client write log 5393145053918681698 (index 250) to leader 1
client write log 6186610999926445650 (index 251) to leader 1
flag 60511 term 40 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 40 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 40 leaderCommit: 239 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 40 239} {1059492058714401346 40 240} {8846588405899489760 40 241} {5267848952187956511 40 242} {6721676429654922179 40 243} {5704365696073043597 40 244} {2777702063720816438 40 245} {2112573221140538380 40 246} {3014773336335219939 40 247} {403443954563396401 40 248} {662692944745474642 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251}]
------------------------------------------------------
term 40 Server1 start snapshot! index=249
term 40 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=251
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79057 term 40 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 40 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251}]
------------------------------------------------------
term 40 Server0 start snapshot! index=249
term 40 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=251
-------------------------------------------------------------
!!!!!!connect server 2
client write log 266811511809484828 (index 252) to leader 1
flag 19753 term 40 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 40 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
term 41 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 42 server 2 vote for server 1
term 42 server 0 vote for server 1
term 42 server 1 get vote from server 2
term 42 server 1 become leader
------------------------------------------------------
term 42 server 1 get outdate rpc reply from server 0
flag 21270 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
flag 97811 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 253->252
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
flag 13587 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 239  matchIndex[2]: 0
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
term 42 server 2 InstallSnapshot success
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 40 rf.commitIndex 249 rf.lastApplied 249
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
flag 36262 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
flag 24084 term 42 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 42 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
term 42 server 0 not vote for server 2, 任期不够新
term 42 server 2 get outdate rpc reply from server 0
flag 73727 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
flag 85758 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
flag 19433 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
flag 20214 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
flag 36851 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
flag 64999 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
flag 6756 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
flag 33410 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30291 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
flag 996 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53588 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
flag 28052 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41345 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
flag 4237 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
flag 52656 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
flag 60791 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
term 42 server 2 not vote for server 1, 任期不够新
term 42 server 1 get outdate rpc reply from server 2
flag 34779 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
flag 15253 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2842 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
flag 27348 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
flag 9879 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
flag 89516 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69135 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
flag 96300 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
flag 83060 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
flag 80364 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
flag 4738 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
flag 25227 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
flag 63191 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
flag 56011 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
flag 7743 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
flag 82383 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252}]
------------------------------------------------------
client write log 266811511809484828 (index 253) to leader 1
flag 14263 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
flag 86595 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252} {266811511809484828 42 253}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252} {266811511809484828 42 253}]
------------------------------------------------------
flag 62993 term 42 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 82876 term 42 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252} {266811511809484828 42 253}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252} {266811511809484828 42 253}]
------------------------------------------------------
flag 46803 term 42 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 99251 term 42 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252} {266811511809484828 42 253}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252} {266811511809484828 42 253}]
------------------------------------------------------
flag 86645 term 42 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 47132 term 42 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252} {266811511809484828 42 253}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252} {266811511809484828 42 253}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38028 term 42 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 84664 term 42 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 42 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
update nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252} {266811511809484828 42 253}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252} {266811511809484828 42 253}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85055 term 42 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 57163 term 42 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252} {266811511809484828 42 253}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252} {266811511809484828 42 253}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61868 term 42 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 38888 term 42 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252} {266811511809484828 42 253}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252} {266811511809484828 42 253}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4066205673845687149 (index 254) to leader 1
flag 52640 term 42 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 19469 term 42 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252} {266811511809484828 42 253} {4066205673845687149 42 254}]
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78520 term 42 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 42 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
flag 30422 term 42 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252} {266811511809484828 42 253} {4066205673845687149 42 254}]
------------------------------------------------------
client write log 7200986964132634576 (index 255) to leader 1
client write log 4802629660423074914 (index 256) to leader 1
client write log 898809463065183140 (index 257) to leader 1
client write log 5130829632743262375 (index 258) to leader 1
client write log 858961111061280577 (index 259) to leader 1
client write log 3151175274577027019 (index 260) to leader 1
client write log 4999502417130037299 (index 261) to leader 1
client write log 6460445442823901429 (index 262) to leader 1
client write log 6616405015588042432 (index 263) to leader 1
client write log 6498032603381058692 (index 264) to leader 1
client write log 2779772569185677093 (index 265) to leader 1
flag 83296 term 42 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 42 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
flag 19795 term 42 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 40 249} {5393145053918681698 40 250} {6186610999926445650 40 251} {266811511809484828 40 252} {266811511809484828 42 253} {4066205673845687149 42 254} {7200986964132634576 42 255} {4802629660423074914 42 256} {898809463065183140 42 257} {5130829632743262375 42 258} {858961111061280577 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265}]
------------------------------------------------------
term 42 Server1 start snapshot! index=259
term 42 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=265
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28999 term 42 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 42
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265}]
------------------------------------------------------
term 42 Server0 start snapshot! index=259
term 42 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=265
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1729694128541663729 (index 266) to leader 1
term 42 server 0 not vote for server 2, 日志不够新
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5050 term 42 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 42
------------------------------------------------------
term 43 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 server 0 AppendEntries false 领导者任期过期 args.Term 42
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 2 vote for server 1
term 44 server 1 get vote from server 2
term 44 server 1 become leader
------------------------------------------------------
term 44 server 0 vote for server 1
term 44 server 1 get outdate rpc reply from server 0
flag 81996 term 44 leader 1 nextIndex[0]: 267  matchIndex[0]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 78111 term 44 leader 1 nextIndex[2]: 267  matchIndex[2]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 44 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 44 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 267->266
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 267->266
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22888 term 44 leader 1 nextIndex[0]: 266  matchIndex[0]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 254  matchIndex[2]: 0
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 42
------------------------------------------------------
term 44 server 2 InstallSnapshot success
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 42 rf.commitIndex 259 rf.lastApplied 259
term 44 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
term 44 server 1 not vote for server 2, 任期不够新
term 44 server 2 get outdate rpc reply from server 1
flag 62336 term 44 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 47766 term 44 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 44 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21071 term 44 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 25813 term 44 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
flag 57464 term 44 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 73511 term 44 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
flag 46323 term 44 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 74792 term 44 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
flag 9222 term 44 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 15476 term 44 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
term 44 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
flag 79418 term 44 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 18021 term 44 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
flag 60161 term 44 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 76318 term 44 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11483 term 44 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 49807 term 44 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13769 term 44 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 91523 term 44 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
flag 79100 term 44 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 20099 term 44 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
flag 95011 term 44 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 34102 term 44 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
flag 18260 term 44 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 58034 term 44 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
flag 55356 term 44 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 79973 term 44 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
flag 67720 term 44 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 45634 term 44 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
flag 25111 term 44 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 96861 term 44 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
flag 97049 term 44 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 24388 term 44 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
flag 93401 term 44 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 46016 term 44 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266}]
------------------------------------------------------
client write log 1729694128541663729 (index 267) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92880 term 44 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 70154 term 44 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 44 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266} {1729694128541663729 44 267}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266} {1729694128541663729 44 267}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97581 term 44 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 85163 term 44 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266} {1729694128541663729 44 267}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266} {1729694128541663729 44 267}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90339 term 44 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 59016 term 44 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266} {1729694128541663729 44 267}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266} {1729694128541663729 44 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57905 term 44 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 91815 term 44 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266} {1729694128541663729 44 267}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266} {1729694128541663729 44 267}]
------------------------------------------------------
flag 13239 term 44 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 31669 term 44 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266} {1729694128541663729 44 267}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266} {1729694128541663729 44 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75339 term 44 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 30505 term 44 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266} {1729694128541663729 44 267}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266} {1729694128541663729 44 267}]
------------------------------------------------------
flag 35062 term 44 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 97998 term 44 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266} {1729694128541663729 44 267}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266} {1729694128541663729 44 267}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 79471 term 44 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 4093 term 44 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81742 term 44 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 66841 term 44 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 26910 term 44 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 39893 term 44 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 91841 term 44 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 14472 term 44 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
term 45 server 0 vote for server 2
term 45 server 2 get vote from server 0
term 45 server 2 become leader
------------------------------------------------------
flag 9692 term 45 leader 2 nextIndex[0]: 268  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 98389 term 45 leader 2 nextIndex[1]: 268  matchIndex[1]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266} {1729694128541663729 44 267}]
------------------------------------------------------
client write log 4893452937344998018 (index 268) to leader 2
flag 81276 term 44 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 11532 term 44 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 12948 term 45 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 45 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 31989 term 45 leader 2 nextIndex[1]: 268  matchIndex[1]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266} {1729694128541663729 44 267} {4893452937344998018 45 268}]
------------------------------------------------------
flag 35068 term 44 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 54641 term 44 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 50773 term 45 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 54747 term 45 leader 2 nextIndex[1]: 268  matchIndex[1]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 268 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266} {1729694128541663729 44 267} {4893452937344998018 45 268}]
------------------------------------------------------
client write log 8591680663856772823 (index 269) to leader 2
client write log 9115411269964600967 (index 270) to leader 2
client write log 6603229286739635079 (index 271) to leader 2
client write log 4973311855523102244 (index 272) to leader 2
client write log 7621376915988933579 (index 273) to leader 2
client write log 4526184411443223155 (index 274) to leader 2
client write log 4695515397782785768 (index 275) to leader 2
flag 33964 term 44 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 1505 term 44 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 16499 term 45 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 33102 term 45 leader 2 nextIndex[1]: 268  matchIndex[1]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 268 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 42 259} {3151175274577027019 42 260} {4999502417130037299 42 261} {6460445442823901429 42 262} {6616405015588042432 42 263} {6498032603381058692 42 264} {2779772569185677093 42 265} {1729694128541663729 42 266} {1729694128541663729 44 267} {4893452937344998018 45 268} {8591680663856772823 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 268->267
------------------------------------------------------
term 45 Server2 start snapshot! index=269
term 45 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=275
-------------------------------------------------------------
flag 49670 term 44 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 0  matchIndex[2]: 267
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 42
------------------------------------------------------
flag 99756 term 45 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 45 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
term 45 leader 2 nextIndex[1]: 268  matchIndex[1]: 0
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 45
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
term 45 Server0 start snapshot! index=269
term 45 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=275
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2964038799851472758 (index 268) to leader 1
flag 47494 term 44 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 44 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 0  matchIndex[2]: 267
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 42
------------------------------------------------------
term 45 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 server 0 AppendEntries false 领导者任期过期 args.Term 44
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25986 term 45 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 45 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
term 45 leader 2 nextIndex[1]: 268  matchIndex[1]: 0
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 45
------------------------------------------------------
term 45 server 1 InstallSnapshot success
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
term 45 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 45 rf.commitIndex 269 rf.lastApplied 269
term 45 server 2 not vote for server 1, 日志不够新
term 45 server 0 not vote for server 1, 日志不够新
term 47 server 1 vote for server 2
term 47 server 2 get vote from server 1
term 47 server 2 become leader
------------------------------------------------------
term 47 server 0 vote for server 2
term 47 server 2 get outdate rpc reply from server 0
flag 75500 term 47 leader 2 nextIndex[0]: 276  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
flag 31335 term 47 leader 2 nextIndex[1]: 276  matchIndex[1]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
term 47 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 276->275
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
flag 93438 term 47 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
flag 68172 term 47 leader 2 nextIndex[1]: 270  matchIndex[1]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
flag 35872 term 47 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
flag 18297 term 47 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
flag 68453 term 47 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
flag 28024 term 47 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45865 term 47 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
flag 25375 term 47 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
term 47 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88657 term 47 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
flag 2431 term 47 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47785 term 47 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
flag 43740 term 47 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
flag 6073 term 47 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
flag 90705 term 47 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
flag 32807 term 47 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
flag 67213 term 47 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
flag 57585 term 47 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
flag 84894 term 47 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
flag 973 term 47 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
flag 27700 term 47 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
flag 34761 term 47 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
flag 96985 term 47 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78179 term 47 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
flag 28407 term 47 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
term 47 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
flag 5743 term 47 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
flag 65688 term 47 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63291 term 47 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
flag 26299 term 47 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
term 47 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51501 term 47 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
flag 107 term 47 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
flag 39985 term 47 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
flag 80564 term 47 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
flag 19251 term 47 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
flag 44551 term 47 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275}]
------------------------------------------------------
flag 16875 term 47 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
flag 68959 term 47 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
client write log 2964038799851472758 (index 276) to leader 2
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275} {2964038799851472758 47 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275} {2964038799851472758 47 276}]
------------------------------------------------------
flag 52241 term 47 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
flag 45964 term 47 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275} {2964038799851472758 47 276}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275} {2964038799851472758 47 276}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42398 term 47 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 47 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
flag 49332 term 47 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 47 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275} {2964038799851472758 47 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275} {2964038799851472758 47 276}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59510 term 47 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 47 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
flag 72844 term 47 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 47 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
term 47 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275} {2964038799851472758 47 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275} {2964038799851472758 47 276}]
------------------------------------------------------
flag 34579 term 47 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 47 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
flag 13418 term 47 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 47 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
term 47 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275} {2964038799851472758 47 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275} {2964038799851472758 47 276}]
------------------------------------------------------
flag 74641 term 47 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 47 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
flag 96280 term 47 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 47 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275} {2964038799851472758 47 276}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275} {2964038799851472758 47 276}]
------------------------------------------------------
flag 52801 term 47 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 47 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
flag 14559 term 47 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 47 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275} {2964038799851472758 47 276}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275} {2964038799851472758 47 276}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79494 term 47 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 47 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
flag 98454 term 47 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 47 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275} {2964038799851472758 47 276}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275} {2964038799851472758 47 276}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5716446497398913880 (index 277) to leader 2
term 47 server 1 not vote for server 2, 任期不够新
term 47 server 2 get outdate rpc reply from server 1
flag 45119 term 47 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 47 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
flag 55198 term 47 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 47 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 276 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275} {2964038799851472758 47 276} {5716446497398913880 47 277}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78383 term 47 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 47 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 277 
------------------------------------------------------
flag 74261 term 47 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 47 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 277 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275} {2964038799851472758 47 276} {5716446497398913880 47 277}]
------------------------------------------------------
client write log 10806182984063471 (index 278) to leader 2
client write log 2484439099584924600 (index 279) to leader 2
client write log 3066141796187305645 (index 280) to leader 2
client write log 517945252629831 (index 281) to leader 2
client write log 8309725334164754309 (index 282) to leader 2
client write log 4783708662053979432 (index 283) to leader 2
client write log 976132381972789806 (index 284) to leader 2
flag 43010 term 47 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 47 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 277 
------------------------------------------------------
flag 37069 term 47 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 47 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 277 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 45 269} {9115411269964600967 45 270} {6603229286739635079 45 271} {4973311855523102244 45 272} {7621376915988933579 45 273} {4526184411443223155 45 274} {4695515397782785768 45 275} {2964038799851472758 47 276} {5716446497398913880 47 277} {10806182984063471 47 278} {2484439099584924600 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284}]
------------------------------------------------------
term 47 Server2 start snapshot! index=279
term 47 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=284
-------------------------------------------------------------
term 47 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 47
------------------------------------------------------
flag 73108 term 47 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 47 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284}]
------------------------------------------------------
term 47 Server1 start snapshot! index=279
term 47 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=284
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3621074514514824208 (index 285) to leader 2
term 47 server 2 not vote for server 0, 日志不够新
term 47 server 1 not vote for server 0, 日志不够新
term 49 server 1 vote for server 2
term 49 server 2 get vote from server 1
term 49 server 2 become leader
------------------------------------------------------
term 49 server 0 vote for server 2
term 49 server 2 get outdate rpc reply from server 0
flag 4940 term 49 leader 2 nextIndex[0]: 286  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 6002 term 49 leader 2 nextIndex[1]: 286  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 49 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 49 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 286->285
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 286->285
------------------------------------------------------
term 49 leader 2 nextIndex[0]: 277  matchIndex[0]: 0
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 47
------------------------------------------------------
flag 42979 term 49 leader 2 nextIndex[1]: 285  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
term 49 server 0 InstallSnapshot success
------------------------------------------------------
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 47 rf.commitIndex 279 rf.lastApplied 279
term 49 server 1 not vote for server 2, 任期不够新
term 49 server 2 get outdate rpc reply from server 1
flag 56312 term 49 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 49 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 90434 term 49 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
flag 60006 term 49 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 45750 term 49 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
flag 84761 term 49 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 75398 term 49 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
flag 52487 term 49 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 27572 term 49 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87376 term 49 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 86889 term 49 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 49 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
update nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47030 term 49 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 56291 term 49 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
term 49 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95312 term 49 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 29458 term 49 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
flag 54794 term 49 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 17728 term 49 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81072 term 49 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 94011 term 49 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
flag 10837 term 49 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 27063 term 49 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
flag 9310 term 49 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 27720 term 49 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50743 term 49 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 46807 term 49 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
flag 76561 term 49 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 34086 term 49 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
flag 19358 term 49 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 53550 term 49 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
flag 94386 term 49 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 20214 term 49 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9258 term 49 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 73631 term 49 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
flag 65474 term 49 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 58214 term 49 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
flag 96999 term 49 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 41488 term 49 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
term 49 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285}]
------------------------------------------------------
client write log 3621074514514824208 (index 286) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44654 term 49 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 37883 term 49 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285} {3621074514514824208 49 286}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285} {3621074514514824208 49 286}]
------------------------------------------------------
flag 98651 term 49 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 32244 term 49 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285} {3621074514514824208 49 286}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285} {3621074514514824208 49 286}]
------------------------------------------------------
flag 41500 term 49 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 68416 term 49 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285} {3621074514514824208 49 286}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285} {3621074514514824208 49 286}]
------------------------------------------------------
flag 81103 term 49 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 73266 term 49 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285} {3621074514514824208 49 286}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285} {3621074514514824208 49 286}]
------------------------------------------------------
flag 36477 term 49 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 4359 term 49 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285} {3621074514514824208 49 286}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285} {3621074514514824208 49 286}]
------------------------------------------------------
flag 62310 term 49 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 56157 term 49 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285} {3621074514514824208 49 286}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285} {3621074514514824208 49 286}]
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91425 term 49 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 18301 term 49 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285} {3621074514514824208 49 286}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285} {3621074514514824208 49 286}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2065612110555417500 (index 287) to leader 2
flag 22326 term 49 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 69877 term 49 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285} {3621074514514824208 49 286} {2065612110555417500 49 287}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98278 term 49 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 287 
------------------------------------------------------
flag 66922 term 49 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 49 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 287 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285} {3621074514514824208 49 286} {2065612110555417500 49 287}]
------------------------------------------------------
client write log 879931765142768102 (index 288) to leader 2
client write log 30551363972573858 (index 289) to leader 2
client write log 6931859812894913420 (index 290) to leader 2
client write log 3328510408223216115 (index 291) to leader 2
client write log 7310042719741557074 (index 292) to leader 2
client write log 5604192881913107038 (index 293) to leader 2
client write log 8742662616960633460 (index 294) to leader 2
client write log 6667851545700425613 (index 295) to leader 2
client write log 7116765084157780987 (index 296) to leader 2
client write log 8407919214137581299 (index 297) to leader 2
client write log 8851674255257155224 (index 298) to leader 2
client write log 1116438852138777249 (index 299) to leader 2
client write log 3446784517941002642 (index 300) to leader 2
client write log 6244132697227329558 (index 301) to leader 2
client write log 6270994966797799917 (index 302) to leader 2
flag 82569 term 49 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 49 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 287 
------------------------------------------------------
flag 88012 term 49 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 49 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 287 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 47 279} {3066141796187305645 47 280} {517945252629831 47 281} {8309725334164754309 47 282} {4783708662053979432 47 283} {976132381972789806 47 284} {3621074514514824208 47 285} {3621074514514824208 49 286} {2065612110555417500 49 287} {879931765142768102 49 288} {30551363972573858 49 289} {6931859812894913420 49 290} {3328510408223216115 49 291} {7310042719741557074 49 292} {5604192881913107038 49 293} {8742662616960633460 49 294} {6667851545700425613 49 295} {7116765084157780987 49 296} {8407919214137581299 49 297} {8851674255257155224 49 298} {1116438852138777249 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302}]
------------------------------------------------------
term 49 Server2 start snapshot! index=289
term 49 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=302
-------------------------------------------------------------
term 49 Server2 start snapshot! index=299
term 49 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=302
-------------------------------------------------------------
term 49 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 49
------------------------------------------------------
flag 92049 term 49 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 49 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302}]
------------------------------------------------------
term 49 Server1 start snapshot! index=289
term 49 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=302
-------------------------------------------------------------
term 49 Server1 start snapshot! index=299
term 49 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=302
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6082588552768278010 (index 303) to leader 2
term 49 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 49
------------------------------------------------------
flag 27553 term 49 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 49 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
term 50 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 server 1 vote for server 2
term 51 server 2 get vote from server 1
term 51 server 2 become leader
------------------------------------------------------
term 51 server 0 vote for server 2
term 51 server 2 get outdate rpc reply from server 0
flag 46089 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
flag 31166 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
term 51 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 304->303
------------------------------------------------------
term 51 leader 2 nextIndex[0]: 287  matchIndex[0]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 49
------------------------------------------------------
flag 22158 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
term 51 server 0 InstallSnapshot success
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 49 rf.commitIndex 299 rf.lastApplied 299
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16383 term 51 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
flag 11354 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
flag 82068 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
flag 45834 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
flag 97798 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
flag 61949 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
flag 66246 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
flag 44225 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
flag 14882 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
flag 68461 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
flag 95013 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
flag 42027 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
flag 27004 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
flag 1624 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
flag 31501 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
flag 30625 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
flag 79943 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
flag 75799 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
flag 14059 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
flag 78210 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
flag 17642 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
flag 37798 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
flag 18252 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
flag 52051 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
flag 27395 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
flag 51876 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
flag 89607 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
flag 82281 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
flag 76395 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
flag 56856 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
flag 60666 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
flag 29030 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
flag 5103 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
flag 36503 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303}]
------------------------------------------------------
client write log 6082588552768278010 (index 304) to leader 2
flag 36079 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
flag 49076 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 49 leaderCommit: 302 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304}]
------------------------------------------------------
flag 16106 term 51 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 27 term 51 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304}]
------------------------------------------------------
flag 45537 term 51 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 98737 term 51 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304}]
------------------------------------------------------
flag 87818 term 51 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 67065 term 51 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304}]
------------------------------------------------------
flag 13833 term 51 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 58840 term 51 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90343 term 51 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 19149 term 51 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304}]
------------------------------------------------------
flag 1994 term 51 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 50514 term 51 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 23853 term 51 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 63509 term 51 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 9740 term 51 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 5648 term 51 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 82784 term 51 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 21230 term 51 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 89676 term 51 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 26744 term 51 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 server 0 vote for server 1
term 52 server 1 get vote from server 0
term 52 server 1 become leader
------------------------------------------------------
client write log 1725347220627661770 (index 305) to leader 1
flag 99551 term 52 leader 1 nextIndex[0]: 305  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 40105 term 52 leader 1 nextIndex[2]: 305  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304} {1725347220627661770 52 305}]
------------------------------------------------------
flag 93857 term 51 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 61698 term 51 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48781 term 52 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 52 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 52 leaderCommit: 305 
------------------------------------------------------
flag 96954 term 52 leader 1 nextIndex[2]: 305  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304} {1725347220627661770 52 305}]
------------------------------------------------------
client write log 7458171174630939409 (index 306) to leader 1
flag 42387 term 51 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 1038 term 51 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 29526 term 52 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 52 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 52 leaderCommit: 305 
------------------------------------------------------
flag 8292 term 52 leader 1 nextIndex[2]: 305  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304} {1725347220627661770 52 305} {7458171174630939409 52 306}]
------------------------------------------------------
flag 37434 term 51 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 54639 term 51 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 98395 term 52 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 52 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
flag 52347 term 52 leader 1 nextIndex[2]: 305  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304} {1725347220627661770 52 305} {7458171174630939409 52 306}]
------------------------------------------------------
term 52 server 1 not vote for server 0, 任期不够新
term 52 server 0 get outdate rpc reply from server 1
!!!!!!connect server 2
client write log 4684531830974241026 (index 307) to leader 1
flag 77328 term 51 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 27853 term 51 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 52 server 0 AppendEntries false 领导者任期过期 args.Term 51
------------------------------------------------------
term 52 server 1 AppendEntries false 领导者任期过期 args.Term 51
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23237 term 52 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 52 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
flag 78376 term 52 leader 1 nextIndex[2]: 305  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 306 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304} {1725347220627661770 52 305} {7458171174630939409 52 306} {4684531830974241026 52 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304} {1725347220627661770 52 305} {7458171174630939409 52 306} {4684531830974241026 52 307}]
------------------------------------------------------
flag 700 term 52 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 307 
------------------------------------------------------
flag 46084 term 52 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 307 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304} {1725347220627661770 52 305} {7458171174630939409 52 306} {4684531830974241026 52 307}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304} {1725347220627661770 52 305} {7458171174630939409 52 306} {4684531830974241026 52 307}]
------------------------------------------------------
flag 38876 term 52 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 307 
------------------------------------------------------
flag 83077 term 52 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 307 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304} {1725347220627661770 52 305} {7458171174630939409 52 306} {4684531830974241026 52 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304} {1725347220627661770 52 305} {7458171174630939409 52 306} {4684531830974241026 52 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81900 term 52 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 307 
------------------------------------------------------
flag 88259 term 52 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 307 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304} {1725347220627661770 52 305} {7458171174630939409 52 306} {4684531830974241026 52 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304} {1725347220627661770 52 305} {7458171174630939409 52 306} {4684531830974241026 52 307}]
------------------------------------------------------
flag 33597 term 52 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 307 
------------------------------------------------------
flag 60766 term 52 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 307 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304} {1725347220627661770 52 305} {7458171174630939409 52 306} {4684531830974241026 52 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304} {1725347220627661770 52 305} {7458171174630939409 52 306} {4684531830974241026 52 307}]
------------------------------------------------------
flag 73215 term 52 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 307 
------------------------------------------------------
flag 76379 term 52 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 307 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304} {1725347220627661770 52 305} {7458171174630939409 52 306} {4684531830974241026 52 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304} {1725347220627661770 52 305} {7458171174630939409 52 306} {4684531830974241026 52 307}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5992520710431739832 (index 308) to leader 1
flag 69591 term 52 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 307 
------------------------------------------------------
flag 41599 term 52 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 307 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304} {1725347220627661770 52 305} {7458171174630939409 52 306} {4684531830974241026 52 307} {5992520710431739832 52 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 308->307
------------------------------------------------------
flag 28141 term 52 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 0  matchIndex[2]: 307
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 49
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304} {1725347220627661770 52 305} {7458171174630939409 52 306} {4684531830974241026 52 307} {5992520710431739832 52 308}]
------------------------------------------------------
client write log 8786783666136726223 (index 309) to leader 1
client write log 5008695609815266624 (index 310) to leader 1
client write log 3638470609532264548 (index 311) to leader 1
client write log 3004020517003909798 (index 312) to leader 1
client write log 1546571529118393752 (index 313) to leader 1
client write log 7794214907369933381 (index 314) to leader 1
client write log 595793743461242686 (index 315) to leader 1
client write log 4917846443292822460 (index 316) to leader 1
client write log 4321648958195204171 (index 317) to leader 1
client write log 8204791351049403277 (index 318) to leader 1
client write log 261112441706724720 (index 319) to leader 1
client write log 6651974811202771504 (index 320) to leader 1
client write log 1114950671849308866 (index 321) to leader 1
client write log 4473213731665693698 (index 322) to leader 1
client write log 8109569289697347632 (index 323) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48733 term 52 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 0  matchIndex[2]: 307
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 49
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 49 299} {3446784517941002642 49 300} {6244132697227329558 49 301} {6270994966797799917 49 302} {6082588552768278010 49 303} {6082588552768278010 51 304} {1725347220627661770 52 305} {7458171174630939409 52 306} {4684531830974241026 52 307} {5992520710431739832 52 308} {8786783666136726223 52 309} {5008695609815266624 52 310} {3638470609532264548 52 311} {3004020517003909798 52 312} {1546571529118393752 52 313} {7794214907369933381 52 314} {595793743461242686 52 315} {4917846443292822460 52 316} {4321648958195204171 52 317} {8204791351049403277 52 318} {261112441706724720 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323}]
------------------------------------------------------
term 52 Server1 start snapshot! index=309
term 52 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=323
-------------------------------------------------------------
term 52 Server1 start snapshot! index=319
term 52 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=323
-------------------------------------------------------------
flag 54995 term 52 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 52 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 0  matchIndex[2]: 307
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323}]
------------------------------------------------------
term 52 Server0 start snapshot! index=309
term 52 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=323
-------------------------------------------------------------
term 52 Server0 start snapshot! index=319
term 52 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=323
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5818474754253019925 (index 324) to leader 1
term 52 server 1 not vote for server 2, 日志不够新
term 52 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 server 2 vote for server 1
term 54 server 1 get vote from server 2
term 54 server 1 become leader
------------------------------------------------------
term 54 server 0 vote for server 1
term 54 server 1 get outdate rpc reply from server 0
flag 15802 term 54 leader 1 nextIndex[0]: 325  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 53128 term 54 leader 1 nextIndex[2]: 325  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 54 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 325->324
------------------------------------------------------
term 54 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 325->324
------------------------------------------------------
term 54 server 2 not vote for server 0, 任期不够新
term 54 server 0 get outdate rpc reply from server 2
flag 81668 term 54 leader 1 nextIndex[0]: 324  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 308  matchIndex[2]: 0
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 52
------------------------------------------------------
term 54 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
term 54 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
rf.lastIncludedIndex 319 rf.lastIncludedTerm 52 rf.commitIndex 319 rf.lastApplied 319
term 54 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62833 term 54 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 8077 term 54 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 54 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
flag 38585 term 54 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 68907 term 54 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
flag 5390 term 54 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 65891 term 54 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
flag 86475 term 54 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 26532 term 54 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
flag 63831 term 54 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 19527 term 54 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 45850 term 54 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 72656 term 54 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
flag 39667 term 54 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 87584 term 54 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
flag 25074 term 54 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 40155 term 54 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
flag 10223 term 54 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 7231 term 54 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70852 term 54 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 5820 term 54 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
flag 66686 term 54 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 31581 term 54 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
flag 92578 term 54 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 36715 term 54 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
flag 23170 term 54 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 14011 term 54 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
flag 11203 term 54 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 11368 term 54 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
flag 4002 term 54 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 32867 term 54 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
flag 89370 term 54 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 17020 term 54 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
flag 72141 term 54 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 25947 term 54 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324}]
------------------------------------------------------
client write log 5818474754253019925 (index 325) to leader 1
flag 9018 term 54 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 50765 term 54 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 54 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
term 54 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324} {5818474754253019925 54 325}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324} {5818474754253019925 54 325}]
------------------------------------------------------
flag 60248 term 54 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 54 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
flag 60968 term 54 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 54 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324} {5818474754253019925 54 325}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324} {5818474754253019925 54 325}]
------------------------------------------------------
flag 48001 term 54 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 54 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
flag 63727 term 54 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 54 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
term 54 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324} {5818474754253019925 54 325}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324} {5818474754253019925 54 325}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29613 term 54 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 54 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
flag 89491 term 54 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 54 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324} {5818474754253019925 54 325}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324} {5818474754253019925 54 325}]
------------------------------------------------------
flag 48344 term 54 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 54 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
flag 22751 term 54 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 54 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324} {5818474754253019925 54 325}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324} {5818474754253019925 54 325}]
------------------------------------------------------
flag 59980 term 54 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 54 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
flag 10056 term 54 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 54 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324} {5818474754253019925 54 325}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324} {5818474754253019925 54 325}]
------------------------------------------------------
flag 20195 term 54 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 54 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
flag 93960 term 54 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 54 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324} {5818474754253019925 54 325}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324} {5818474754253019925 54 325}]
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 2
client write log 9044261895946852980 (index 326) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33268 term 54 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 54 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
flag 25134 term 54 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 54 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324} {5818474754253019925 54 325} {9044261895946852980 54 326}]
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30649 term 54 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 54 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 54 leaderCommit: 326 
------------------------------------------------------
flag 83266 term 54 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 54 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 326 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324} {5818474754253019925 54 325} {9044261895946852980 54 326}]
------------------------------------------------------
client write log 2720705634503049292 (index 327) to leader 1
client write log 4543625797676463813 (index 328) to leader 1
client write log 1824674509662345513 (index 329) to leader 1
client write log 3484172007619432736 (index 330) to leader 1
client write log 5902046634450975556 (index 331) to leader 1
client write log 3790806544245529847 (index 332) to leader 1
flag 11500 term 54 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 54 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 54 leaderCommit: 326 
------------------------------------------------------
flag 443 term 54 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 54 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 326 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 52 319} {6651974811202771504 52 320} {1114950671849308866 52 321} {4473213731665693698 52 322} {8109569289697347632 52 323} {5818474754253019925 52 324} {5818474754253019925 54 325} {9044261895946852980 54 326} {2720705634503049292 54 327} {4543625797676463813 54 328} {1824674509662345513 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332}]
------------------------------------------------------
term 54 Server1 start snapshot! index=329
term 54 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=332
-------------------------------------------------------------
flag 79758 term 54 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332}]
------------------------------------------------------
term 54 Server0 start snapshot! index=329
term 54 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=332
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5373183669923653626 (index 333) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 server 1 not vote for server 2, 日志不够新
term 54 server 0 not vote for server 2, 日志不够新
term 56 server 2 vote for server 1
term 56 server 0 vote for server 1
term 56 server 1 get vote from server 2
term 56 server 1 become leader
------------------------------------------------------
term 56 server 1 get outdate rpc reply from server 0
flag 13669 term 56 leader 1 nextIndex[0]: 334  matchIndex[0]: 0
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 85264 term 56 leader 1 nextIndex[2]: 334  matchIndex[2]: 0
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 56 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 334->333
------------------------------------------------------
term 56 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 334->333
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53164 term 56 leader 1 nextIndex[0]: 333  matchIndex[0]: 0
term 56 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 56 leader 1 nextIndex[2]: 326  matchIndex[2]: 0
term 56 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 54
------------------------------------------------------
term 56 server 2 InstallSnapshot success
------------------------------------------------------
term 56 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 54 rf.commitIndex 329 rf.lastApplied 329
term 56 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
flag 41002 term 56 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 2401 term 56 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 56 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
flag 59814 term 56 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 41735 term 56 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
flag 70263 term 56 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 5261 term 56 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
flag 45045 term 56 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 9788 term 56 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45949 term 56 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 29197 term 56 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73031 term 56 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 31947 term 56 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
term 56 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
flag 50637 term 56 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 21338 term 56 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
flag 46013 term 56 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 23661 term 56 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47594 term 56 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 84538 term 56 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73332 term 56 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 30968 term 56 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
flag 30291 term 56 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 75681 term 56 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
flag 55704 term 56 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 70594 term 56 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25284 term 56 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 27551 term 56 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
term 56 server 2 not vote for server 1, 任期不够新
term 56 server 1 get outdate rpc reply from server 2
flag 71669 term 56 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 73959 term 56 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81311 term 56 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 17920 term 56 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
flag 12225 term 56 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 77579 term 56 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
flag 26919 term 56 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 21289 term 56 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333}]
------------------------------------------------------
client write log 5373183669923653626 (index 334) to leader 1
flag 70780 term 56 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 29607 term 56 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 56 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334}]
------------------------------------------------------
flag 81949 term 56 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
flag 69026 term 56 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334}]
------------------------------------------------------
flag 28920 term 56 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
flag 82368 term 56 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63976 term 56 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
flag 35774 term 56 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334}]
------------------------------------------------------
flag 56608 term 56 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
flag 19402 term 56 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334}]
------------------------------------------------------
flag 43164 term 56 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
flag 39510 term 56 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334}]
------------------------------------------------------
flag 74228 term 56 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
flag 19145 term 56 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 79524 term 56 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
flag 66548 term 56 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
flag 84579 term 56 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
flag 1341 term 56 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
flag 45603 term 56 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
flag 45769 term 56 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
flag 29627 term 56 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
flag 34578 term 56 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
term 57 server 2 vote for server 0
term 57 server 0 get vote from server 2
term 57 server 0 become leader
------------------------------------------------------
flag 39881 term 57 leader 0 nextIndex[1]: 335  matchIndex[1]: 0
term 57 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
flag 27477 term 57 leader 0 nextIndex[2]: 335  matchIndex[2]: 0
term 57 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 8472856732332073784 (index 335) to leader 0
flag 81572 term 56 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
flag 93000 term 56 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
flag 13298 term 57 leader 0 nextIndex[1]: 335  matchIndex[1]: 0
term 57 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
flag 24386 term 57 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 57 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335}]
------------------------------------------------------
flag 26295 term 56 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
flag 59366 term 56 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
flag 97528 term 57 leader 0 nextIndex[1]: 335  matchIndex[1]: 0
term 57 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 335 
------------------------------------------------------
flag 33394 term 57 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 57 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 57 leaderCommit: 335 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335}]
------------------------------------------------------
client write log 3298374482003535011 (index 336) to leader 0
flag 4378 term 56 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
flag 20170 term 56 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
flag 73419 term 57 leader 0 nextIndex[1]: 335  matchIndex[1]: 0
term 57 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 335 
------------------------------------------------------
flag 88061 term 57 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 57 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 57 leaderCommit: 335 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
flag 32008 term 56 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
flag 66275 term 56 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
flag 31140 term 57 leader 0 nextIndex[1]: 335  matchIndex[1]: 0
term 57 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 16838 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
!!!!!!connect server 1
client write log 6238352865766180325 (index 335) to leader 1
flag 86542 term 56 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
flag 41092 term 56 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 56 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 334 
------------------------------------------------------
term 57 server 2 AppendEntries false 领导者任期过期 args.Term 56
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 57 server 0 AppendEntries false 领导者任期过期 args.Term 56
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13641 term 57 leader 0 nextIndex[1]: 335  matchIndex[1]: 0
term 57 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 22966 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
flag 46719 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
flag 21044 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
flag 27404 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
flag 93667 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
flag 17867 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
flag 48741 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
flag 60995 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
flag 88659 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96437 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
flag 87369 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
flag 15563 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
flag 81412 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
flag 76512 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
flag 27818 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7672 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
flag 98624 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
flag 10820 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
flag 12177 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
flag 7296 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
flag 17688 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
flag 49130 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
flag 36047 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
flag 57213 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
flag 66305 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
flag 59178 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
flag 46960 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20975 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
flag 65401 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
term 57 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71596 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
flag 64345 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 337->336
------------------------------------------------------
term 57 leader 0 nextIndex[1]: 0  matchIndex[1]: 336
term 57 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 54
------------------------------------------------------
flag 70178 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
term 57 server 1 InstallSnapshot fail
rf.commitIndex 336 args.LastIncludedIndex 329
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
term 57 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
flag 48118 term 57 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 57 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 54 leaderCommit: 336 
------------------------------------------------------
flag 87604 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62628 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
flag 69040 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
flag 11638 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
flag 96001 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336}]
------------------------------------------------------
client write log 6238352865766180325 (index 337) to leader 0
flag 48037 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
flag 20668 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 57 leaderCommit: 336 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336} {6238352865766180325 57 337}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336} {6238352865766180325 57 337}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38394 term 57 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 57 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 57 leaderCommit: 337 
------------------------------------------------------
flag 88671 term 57 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 57 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 57 leaderCommit: 337 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336} {6238352865766180325 57 337}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336} {6238352865766180325 57 337}]
------------------------------------------------------
flag 99588 term 57 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 57 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 57 leaderCommit: 337 
------------------------------------------------------
flag 94244 term 57 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 57 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 57 leaderCommit: 337 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336} {6238352865766180325 57 337}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336} {6238352865766180325 57 337}]
------------------------------------------------------
flag 6687 term 57 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 57 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 57 leaderCommit: 337 
------------------------------------------------------
flag 25956 term 57 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 57 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 57 leaderCommit: 337 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336} {6238352865766180325 57 337}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336} {6238352865766180325 57 337}]
------------------------------------------------------
term 57 server 1 not vote for server 0, 日志不够新
term 57 server 0 get outdate rpc reply from server 1
flag 80773 term 57 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 57 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 57 leaderCommit: 337 
------------------------------------------------------
flag 36160 term 57 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 57 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 57 leaderCommit: 337 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336} {6238352865766180325 57 337}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336} {6238352865766180325 57 337}]
------------------------------------------------------
flag 6 term 57 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 57 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 57 leaderCommit: 337 
------------------------------------------------------
flag 35873 term 57 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 57 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 57 leaderCommit: 337 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336} {6238352865766180325 57 337}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336} {6238352865766180325 57 337}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2232521342765159133 (index 338) to leader 0
flag 23081 term 57 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 57 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 57 leaderCommit: 337 
------------------------------------------------------
flag 69186 term 57 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 57 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 57 leaderCommit: 337 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336} {6238352865766180325 57 337} {2232521342765159133 57 338}]
------------------------------------------------------
flag 6287 term 57 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 57 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 57 leaderCommit: 338 
------------------------------------------------------
flag 76135 term 57 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 57 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 57 leaderCommit: 338 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336} {6238352865766180325 57 337} {2232521342765159133 57 338}]
------------------------------------------------------
client write log 681872005721698991 (index 339) to leader 0
client write log 8159429294984919369 (index 340) to leader 0
client write log 524575265954890169 (index 341) to leader 0
client write log 4189675479734922651 (index 342) to leader 0
client write log 892839876902207383 (index 343) to leader 0
client write log 8489877281592807751 (index 344) to leader 0
client write log 5906972287532781939 (index 345) to leader 0
flag 64826 term 57 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 57 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 57 leaderCommit: 338 
------------------------------------------------------
flag 39335 term 57 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 57 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 57 leaderCommit: 338 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=345
leader log:
[{snapshot 54 329} {3484172007619432736 54 330} {5902046634450975556 54 331} {3790806544245529847 54 332} {5373183669923653626 54 333} {5373183669923653626 56 334} {8472856732332073784 57 335} {3298374482003535011 57 336} {6238352865766180325 57 337} {2232521342765159133 57 338} {681872005721698991 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345}]
------------------------------------------------------
term 57 Server0 start snapshot! index=339
term 57 server0 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=345
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 57 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 57 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 57
------------------------------------------------------
flag 15944 term 57 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 57 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345}]
------------------------------------------------------
term 57 Server2 start snapshot! index=339
term 57 server2 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=345
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 7011116162942378787 (index 346) to leader 0
term 57 server 2 not vote for server 1, 日志不够新
term 57 server 0 not vote for server 1, 日志不够新
term 59 server 2 vote for server 0
term 59 server 1 vote for server 0
term 59 server 0 get vote from server 2
term 59 server 0 become leader
------------------------------------------------------
term 59 server 0 get outdate rpc reply from server 1
flag 55357 term 59 leader 0 nextIndex[1]: 347  matchIndex[1]: 0
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
flag 87902 term 59 leader 0 nextIndex[2]: 347  matchIndex[2]: 0
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
term 59 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 59 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 347->346
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 347->346
------------------------------------------------------
term 59 leader 0 nextIndex[1]: 338  matchIndex[1]: 0
term 59 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 57
------------------------------------------------------
flag 31932 term 59 leader 0 nextIndex[2]: 346  matchIndex[2]: 0
term 59 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
term 59 server 1 InstallSnapshot success
------------------------------------------------------
term 59 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 340 matchIndex[1] 339 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 57 rf.commitIndex 339 rf.lastApplied 339
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20221 term 59 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 59 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
flag 30189 term 59 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
flag 34288 term 59 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
flag 59321 term 59 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
flag 59816 term 59 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
flag 92207 term 59 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
flag 54239 term 59 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
flag 90712 term 59 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51539 term 59 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
flag 88049 term 59 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
flag 31040 term 59 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
flag 26849 term 59 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85060 term 59 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
flag 16396 term 59 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
term 59 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
term 59 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8938 term 59 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
flag 40752 term 59 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
flag 97111 term 59 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
flag 61123 term 59 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 59 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
update nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
flag 44914 term 59 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
flag 295 term 59 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
flag 51597 term 59 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
flag 29472 term 59 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17385 term 59 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
flag 48087 term 59 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
flag 91366 term 59 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
flag 86006 term 59 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11953 term 59 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
flag 39826 term 59 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
flag 29072 term 59 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
flag 85933 term 59 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
flag 55969 term 59 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
flag 58247 term 59 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13640 term 59 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
flag 36091 term 59 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32617 term 59 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
flag 1199 term 59 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=345
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346}]
------------------------------------------------------
client write log 7011116162942378787 (index 347) to leader 0
flag 95636 term 59 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
flag 98736 term 59 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 59 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346} {7011116162942378787 59 347}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346} {7011116162942378787 59 347}]
------------------------------------------------------
flag 21350 term 59 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 59 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 59 leaderCommit: 347 
------------------------------------------------------
flag 50052 term 59 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 59 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 59 leaderCommit: 347 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346} {7011116162942378787 59 347}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346} {7011116162942378787 59 347}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52931 term 59 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 59 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 59 leaderCommit: 347 
------------------------------------------------------
flag 40920 term 59 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 59 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 59 leaderCommit: 347 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346} {7011116162942378787 59 347}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346} {7011116162942378787 59 347}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16831 term 59 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 59 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 59 leaderCommit: 347 
------------------------------------------------------
flag 6217 term 59 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 59 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 59 leaderCommit: 347 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346} {7011116162942378787 59 347}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346} {7011116162942378787 59 347}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33199 term 59 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 59 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 59 leaderCommit: 347 
------------------------------------------------------
flag 67938 term 59 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 59 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 59 leaderCommit: 347 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346} {7011116162942378787 59 347}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346} {7011116162942378787 59 347}]
------------------------------------------------------
flag 48702 term 59 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 59 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 59 leaderCommit: 347 
------------------------------------------------------
flag 94995 term 59 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 59 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 59 leaderCommit: 347 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346} {7011116162942378787 59 347}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346} {7011116162942378787 59 347}]
------------------------------------------------------
flag 21403 term 59 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 59 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 59 leaderCommit: 347 
------------------------------------------------------
flag 74857 term 59 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 59 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 59 leaderCommit: 347 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346} {7011116162942378787 59 347}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 57 339} {8159429294984919369 57 340} {524575265954890169 57 341} {4189675479734922651 57 342} {892839876902207383 57 343} {8489877281592807751 57 344} {5906972287532781939 57 345} {7011116162942378787 57 346} {7011116162942378787 59 347}]
------------------------------------------------------
  ... Passed --  85.5  3 1932  800097  347
--- PASS: TestSnapshotInstall2D (85.53s)
PASS
