=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 0 vote for server 2
term 1 server 2 get outdate rpc reply from server 0
flag 37231 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 86428 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 1105698512744327370 (index 1) to leader 2
flag 81739 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 27302 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1105698512744327370 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1105698512744327370 1 1}]
------------------------------------------------------
flag 19895 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 33833 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1105698512744327370 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1105698512744327370 1 1}]
------------------------------------------------------
flag 33215 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 94896 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1105698512744327370 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1105698512744327370 1 1}]
------------------------------------------------------
flag 20217 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 50539 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1105698512744327370 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1105698512744327370 1 1}]
------------------------------------------------------
flag 42993 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 4433 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1105698512744327370 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1105698512744327370 1 1}]
------------------------------------------------------
flag 65368 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 56699 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1105698512744327370 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1105698512744327370 1 1}]
------------------------------------------------------
flag 94286 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 51279 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1105698512744327370 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
!!!!!!diconnect server 0
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1105698512744327370 1 1}]
------------------------------------------------------
client write log 1105030082362920216 (index 2) to leader 2
flag 62512 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 12682 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1105698512744327370 1 1} {1105030082362920216 1 2}]
------------------------------------------------------
flag 89258 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 81308 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1105698512744327370 1 1} {1105030082362920216 1 2}]
------------------------------------------------------
client write log 7990165924182008467 (index 3) to leader 2
client write log 5963759686743446504 (index 4) to leader 2
client write log 7647759263983109876 (index 5) to leader 2
client write log 3360626909304923263 (index 6) to leader 2
client write log 1838536498352058162 (index 7) to leader 2
client write log 5953345862804071135 (index 8) to leader 2
client write log 1352905298791225467 (index 9) to leader 2
client write log 5544162906093005349 (index 10) to leader 2
client write log 2999388962940585277 (index 11) to leader 2
client write log 2850510770350913420 (index 12) to leader 2
client write log 7491364927937778129 (index 13) to leader 2
client write log 7547573335649942815 (index 14) to leader 2
client write log 2804252744229930635 (index 15) to leader 2
client write log 4708485606350280170 (index 16) to leader 2
flag 67197 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 16148 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{<nil> 0 0} {1105698512744327370 1 1} {1105030082362920216 1 2} {7990165924182008467 1 3} {5963759686743446504 1 4} {7647759263983109876 1 5} {3360626909304923263 1 6} {1838536498352058162 1 7} {5953345862804071135 1 8} {1352905298791225467 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=16
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 86720 term 1 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 1 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=16
-------------------------------------------------------------
!!!!!!connect server 0
client write log 989728086790292666 (index 17) to leader 2
term 1 server 2 not vote for server 0, 日志不够新
term 1 server 1 not vote for server 0, 日志不够新
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 0 vote for server 2
term 3 server 2 get outdate rpc reply from server 0
flag 82747 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 14405 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 18->17
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 18->17
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 67063 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
flag 85612 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 92691 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
flag 79790 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 13336 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
flag 61501 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 76027 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
flag 94624 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 3428 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
flag 20437 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 20025 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
flag 82786 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 31318 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
flag 79375 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 32962 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
flag 41078 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 38197 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
flag 8716 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 73662 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
flag 27518 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 58217 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
flag 72022 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 73108 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
flag 6919 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 34161 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
flag 56940 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 28559 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
flag 55645 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 16194 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
flag 63445 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 22564 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
flag 72251 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 3713 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
flag 86492 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 44604 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
flag 79538 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 71832 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17}]
------------------------------------------------------
client write log 989728086790292666 (index 18) to leader 2
flag 36471 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 60803 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17} {989728086790292666 3 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17} {989728086790292666 3 18}]
------------------------------------------------------
flag 44011 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 15917 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17} {989728086790292666 3 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17} {989728086790292666 3 18}]
------------------------------------------------------
flag 46181 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 59280 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17} {989728086790292666 3 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17} {989728086790292666 3 18}]
------------------------------------------------------
flag 98952 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 97309 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17} {989728086790292666 3 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17} {989728086790292666 3 18}]
------------------------------------------------------
flag 53440 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 62674 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17} {989728086790292666 3 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17} {989728086790292666 3 18}]
------------------------------------------------------
flag 27990 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 27259 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17} {989728086790292666 3 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17} {989728086790292666 3 18}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 83311 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 29495 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 42310 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 43178 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 19->18
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 18
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 88742 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 server 0 vote for server 1
term 4 server 1 get vote from server 0
term 4 server 1 become leader
------------------------------------------------------
flag 95734 term 4 leader 1 nextIndex[0]: 19  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 29832 term 4 leader 1 nextIndex[2]: 19  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17} {989728086790292666 3 18}]
------------------------------------------------------
client write log 3859625409244967208 (index 19) to leader 1
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 18
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 33784 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6544 term 4 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 59381 term 4 leader 1 nextIndex[2]: 19  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {5544162906093005349 1 10} {2999388962940585277 1 11} {2850510770350913420 1 12} {7491364927937778129 1 13} {7547573335649942815 1 14} {2804252744229930635 1 15} {4708485606350280170 1 16} {989728086790292666 1 17} {989728086790292666 3 18} {3859625409244967208 4 19}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 18
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 36528 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 97354 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 19  matchIndex[2]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 18
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 45961 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
client write log 287797825398162904 (index 20) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20676 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 19  matchIndex[2]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {287797825398162904 4 20}]
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 18
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 50401 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 59326 term 4 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 19  matchIndex[2]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {287797825398162904 4 20}]
------------------------------------------------------
!!!!!!connect server 2
client write log 450634097527542657 (index 21) to leader 1
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 18
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 61740 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 server 1 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
term 4 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84485 term 4 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 19  matchIndex[2]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot success
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48300 term 4 leader 1 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 98385 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62962 term 4 leader 1 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 16628 term 4 leader 1 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21}]
------------------------------------------------------
term 4 server 2 not vote for server 1, 日志不够新
term 4 server 1 get outdate rpc reply from server 2
flag 99037 term 4 leader 1 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 78057 term 4 leader 1 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21}]
------------------------------------------------------
flag 86447 term 4 leader 1 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 84721 term 4 leader 1 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21}]
------------------------------------------------------
flag 92067 term 4 leader 1 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 31000 term 4 leader 1 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21}]
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56637 term 4 leader 1 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 45723 term 4 leader 1 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1735018954107017542 (index 22) to leader 1
flag 58437 term 4 leader 1 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 50849 term 4 leader 1 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22}]
------------------------------------------------------
flag 25571 term 4 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 9378 term 4 leader 1 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22}]
------------------------------------------------------
client write log 6470337382561824612 (index 23) to leader 1
client write log 7993837145604527760 (index 24) to leader 1
client write log 9057484260194501669 (index 25) to leader 1
client write log 1863715182407580868 (index 26) to leader 1
client write log 5696528163323974931 (index 27) to leader 1
client write log 3150859352906519722 (index 28) to leader 1
flag 42995 term 4 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 47723 term 4 leader 1 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 22->21
------------------------------------------------------
flag 81876 term 4 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 21
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28}]
------------------------------------------------------
!!!!!!connect server 2
client write log 768117919986348330 (index 29) to leader 1
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 0 not vote for server 2, 日志不够新
term 6 server 2 vote for server 1
term 6 server 0 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 1 get outdate rpc reply from server 0
flag 31212 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 56344 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 30->29
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 30->29
------------------------------------------------------
flag 72162 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 70518 term 6 leader 1 nextIndex[2]: 22  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92823 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 30913 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
flag 70337 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 25580 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
flag 85894 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 44660 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
flag 41823 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 76931 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
flag 32872 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 9562 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
flag 86833 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 3178 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
flag 24761 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 19827 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
flag 27794 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 46643 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
flag 61885 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 86357 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
flag 65229 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 98052 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95691 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 39950 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61642 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 77737 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
flag 71561 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 36669 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
flag 39264 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 64019 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36604 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 68962 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
flag 33150 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 70833 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
flag 21907 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 33745 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 768117919986348330 (index 30) to leader 1
flag 30501 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 93119 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29} {768117919986348330 6 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 19} {287797825398162904 4 20} {450634097527542657 4 21} {1735018954107017542 4 22} {6470337382561824612 4 23} {7993837145604527760 4 24} {9057484260194501669 4 25} {1863715182407580868 4 26} {5696528163323974931 4 27} {3150859352906519722 4 28} {768117919986348330 4 29} {768117919986348330 6 30}]
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=30
-------------------------------------------------------------
flag 90181 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 48822 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {768117919986348330 6 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {768117919986348330 6 30}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=30
-------------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=30
-------------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13548 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 3461 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {768117919986348330 6 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {768117919986348330 6 30}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34590 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 99362 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {768117919986348330 6 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {768117919986348330 6 30}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34788 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 16794 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {768117919986348330 6 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {768117919986348330 6 30}]
------------------------------------------------------
flag 31872 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 96114 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {768117919986348330 6 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {768117919986348330 6 30}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36075 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 56094 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {768117919986348330 6 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {768117919986348330 6 30}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 9136909009422206320 (index 31) to leader 1
flag 66849 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 98999 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {768117919986348330 6 30} {9136909009422206320 6 31}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47396 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 39160 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {768117919986348330 6 30} {9136909009422206320 6 31}]
------------------------------------------------------
client write log 1974083524364533900 (index 32) to leader 1
client write log 2906464096378332933 (index 33) to leader 1
client write log 972856568120733408 (index 34) to leader 1
client write log 3073913780341286460 (index 35) to leader 1
client write log 5106819352933687479 (index 36) to leader 1
client write log 7439956550677360307 (index 37) to leader 1
client write log 2512487396200812299 (index 38) to leader 1
client write log 5174162873427178672 (index 39) to leader 1
flag 42765 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 7628 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 29} {768117919986348330 6 30} {9136909009422206320 6 31} {1974083524364533900 6 32} {2906464096378332933 6 33} {972856568120733408 6 34} {3073913780341286460 6 35} {5106819352933687479 6 36} {7439956550677360307 6 37} {2512487396200812299 6 38} {5174162873427178672 6 39}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 39767 term 6 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
!!!!!!connect server 2
client write log 500582677606695269 (index 40) to leader 1
term 6 server 1 not vote for server 2, 日志不够新
term 6 server 0 not vote for server 2, 日志不够新
term 8 server 2 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 1 become leader
------------------------------------------------------
term 8 server 0 vote for server 1
term 8 server 1 get outdate rpc reply from server 0
flag 88578 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 41398 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 41->40
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 41->40
------------------------------------------------------
flag 59595 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 31  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 2 InstallSnapshot success
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29065 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 81382 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
flag 10716 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 67189 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3738 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 48665 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
flag 46206 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 23357 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95481 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 60946 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64850 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 69402 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
flag 97462 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 85371 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73378 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 97238 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
flag 43147 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 66597 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
flag 28034 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 11503 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
flag 84641 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 40646 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27350 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 94572 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
flag 64250 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 63092 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
flag 98652 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 3291 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
flag 87900 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 78659 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21134 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 2452 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
flag 69198 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 27854 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {500582677606695269 6 40}]
------------------------------------------------------
client write log 500582677606695269 (index 41) to leader 1
flag 33632 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 51201 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41}]
------------------------------------------------------
flag 30554 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 85465 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41}]
------------------------------------------------------
flag 57298 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 45219 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41}]
------------------------------------------------------
flag 43927 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 78 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41}]
------------------------------------------------------
flag 15076 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 45995 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41}]
------------------------------------------------------
flag 94919 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 86203 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41}]
------------------------------------------------------
flag 41605 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 51069 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 29342 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 81097 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 32685 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 50883 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 87946 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 78012 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 65089 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 33794 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 9 server 2 vote for server 0
term 9 server 0 get vote from server 2
term 9 server 0 become leader
------------------------------------------------------
flag 66153 term 9 leader 0 nextIndex[1]: 42  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 23766 term 9 leader 0 nextIndex[2]: 42  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41}]
------------------------------------------------------
client write log 4691520893724335527 (index 42) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99757 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 18524 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 48817 term 9 leader 0 nextIndex[1]: 42  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 71382 term 9 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 9 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42}]
------------------------------------------------------
flag 14622 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 14481 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 42723 term 9 leader 0 nextIndex[1]: 42  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 33808 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42}]
------------------------------------------------------
client write log 8654892779457964147 (index 43) to leader 0
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 42->41
------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 41
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 99305 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 686 term 9 leader 0 nextIndex[1]: 42  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 30256 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 41
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 48932 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 50973 term 9 leader 0 nextIndex[1]: 42  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 7203 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
!!!!!!connect server 1
client write log 1030533421077133296 (index 42) to leader 1
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 41
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 5878 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 9 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
term 8 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79207 term 9 leader 0 nextIndex[1]: 42  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 21350 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84080 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 15928 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
flag 91974 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 88597 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7085 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 97578 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50729 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 62712 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
flag 23423 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 16160 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
flag 82018 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 40700 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 44->43
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 43
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 73554 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 43 args.LastIncludedIndex 39
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2910 term 9 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 16654 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42333 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 739 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
flag 29687 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 8179 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
flag 37358 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 26545 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
flag 37959 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 9281 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97099 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 5799 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80902 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 58085 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
flag 7038 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 91934 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 44->43
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 43
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 97146 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 43 args.LastIncludedIndex 39
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
flag 70955 term 9 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 81992 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
flag 22057 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 84133 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
flag 35119 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 55057 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43}]
------------------------------------------------------
client write log 1030533421077133296 (index 44) to leader 0
flag 15148 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 62834 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43} {1030533421077133296 9 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43} {1030533421077133296 9 44}]
------------------------------------------------------
flag 67091 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 70329 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43} {1030533421077133296 9 44}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43} {1030533421077133296 9 44}]
------------------------------------------------------
flag 24329 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 94674 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43} {1030533421077133296 9 44}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43} {1030533421077133296 9 44}]
------------------------------------------------------
flag 34922 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 67399 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43} {1030533421077133296 9 44}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43} {1030533421077133296 9 44}]
------------------------------------------------------
flag 9592 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 82589 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43} {1030533421077133296 9 44}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43} {1030533421077133296 9 44}]
------------------------------------------------------
term 9 server 1 not vote for server 0, 日志不够新
term 9 server 0 get outdate rpc reply from server 1
flag 91407 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 17448 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43} {1030533421077133296 9 44}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43} {1030533421077133296 9 44}]
------------------------------------------------------
flag 19165 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 82369 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43} {1030533421077133296 9 44}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43} {1030533421077133296 9 44}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5350395480066508173 (index 45) to leader 0
flag 82323 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 6590 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43} {1030533421077133296 9 44} {5350395480066508173 9 45}]
------------------------------------------------------
flag 49091 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 1397 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43} {1030533421077133296 9 44} {5350395480066508173 9 45}]
------------------------------------------------------
client write log 853371721930200674 (index 46) to leader 0
client write log 8682658515077140909 (index 47) to leader 0
client write log 5286827597692155653 (index 48) to leader 0
client write log 7606544713203460940 (index 49) to leader 0
client write log 2980496665576206122 (index 50) to leader 0
client write log 4765006620348730462 (index 51) to leader 0
client write log 3857738953915712713 (index 52) to leader 0
client write log 7771246841297265008 (index 53) to leader 0
client write log 5313397401151270799 (index 54) to leader 0
client write log 2670943347234809711 (index 55) to leader 0
flag 70974 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 69144 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 39} {500582677606695269 6 40} {500582677606695269 8 41} {4691520893724335527 9 42} {8654892779457964147 9 43} {1030533421077133296 9 44} {5350395480066508173 9 45} {853371721930200674 9 46} {8682658515077140909 9 47} {5286827597692155653 9 48} {7606544713203460940 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=55
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 83980 term 9 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=55
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1649050902694714627 (index 56) to leader 0
term 9 server 2 not vote for server 1, 日志不够新
term 9 server 0 not vote for server 1, 日志不够新
term 11 server 2 vote for server 0
term 11 server 0 get vote from server 2
term 11 server 0 become leader
term 11 server 1 vote for server 0
------------------------------------------------------
term 11 server 0 get outdate rpc reply from server 1
flag 95614 term 11 leader 0 nextIndex[1]: 57  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 7540 term 11 leader 0 nextIndex[2]: 57  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 57->56
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 57->56
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 45  matchIndex[1]: 0
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 37057 term 11 leader 0 nextIndex[2]: 56  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 1 InstallSnapshot success
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36675 term 11 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 74371 term 11 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
flag 16088 term 11 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 16598 term 11 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
flag 66186 term 11 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 99686 term 11 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87769 term 11 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 1887 term 11 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
flag 83361 term 11 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 83747 term 11 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
flag 83135 term 11 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 58125 term 11 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
flag 37113 term 11 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 67250 term 11 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
flag 44882 term 11 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 63179 term 11 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
term 11 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87134 term 11 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 58454 term 11 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
flag 64862 term 11 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 1267 term 11 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
flag 64491 term 11 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 73239 term 11 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84558 term 11 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 38844 term 11 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
flag 27238 term 11 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 29574 term 11 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
flag 73739 term 11 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 5525 term 11 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
flag 13 term 11 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 36305 term 11 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
flag 2445 term 11 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 27592 term 11 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueterm 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
update nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24598 term 11 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 15686 term 11 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83388 term 11 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 55581 term 11 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56}]
------------------------------------------------------
client write log 1649050902694714627 (index 57) to leader 0
flag 50376 term 11 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 24475 term 11 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56} {1649050902694714627 11 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56} {1649050902694714627 11 57}]
------------------------------------------------------
term 11 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 74051 term 11 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
flag 28379 term 11 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 11 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56} {1649050902694714627 11 57}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56} {1649050902694714627 11 57}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66784 term 11 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
flag 2575 term 11 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 11 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56} {1649050902694714627 11 57}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56} {1649050902694714627 11 57}]
------------------------------------------------------
flag 40977 term 11 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
flag 6061 term 11 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 11 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56} {1649050902694714627 11 57}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56} {1649050902694714627 11 57}]
------------------------------------------------------
flag 23659 term 11 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
flag 59445 term 11 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 11 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56} {1649050902694714627 11 57}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56} {1649050902694714627 11 57}]
------------------------------------------------------
flag 8410 term 11 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
flag 2335 term 11 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 11 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56} {1649050902694714627 11 57}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56} {1649050902694714627 11 57}]
------------------------------------------------------
flag 1630 term 11 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
flag 24615 term 11 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 11 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56} {1649050902694714627 11 57}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56} {1649050902694714627 11 57}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4071027317033795180 (index 58) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87588 term 11 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
flag 39768 term 11 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 11 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56} {1649050902694714627 11 57} {4071027317033795180 11 58}]
------------------------------------------------------
flag 65847 term 11 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 74162 term 11 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56} {1649050902694714627 11 57} {4071027317033795180 11 58}]
------------------------------------------------------
client write log 4970625180540925696 (index 59) to leader 0
client write log 8970058413847106268 (index 60) to leader 0
client write log 4160758721667428906 (index 61) to leader 0
client write log 5775345481767033799 (index 62) to leader 0
client write log 5010430788782124701 (index 63) to leader 0
client write log 2516025173901372529 (index 64) to leader 0
client write log 1760486029808402579 (index 65) to leader 0
client write log 4381152450211556545 (index 66) to leader 0
client write log 2374406861370117186 (index 67) to leader 0
client write log 5113159781223780431 (index 68) to leader 0
flag 50006 term 11 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 22320 term 11 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 49} {2980496665576206122 9 50} {4765006620348730462 9 51} {3857738953915712713 9 52} {7771246841297265008 9 53} {5313397401151270799 9 54} {2670943347234809711 9 55} {1649050902694714627 9 56} {1649050902694714627 11 57} {4071027317033795180 11 58} {4970625180540925696 11 59} {8970058413847106268 11 60} {4160758721667428906 11 61} {5775345481767033799 11 62} {5010430788782124701 11 63} {2516025173901372529 11 64} {1760486029808402579 11 65} {4381152450211556545 11 66} {2374406861370117186 11 67} {5113159781223780431 11 68}]
------------------------------------------------------
term 11 Server0 start snapshot! index=59
term 11 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=68
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 54556 term 11 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {8970058413847106268 11 60} {4160758721667428906 11 61} {5775345481767033799 11 62} {5010430788782124701 11 63} {2516025173901372529 11 64} {1760486029808402579 11 65} {4381152450211556545 11 66} {2374406861370117186 11 67} {5113159781223780431 11 68}]
------------------------------------------------------
term 11 Server2 start snapshot! index=59
term 11 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=68
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7020141910032306944 (index 69) to leader 0
term 11 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 72247 term 11 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 59} {8970058413847106268 11 60} {4160758721667428906 11 61} {5775345481767033799 11 62} {5010430788782124701 11 63} {2516025173901372529 11 64} {1760486029808402579 11 65} {4381152450211556545 11 66} {2374406861370117186 11 67} {5113159781223780431 11 68} {7020141910032306944 11 69}]
------------------------------------------------------
term 12 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 12 Server0 start snapshot! index=69
term 12 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
term 13 server 1 vote for server 0
term 13 server 0 get vote from server 1
term 13 server 2 vote for server 0
term 13 server 0 become leader
------------------------------------------------------
term 13 server 0 get outdate rpc reply from server 2
flag 33846 term 13 leader 0 nextIndex[1]: 70  matchIndex[1]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 1353 term 13 leader 0 nextIndex[2]: 70  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 70->69
------------------------------------------------------
term 13 Server2 start snapshot! index=69
term 13 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
term 13 leader 0 nextIndex[1]: 58  matchIndex[1]: 0
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 46572 term 13 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 13 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 11 rf.commitIndex 69 rf.lastApplied 69
term 13 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
flag 34576 term 13 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 55081 term 13 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36529 term 13 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 64949 term 13 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
flag 57706 term 13 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 11141 term 13 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
flag 99236 term 13 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 9465 term 13 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
flag 34122 term 13 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 89351 term 13 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 87610 term 13 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 10504 term 13 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 39092 term 13 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 4416 term 13 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 52126 term 13 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 61920 term 13 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 14 server 2 vote for server 1
term 14 server 1 get vote from server 2
term 14 server 1 become leader
------------------------------------------------------
flag 38922 term 14 leader 1 nextIndex[0]: 70  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 99083 term 14 leader 1 nextIndex[2]: 70  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
client write log 2265298243738802744 (index 70) to leader 1
flag 13775 term 13 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 67647 term 13 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 93872 term 14 leader 1 nextIndex[0]: 70  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 11465 term 14 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {2265298243738802744 14 70}]
------------------------------------------------------
flag 21908 term 13 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 85686 term 13 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 97367 term 14 leader 1 nextIndex[0]: 70  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 73274 term 14 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 14 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 14 leaderCommit: 70 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {2265298243738802744 14 70}]
------------------------------------------------------
client write log 5699327635053879601 (index 71) to leader 1
client write log 8136744986584788150 (index 72) to leader 1
client write log 6509704016877249554 (index 73) to leader 1
client write log 7445814238895505806 (index 74) to leader 1
client write log 6828347100076324680 (index 75) to leader 1
client write log 1166505085187403621 (index 76) to leader 1
client write log 5145810278674015430 (index 77) to leader 1
flag 10999 term 13 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 6771 term 13 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 12916 term 14 leader 1 nextIndex[0]: 70  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 46202 term 14 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 14 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 14 leaderCommit: 70 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {2265298243738802744 14 70} {5699327635053879601 14 71} {8136744986584788150 14 72} {6509704016877249554 14 73} {7445814238895505806 14 74} {6828347100076324680 14 75} {1166505085187403621 14 76} {5145810278674015430 14 77}]
------------------------------------------------------
flag 66236 term 13 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 37093 term 13 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 70->69
------------------------------------------------------
flag 6664 term 14 leader 1 nextIndex[0]: 70  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 34755 term 14 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 14 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 77 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {2265298243738802744 14 70} {5699327635053879601 14 71} {8136744986584788150 14 72} {6509704016877249554 14 73} {7445814238895505806 14 74} {6828347100076324680 14 75} {1166505085187403621 14 76} {5145810278674015430 14 77}]
------------------------------------------------------
!!!!!!connect server 0
client write log 3137196784830853160 (index 78) to leader 1
term 13 leader 0 nextIndex[1]: 0  matchIndex[1]: 69
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 73127 term 13 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 14 server 2 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
term 14 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33127 term 14 leader 1 nextIndex[0]: 70  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 66950 term 14 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 14 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 77 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
term 14 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
[{snapshot 11 69} {2265298243738802744 14 70} {5699327635053879601 14 71} {8136744986584788150 14 72} {6509704016877249554 14 73} {7445814238895505806 14 74} {6828347100076324680 14 75} {1166505085187403621 14 76} {5145810278674015430 14 77} {3137196784830853160 14 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {2265298243738802744 14 70} {5699327635053879601 14 71} {8136744986584788150 14 72} {6509704016877249554 14 73} {7445814238895505806 14 74} {6828347100076324680 14 75} {1166505085187403621 14 76} {5145810278674015430 14 77} {3137196784830853160 14 78}]
------------------------------------------------------
flag 83734 term 14 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 14 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 14 leaderCommit: 78 
------------------------------------------------------
flag 20629 term 14 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 14 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {2265298243738802744 14 70} {5699327635053879601 14 71} {8136744986584788150 14 72} {6509704016877249554 14 73} {7445814238895505806 14 74} {6828347100076324680 14 75} {1166505085187403621 14 76} {5145810278674015430 14 77} {3137196784830853160 14 78}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {2265298243738802744 14 70} {5699327635053879601 14 71} {8136744986584788150 14 72} {6509704016877249554 14 73} {7445814238895505806 14 74} {6828347100076324680 14 75} {1166505085187403621 14 76} {5145810278674015430 14 77} {3137196784830853160 14 78}]
------------------------------------------------------
flag 29177 term 14 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 14 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 14 leaderCommit: 78 
------------------------------------------------------
flag 99709 term 14 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 14 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {2265298243738802744 14 70} {5699327635053879601 14 71} {8136744986584788150 14 72} {6509704016877249554 14 73} {7445814238895505806 14 74} {6828347100076324680 14 75} {1166505085187403621 14 76} {5145810278674015430 14 77} {3137196784830853160 14 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {2265298243738802744 14 70} {5699327635053879601 14 71} {8136744986584788150 14 72} {6509704016877249554 14 73} {7445814238895505806 14 74} {6828347100076324680 14 75} {1166505085187403621 14 76} {5145810278674015430 14 77} {3137196784830853160 14 78}]
------------------------------------------------------
flag 55625 term 14 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 14 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 14 leaderCommit: 78 
------------------------------------------------------
flag 66572 term 14 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 14 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {2265298243738802744 14 70} {5699327635053879601 14 71} {8136744986584788150 14 72} {6509704016877249554 14 73} {7445814238895505806 14 74} {6828347100076324680 14 75} {1166505085187403621 14 76} {5145810278674015430 14 77} {3137196784830853160 14 78}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {2265298243738802744 14 70} {5699327635053879601 14 71} {8136744986584788150 14 72} {6509704016877249554 14 73} {7445814238895505806 14 74} {6828347100076324680 14 75} {1166505085187403621 14 76} {5145810278674015430 14 77} {3137196784830853160 14 78}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40339 term 14 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 14 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 14 leaderCommit: 78 
------------------------------------------------------
flag 4635 term 14 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 14 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {2265298243738802744 14 70} {5699327635053879601 14 71} {8136744986584788150 14 72} {6509704016877249554 14 73} {7445814238895505806 14 74} {6828347100076324680 14 75} {1166505085187403621 14 76} {5145810278674015430 14 77} {3137196784830853160 14 78}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {2265298243738802744 14 70} {5699327635053879601 14 71} {8136744986584788150 14 72} {6509704016877249554 14 73} {7445814238895505806 14 74} {6828347100076324680 14 75} {1166505085187403621 14 76} {5145810278674015430 14 77} {3137196784830853160 14 78}]
------------------------------------------------------
flag 58310 term 14 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 14 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 14 leaderCommit: 78 
------------------------------------------------------
flag 1899 term 14 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 14 leaderCommit: 78 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {2265298243738802744 14 70} {5699327635053879601 14 71} {8136744986584788150 14 72} {6509704016877249554 14 73} {7445814238895505806 14 74} {6828347100076324680 14 75} {1166505085187403621 14 76} {5145810278674015430 14 77} {3137196784830853160 14 78}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {2265298243738802744 14 70} {5699327635053879601 14 71} {8136744986584788150 14 72} {6509704016877249554 14 73} {7445814238895505806 14 74} {6828347100076324680 14 75} {1166505085187403621 14 76} {5145810278674015430 14 77} {3137196784830853160 14 78}]
------------------------------------------------------
flag 94967 term 14 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 14 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 14 leaderCommit: 78 
------------------------------------------------------
flag 72877 term 14 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 14 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {2265298243738802744 14 70} {5699327635053879601 14 71} {8136744986584788150 14 72} {6509704016877249554 14 73} {7445814238895505806 14 74} {6828347100076324680 14 75} {1166505085187403621 14 76} {5145810278674015430 14 77} {3137196784830853160 14 78}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {2265298243738802744 14 70} {5699327635053879601 14 71} {8136744986584788150 14 72} {6509704016877249554 14 73} {7445814238895505806 14 74} {6828347100076324680 14 75} {1166505085187403621 14 76} {5145810278674015430 14 77} {3137196784830853160 14 78}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2987578617580418107 (index 79) to leader 1
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50221 term 14 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 14 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 14 leaderCommit: 78 
------------------------------------------------------
flag 12185 term 14 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 14 leaderCommit: 78 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 11 69} {2265298243738802744 14 70} {5699327635053879601 14 71} {8136744986584788150 14 72} {6509704016877249554 14 73} {7445814238895505806 14 74} {6828347100076324680 14 75} {1166505085187403621 14 76} {5145810278674015430 14 77} {3137196784830853160 14 78} {2987578617580418107 14 79}]
------------------------------------------------------
term 14 Server1 start snapshot! index=79
term 14 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
flag 14871 term 14 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 Server0 start snapshot! index=79
term 14 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
client write log 942328825132499227 (index 80) to leader 1
client write log 5868355056085066293 (index 81) to leader 1
client write log 2652548670620384804 (index 82) to leader 1
client write log 5708602398428130913 (index 83) to leader 1
client write log 860564729886262204 (index 84) to leader 1
client write log 3201580467091870213 (index 85) to leader 1
client write log 8135854403548418902 (index 86) to leader 1
client write log 273537451741180163 (index 87) to leader 1
client write log 4817015944753919311 (index 88) to leader 1
client write log 2851025547569914420 (index 89) to leader 1
client write log 4042416546485956780 (index 90) to leader 1
client write log 6645922816579831351 (index 91) to leader 1
client write log 7295117526510698630 (index 92) to leader 1
flag 34274 term 14 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 79} {942328825132499227 14 80} {5868355056085066293 14 81} {2652548670620384804 14 82} {5708602398428130913 14 83} {860564729886262204 14 84} {3201580467091870213 14 85} {8135854403548418902 14 86} {273537451741180163 14 87} {4817015944753919311 14 88} {2851025547569914420 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92}]
------------------------------------------------------
term 14 Server1 start snapshot! index=89
term 14 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=92
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66595 term 14 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 14 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92}]
------------------------------------------------------
term 14 Server0 start snapshot! index=89
term 14 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=92
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6702962380313862808 (index 93) to leader 1
term 14 server 1 not vote for server 2, 日志不够新
term 14 server 0 not vote for server 2, 日志不够新
term 16 server 0 vote for server 1
term 16 server 2 vote for server 1
term 16 server 1 get vote from server 2
term 16 server 1 become leader
------------------------------------------------------
term 16 server 1 get outdate rpc reply from server 0
flag 87472 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 34734 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 16 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 94->93
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 94->93
------------------------------------------------------
flag 5828 term 16 leader 1 nextIndex[0]: 93  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 79  matchIndex[2]: 0
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 16 server 2 InstallSnapshot success
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 14 rf.commitIndex 89 rf.lastApplied 89
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86538 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 6454 term 16 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
flag 24171 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 73088 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
flag 28695 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 31706 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 0 not vote for server 1, 任期不够新
term 16 server 1 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31140 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 5034 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 53869 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 59111 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
flag 45956 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 70356 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
flag 92763 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 7193 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33034 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 43615 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
flag 87405 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 29436 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42797 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 74624 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13961 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 64514 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
flag 26946 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 99931 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7274 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 91294 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
term 16 server 2 not vote for server 1, 任期不够新
term 16 server 1 get outdate rpc reply from server 2
flag 57428 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 3655 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
flag 8193 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 77911 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
flag 94740 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 19517 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
flag 44306 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 25306 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
flag 48383 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 92693 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93}]
------------------------------------------------------
client write log 6702962380313862808 (index 94) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14493 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 18823 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93} {6702962380313862808 16 94}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93} {6702962380313862808 16 94}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64563 term 16 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 72675 term 16 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93} {6702962380313862808 16 94}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93} {6702962380313862808 16 94}]
------------------------------------------------------
flag 45884 term 16 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 12036 term 16 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93} {6702962380313862808 16 94}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93} {6702962380313862808 16 94}]
------------------------------------------------------
flag 43727 term 16 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 7310 term 16 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93} {6702962380313862808 16 94}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93} {6702962380313862808 16 94}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72057 term 16 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 95401 term 16 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
term 16 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93} {6702962380313862808 16 94}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93} {6702962380313862808 16 94}]
------------------------------------------------------
flag 29464 term 16 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 44647 term 16 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93} {6702962380313862808 16 94}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93} {6702962380313862808 16 94}]
------------------------------------------------------
flag 37237 term 16 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 22003 term 16 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93} {6702962380313862808 16 94}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93} {6702962380313862808 16 94}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4651043877955477743 (index 95) to leader 1
flag 62059 term 16 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 84385 term 16 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93} {6702962380313862808 16 94} {4651043877955477743 16 95}]
------------------------------------------------------
flag 58420 term 16 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 16 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 65914 term 16 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93} {6702962380313862808 16 94} {4651043877955477743 16 95}]
------------------------------------------------------
client write log 8153742333787650604 (index 96) to leader 1
client write log 2459896253194747549 (index 97) to leader 1
client write log 7381513777999503400 (index 98) to leader 1
client write log 7021122487601015644 (index 99) to leader 1
client write log 1053670989800608486 (index 100) to leader 1
client write log 4666767336155037373 (index 101) to leader 1
flag 54707 term 16 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 16 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 34107 term 16 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 89} {4042416546485956780 14 90} {6645922816579831351 14 91} {7295117526510698630 14 92} {6702962380313862808 14 93} {6702962380313862808 16 94} {4651043877955477743 16 95} {8153742333787650604 16 96} {2459896253194747549 16 97} {7381513777999503400 16 98} {7021122487601015644 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101}]
------------------------------------------------------
term 16 Server1 start snapshot! index=99
term 16 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=101
-------------------------------------------------------------
flag 17167 term 16 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 16 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 Server0 start snapshot! index=99
term 16 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=101
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2127145717444741196 (index 102) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7177 term 16 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 16 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 17 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 2 vote for server 1
term 18 server 0 vote for server 1
term 18 server 1 get vote from server 2
term 18 server 1 become leader
------------------------------------------------------
term 18 server 1 get outdate rpc reply from server 0
flag 50976 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 63815 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 103->102
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
flag 58013 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 95  matchIndex[2]: 0
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 2 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 16 rf.commitIndex 99 rf.lastApplied 99
flag 32074 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 68493 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80852 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 88208 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
flag 52706 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 8325 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
flag 39971 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 2528 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62664 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 80785 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12918 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 21993 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
flag 34972 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 55881 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51225 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 94452 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
flag 8706 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 61987 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
flag 76270 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 25584 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
flag 57428 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 72480 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23136 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 23205 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
term 18 server 0 not vote for server 1, 任期不够新
term 18 server 1 get outdate rpc reply from server 0
flag 305 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 98762 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22031 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 34336 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10010 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 91618 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
flag 54018 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 88087 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102}]
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 2127145717444741196 (index 103) to leader 1
flag 31812 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 491 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102} {2127145717444741196 18 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102} {2127145717444741196 18 103}]
------------------------------------------------------
flag 27618 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 29368 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102} {2127145717444741196 18 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102} {2127145717444741196 18 103}]
------------------------------------------------------
flag 5298 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 63615 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102} {2127145717444741196 18 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102} {2127145717444741196 18 103}]
------------------------------------------------------
flag 53494 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 51548 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102} {2127145717444741196 18 103}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102} {2127145717444741196 18 103}]
------------------------------------------------------
flag 55980 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 60216 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102} {2127145717444741196 18 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102} {2127145717444741196 18 103}]
------------------------------------------------------
flag 66869 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 33079 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102} {2127145717444741196 18 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102} {2127145717444741196 18 103}]
------------------------------------------------------
flag 47207 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 52518 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102} {2127145717444741196 18 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102} {2127145717444741196 18 103}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 72311 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 98197 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 77077 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 58023 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 16119 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 81065 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 16757 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 81147 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 19 server 0 vote for server 2
term 19 server 2 get vote from server 0
term 19 server 2 become leader
------------------------------------------------------
client write log 5795887050623872325 (index 104) to leader 2
flag 30177 term 19 leader 2 nextIndex[0]: 104  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 15168 term 19 leader 2 nextIndex[1]: 104  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102} {2127145717444741196 18 103} {5795887050623872325 19 104}]
------------------------------------------------------
flag 15857 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 24705 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 79180 term 19 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 80990 term 19 leader 2 nextIndex[1]: 104  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102} {2127145717444741196 18 103} {5795887050623872325 19 104}]
------------------------------------------------------
client write log 9133728473768687795 (index 105) to leader 2
client write log 3523253038807109533 (index 106) to leader 2
client write log 2674312202783012447 (index 107) to leader 2
client write log 5426363492512916951 (index 108) to leader 2
client write log 5175779266443935381 (index 109) to leader 2
client write log 3871503063367318035 (index 110) to leader 2
client write log 7327215663003615248 (index 111) to leader 2
client write log 1137325013914919364 (index 112) to leader 2
client write log 4253558784858072046 (index 113) to leader 2
client write log 1449255267451732336 (index 114) to leader 2
client write log 170358343479568262 (index 115) to leader 2
client write log 4447238445732084274 (index 116) to leader 2
client write log 359186238712435662 (index 117) to leader 2
flag 39392 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 62311 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 72590 term 19 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 16731 term 19 leader 2 nextIndex[1]: 104  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 16 99} {1053670989800608486 16 100} {4666767336155037373 16 101} {2127145717444741196 16 102} {2127145717444741196 18 103} {5795887050623872325 19 104} {9133728473768687795 19 105} {3523253038807109533 19 106} {2674312202783012447 19 107} {5426363492512916951 19 108} {5175779266443935381 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
term 19 Server2 start snapshot! index=109
term 19 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=117
-------------------------------------------------------------
flag 21654 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 17242 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 11454 term 19 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 104  matchIndex[1]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
term 19 Server0 start snapshot! index=109
term 19 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=117
-------------------------------------------------------------
!!!!!!connect server 1
client write log 9218465823814200773 (index 104) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 104->103
------------------------------------------------------
flag 81888 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 0  matchIndex[2]: 103
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 19 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 server 0 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18139 term 19 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 104  matchIndex[1]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 1 InstallSnapshot success
------------------------------------------------------
term 19 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 19 rf.commitIndex 109 rf.lastApplied 109
term 19 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
term 19 server 2 not vote for server 1, 日志不够新
term 19 server 0 not vote for server 1, 日志不够新
term 21 server 1 vote for server 2
term 21 server 2 get vote from server 1
term 21 server 2 become leader
------------------------------------------------------
term 21 server 0 vote for server 2
term 21 server 2 get outdate rpc reply from server 0
flag 12206 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 74475 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 118->117
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
flag 25051 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 97284 term 21 leader 2 nextIndex[1]: 110  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
flag 11682 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 50002 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
flag 35823 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 29564 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
flag 36957 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 7939 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
flag 56068 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 41496 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15328 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 63508 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
flag 35749 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 5443 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
flag 17477 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 15874 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73530 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 80908 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
flag 55444 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 74252 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
flag 30587 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 63946 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29860 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 63165 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10924 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 20135 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
term 21 server 1 not vote for server 2, 任期不够新
term 21 server 2 get outdate rpc reply from server 1
flag 65222 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 74394 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
flag 22709 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 58800 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
flag 41424 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 85388 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
flag 73022 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 32863 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70375 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 43614 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117}]
------------------------------------------------------
client write log 9218465823814200773 (index 118) to leader 2
flag 24271 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 17475 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117} {9218465823814200773 21 118}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117} {9218465823814200773 21 118}]
------------------------------------------------------
flag 98012 term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 22555 term 21 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117} {9218465823814200773 21 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117} {9218465823814200773 21 118}]
------------------------------------------------------
flag 27294 term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 945 term 21 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117} {9218465823814200773 21 118}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117} {9218465823814200773 21 118}]
------------------------------------------------------
flag 33718 term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 24611 term 21 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117} {9218465823814200773 21 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117} {9218465823814200773 21 118}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47801 term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 84153 term 21 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117} {9218465823814200773 21 118}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117} {9218465823814200773 21 118}]
------------------------------------------------------
flag 65661 term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 71077 term 21 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117} {9218465823814200773 21 118}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117} {9218465823814200773 21 118}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2598788363809142988 (index 119) to leader 2
flag 16930 term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 86181 term 21 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 109} {3871503063367318035 19 110} {7327215663003615248 19 111} {1137325013914919364 19 112} {4253558784858072046 19 113} {1449255267451732336 19 114} {170358343479568262 19 115} {4447238445732084274 19 116} {359186238712435662 19 117} {9218465823814200773 21 118} {2598788363809142988 21 119}]
------------------------------------------------------
term 21 Server2 start snapshot! index=119
term 21 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 38169 term 21 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 21 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 21 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 21 119}]
------------------------------------------------------
term 21 Server1 start snapshot! index=119
term 21 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
client write log 7021259368477943504 (index 120) to leader 2
client write log 8827138779188415069 (index 121) to leader 2
client write log 1363801878094098209 (index 122) to leader 2
client write log 6973517826939712088 (index 123) to leader 2
client write log 7243587469003603489 (index 124) to leader 2
client write log 4360037751668802781 (index 125) to leader 2
term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 45456 term 21 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 21 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 21 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125}]
------------------------------------------------------
term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 19308 term 21 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125}]
------------------------------------------------------
!!!!!!connect server 0
client write log 5125445598592446779 (index 126) to leader 2
term 21 server 2 not vote for server 0, 日志不够新
term 21 server 1 not vote for server 0, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 1 vote for server 2
term 23 server 0 vote for server 2
term 23 server 2 get vote from server 1
term 23 server 2 become leader
------------------------------------------------------
term 23 server 2 get outdate rpc reply from server 0
flag 75881 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 28261 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 127->126
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 127->126
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 119  matchIndex[0]: 0
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 71999 term 23 leader 2 nextIndex[1]: 126  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
term 23 server 0 InstallSnapshot success
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 120 matchIndex[0] 119 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 21 rf.commitIndex 119 rf.lastApplied 119
flag 29681 term 23 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 78012 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73238 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 47622 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
term 23 server 0 not vote for server 2, 任期不够新
term 23 server 2 get outdate rpc reply from server 0
flag 63769 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 80954 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77887 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 9669 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
flag 10081 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 37887 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
flag 51831 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 74065 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
flag 69387 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 36834 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
flag 35819 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 96089 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
flag 21730 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 9246 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
flag 58150 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 88141 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29999 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 79012 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37025 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 50128 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
flag 29265 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 40345 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
flag 43854 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 10579 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
flag 10672 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 2594 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
------------------------------------------------------
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
flag 84020 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 99313 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40869 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 19161 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
flag 50740 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 8284 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126}]
------------------------------------------------------
client write log 5125445598592446779 (index 127) to leader 2
flag 90533 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 17162 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126} {5125445598592446779 23 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126} {5125445598592446779 23 127}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22507 term 23 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
flag 54127 term 23 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126} {5125445598592446779 23 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126} {5125445598592446779 23 127}]
------------------------------------------------------
flag 81592 term 23 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
flag 48085 term 23 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126} {5125445598592446779 23 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126} {5125445598592446779 23 127}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 1 not vote for server 2, 任期不够新
term 23 server 2 get outdate rpc reply from server 1
flag 92147 term 23 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
flag 83281 term 23 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126} {5125445598592446779 23 127}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126} {5125445598592446779 23 127}]
------------------------------------------------------
flag 13114 term 23 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
flag 37131 term 23 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126} {5125445598592446779 23 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126} {5125445598592446779 23 127}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20525 term 23 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
flag 71790 term 23 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126} {5125445598592446779 23 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126} {5125445598592446779 23 127}]
------------------------------------------------------
flag 40659 term 23 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
flag 41553 term 23 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126} {5125445598592446779 23 127}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126} {5125445598592446779 23 127}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8540165183245031660 (index 128) to leader 2
flag 36293 term 23 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
flag 70421 term 23 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126} {5125445598592446779 23 127} {8540165183245031660 23 128}]
------------------------------------------------------
flag 59762 term 23 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 128 
------------------------------------------------------
flag 44893 term 23 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 23 leaderCommit: 128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126} {5125445598592446779 23 127} {8540165183245031660 23 128}]
------------------------------------------------------
client write log 739949284307336460 (index 129) to leader 2
client write log 2273491439765763575 (index 130) to leader 2
client write log 4929592583392720798 (index 131) to leader 2
client write log 6322468248951136917 (index 132) to leader 2
client write log 7007228848129104513 (index 133) to leader 2
client write log 3692991477764164899 (index 134) to leader 2
client write log 135769799812957577 (index 135) to leader 2
client write log 3312832330783479095 (index 136) to leader 2
client write log 3480965416475301354 (index 137) to leader 2
client write log 6320564289810374810 (index 138) to leader 2
client write log 2003728011974971310 (index 139) to leader 2
client write log 73176444849287285 (index 140) to leader 2
client write log 7229912785505545879 (index 141) to leader 2
client write log 9160865256331144757 (index 142) to leader 2
client write log 8248828138799362302 (index 143) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19141 term 23 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 128 
------------------------------------------------------
flag 65052 term 23 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 23 leaderCommit: 128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 119} {7021259368477943504 21 120} {8827138779188415069 21 121} {1363801878094098209 21 122} {6973517826939712088 21 123} {7243587469003603489 21 124} {4360037751668802781 21 125} {5125445598592446779 21 126} {5125445598592446779 23 127} {8540165183245031660 23 128} {739949284307336460 23 129} {2273491439765763575 23 130} {4929592583392720798 23 131} {6322468248951136917 23 132} {7007228848129104513 23 133} {3692991477764164899 23 134} {135769799812957577 23 135} {3312832330783479095 23 136} {3480965416475301354 23 137} {6320564289810374810 23 138} {2003728011974971310 23 139} {73176444849287285 23 140} {7229912785505545879 23 141} {9160865256331144757 23 142} {8248828138799362302 23 143}]
------------------------------------------------------
term 23 Server2 start snapshot! index=129
term 23 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=143
-------------------------------------------------------------
term 23 Server2 start snapshot! index=139
term 23 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=143
-------------------------------------------------------------
term 23 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 81741 term 23 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 23 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {73176444849287285 23 140} {7229912785505545879 23 141} {9160865256331144757 23 142} {8248828138799362302 23 143}]
------------------------------------------------------
term 23 Server1 start snapshot! index=129
term 23 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=143
-------------------------------------------------------------
term 23 Server1 start snapshot! index=139
term 23 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=143
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4101962403816717634 (index 144) to leader 2
term 23 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 38102 term 23 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 23 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {73176444849287285 23 140} {7229912785505545879 23 141} {9160865256331144757 23 142} {8248828138799362302 23 143} {4101962403816717634 23 144}]
------------------------------------------------------
term 24 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 server 0 vote for server 2
term 25 server 2 get vote from server 0
term 25 server 2 become leader
------------------------------------------------------
term 25 server 1 vote for server 2
term 25 server 2 get outdate rpc reply from server 1
flag 28193 term 25 leader 2 nextIndex[0]: 145  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 86326 term 25 leader 2 nextIndex[1]: 145  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 145->144
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {73176444849287285 23 140} {7229912785505545879 23 141} {9160865256331144757 23 142} {8248828138799362302 23 143} {4101962403816717634 23 144}]
------------------------------------------------------
term 25 leader 2 nextIndex[0]: 128  matchIndex[0]: 0
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 68831 term 25 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {73176444849287285 23 140} {7229912785505545879 23 141} {9160865256331144757 23 142} {8248828138799362302 23 143} {4101962403816717634 23 144}]
------------------------------------------------------
term 25 server 0 InstallSnapshot success
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 23 rf.commitIndex 139 rf.lastApplied 139
flag 4251 term 25 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 25 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 37903 term 25 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {73176444849287285 23 140} {7229912785505545879 23 141} {9160865256331144757 23 142} {8248828138799362302 23 143} {4101962403816717634 23 144}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {73176444849287285 23 140} {7229912785505545879 23 141} {9160865256331144757 23 142} {8248828138799362302 23 143} {4101962403816717634 23 144}]
------------------------------------------------------
flag 50621 term 25 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 20404 term 25 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {73176444849287285 23 140} {7229912785505545879 23 141} {9160865256331144757 23 142} {8248828138799362302 23 143} {4101962403816717634 23 144}]
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {73176444849287285 23 140} {7229912785505545879 23 141} {9160865256331144757 23 142} {8248828138799362302 23 143} {4101962403816717634 23 144}]
------------------------------------------------------
flag 97721 term 25 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 61714 term 25 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {73176444849287285 23 140} {7229912785505545879 23 141} {9160865256331144757 23 142} {8248828138799362302 23 143} {4101962403816717634 23 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {73176444849287285 23 140} {7229912785505545879 23 141} {9160865256331144757 23 142} {8248828138799362302 23 143} {4101962403816717634 23 144}]
------------------------------------------------------
term 25 server 1 not vote for server 0, 任期不够新
term 25 server 0 get outdate rpc reply from server 1
flag 96541 term 25 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 17189 term 25 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {73176444849287285 23 140} {7229912785505545879 23 141} {9160865256331144757 23 142} {8248828138799362302 23 143} {4101962403816717634 23 144}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {73176444849287285 23 140} {7229912785505545879 23 141} {9160865256331144757 23 142} {8248828138799362302 23 143} {4101962403816717634 23 144}]
------------------------------------------------------
flag 83980 term 25 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 78658 term 25 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {73176444849287285 23 140} {7229912785505545879 23 141} {9160865256331144757 23 142} {8248828138799362302 23 143} {4101962403816717634 23 144}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {73176444849287285 23 140} {7229912785505545879 23 141} {9160865256331144757 23 142} {8248828138799362302 23 143} {4101962403816717634 23 144}]
------------------------------------------------------
flag 66295 term 25 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 91743 term 25 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {73176444849287285 23 140} {7229912785505545879 23 141} {9160865256331144757 23 142} {8248828138799362302 23 143} {4101962403816717634 23 144}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {73176444849287285 23 140} {7229912785505545879 23 141} {9160865256331144757 23 142} {8248828138799362302 23 143} {4101962403816717634 23 144}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38680 term 25 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 21815 term 25 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {73176444849287285 23 140} {7229912785505545879 23 141} {9160865256331144757 23 142} {8248828138799362302 23 143} {4101962403816717634 23 144}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {73176444849287285 23 140} {7229912785505545879 23 141} {9160865256331144757 23 142} {8248828138799362302 23 143} {4101962403816717634 23 144}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 94000 term 25 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 56124 term 25 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 70306 term 25 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 14943 term 25 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18999 term 25 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 32115 term 25 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 26 server 1 vote for server 0
term 26 server 0 get vote from server 1
term 26 server 0 become leader
------------------------------------------------------
flag 90492 term 26 leader 0 nextIndex[1]: 145  matchIndex[1]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 33142 term 26 leader 0 nextIndex[2]: 145  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {73176444849287285 23 140} {7229912785505545879 23 141} {9160865256331144757 23 142} {8248828138799362302 23 143} {4101962403816717634 23 144}]
------------------------------------------------------
client write log 5528354556256998747 (index 145) to leader 0
flag 81588 term 25 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 23294 term 25 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 18767 term 26 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 26 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 44852 term 26 leader 0 nextIndex[2]: 145  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {73176444849287285 23 140} {7229912785505545879 23 141} {9160865256331144757 23 142} {8248828138799362302 23 143} {4101962403816717634 23 144} {5528354556256998747 26 145}]
------------------------------------------------------
flag 31177 term 25 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 79772 term 25 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 7488 term 26 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 26 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 26 leaderCommit: 145 
------------------------------------------------------
flag 88705 term 26 leader 0 nextIndex[2]: 145  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 145 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {73176444849287285 23 140} {7229912785505545879 23 141} {9160865256331144757 23 142} {8248828138799362302 23 143} {4101962403816717634 23 144} {5528354556256998747 26 145}]
------------------------------------------------------
client write log 6228037450813685921 (index 146) to leader 0
client write log 5497483869326646742 (index 147) to leader 0
client write log 2670900876533498501 (index 148) to leader 0
client write log 4821175552564419486 (index 149) to leader 0
client write log 2291579961364289280 (index 150) to leader 0
client write log 6231702465190344278 (index 151) to leader 0
flag 30202 term 25 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 1884 term 25 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 30949 term 26 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 26 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 26 leaderCommit: 145 
------------------------------------------------------
flag 55599 term 26 leader 0 nextIndex[2]: 145  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 145 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 23 139} {73176444849287285 23 140} {7229912785505545879 23 141} {9160865256331144757 23 142} {8248828138799362302 23 143} {4101962403816717634 23 144} {5528354556256998747 26 145} {6228037450813685921 26 146} {5497483869326646742 26 147} {2670900876533498501 26 148} {4821175552564419486 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
term 26 Server0 start snapshot! index=149
term 26 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=151
-------------------------------------------------------------
flag 27981 term 25 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 43216 term 25 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 67318 term 26 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 145  matchIndex[2]: 0
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
term 26 Server1 start snapshot! index=149
term 26 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=151
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8388045645065717159 (index 145) to leader 2
flag 90968 term 25 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 14933 term 25 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 26 server 0 AppendEntries false 领导者任期过期 args.Term 25
------------------------------------------------------
term 26 server 1 AppendEntries false 领导者任期过期 args.Term 25
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88683 term 26 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 145  matchIndex[2]: 0
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 26 server 2 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
term 26 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 26 rf.commitIndex 149 rf.lastApplied 149
flag 59451 term 26 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 55150 term 26 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 26 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
flag 69530 term 26 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 73520 term 26 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43508 term 26 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 6483 term 26 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
flag 57521 term 26 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 86235 term 26 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
flag 88368 term 26 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 6923 term 26 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
flag 56199 term 26 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 54572 term 26 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
flag 31424 term 26 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 82248 term 26 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 152->151
------------------------------------------------------
flag 51557 term 26 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 0  matchIndex[2]: 151
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 2 InstallSnapshot fail
rf.commitIndex 151 args.LastIncludedIndex 149
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 26 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27394 term 26 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 35221 term 26 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 26 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
flag 28652 term 26 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 66276 term 26 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13468 term 26 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 51516 term 26 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
flag 83277 term 26 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 36843 term 26 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
flag 40606 term 26 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 64789 term 26 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6099 term 26 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 94477 term 26 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
flag 63616 term 26 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 13086 term 26 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34857 term 26 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 16674 term 26 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 152->151
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20440 term 26 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 0  matchIndex[2]: 151
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 26 server 2 InstallSnapshot fail
rf.commitIndex 151 args.LastIncludedIndex 149
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
term 26 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
flag 89414 term 26 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 57877 term 26 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 26 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
flag 91854 term 26 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 25864 term 26 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151}]
------------------------------------------------------
client write log 8388045645065717159 (index 152) to leader 0
flag 87888 term 26 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 68953 term 26 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151} {8388045645065717159 26 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151} {8388045645065717159 26 152}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14853 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 152 
------------------------------------------------------
flag 37519 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 152 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151} {8388045645065717159 26 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151} {8388045645065717159 26 152}]
------------------------------------------------------
flag 13748 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 152 
------------------------------------------------------
flag 60768 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 152 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151} {8388045645065717159 26 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151} {8388045645065717159 26 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 153->152
------------------------------------------------------
flag 2804 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 152 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 0  matchIndex[2]: 152
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 2 InstallSnapshot fail
rf.commitIndex 152 args.LastIncludedIndex 149
------------------------------------------------------
term 26 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151} {8388045645065717159 26 152}]
------------------------------------------------------
term 26 server 2 not vote for server 0, 任期不够新
term 26 server 0 get outdate rpc reply from server 2
flag 72388 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 152 
------------------------------------------------------
flag 73173 term 26 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 26 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 152 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151} {8388045645065717159 26 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151} {8388045645065717159 26 152}]
------------------------------------------------------
flag 99352 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 152 
------------------------------------------------------
flag 76204 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 152 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151} {8388045645065717159 26 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151} {8388045645065717159 26 152}]
------------------------------------------------------
flag 35553 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 152 
------------------------------------------------------
flag 96811 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 152 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151} {8388045645065717159 26 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151} {8388045645065717159 26 152}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4445805181267777987 (index 153) to leader 0
flag 67894 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 152 
------------------------------------------------------
flag 70857 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 152 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151} {8388045645065717159 26 152} {4445805181267777987 26 153}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 154->153
------------------------------------------------------
flag 30458 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 0  matchIndex[2]: 153
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 2 InstallSnapshot fail
rf.commitIndex 152 args.LastIncludedIndex 149
------------------------------------------------------
term 26 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
flag 52675 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 95318 term 26 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 26 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151} {8388045645065717159 26 152} {4445805181267777987 26 153}]
------------------------------------------------------
client write log 8688382353310895561 (index 154) to leader 0
client write log 6398252488653702338 (index 155) to leader 0
client write log 8713506051196154380 (index 156) to leader 0
client write log 5148581094902971695 (index 157) to leader 0
client write log 5852702445122471613 (index 158) to leader 0
client write log 8334737130774657845 (index 159) to leader 0
client write log 7914695237233774579 (index 160) to leader 0
client write log 7618225349204164977 (index 161) to leader 0
flag 92072 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 54769 term 26 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 26 149} {2291579961364289280 26 150} {6231702465190344278 26 151} {8388045645065717159 26 152} {4445805181267777987 26 153} {8688382353310895561 26 154} {6398252488653702338 26 155} {8713506051196154380 26 156} {5148581094902971695 26 157} {5852702445122471613 26 158} {8334737130774657845 26 159} {7914695237233774579 26 160} {7618225349204164977 26 161}]
------------------------------------------------------
term 26 Server0 start snapshot! index=159
term 26 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=161
-------------------------------------------------------------
term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
flag 63766 term 26 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 26 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 26 159} {7914695237233774579 26 160} {7618225349204164977 26 161}]
------------------------------------------------------
term 26 Server2 start snapshot! index=159
term 26 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=161
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 425682468777101241 (index 162) to leader 0
term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
flag 55052 term 26 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 26 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {7914695237233774579 26 160} {7618225349204164977 26 161} {425682468777101241 26 162}]
------------------------------------------------------
term 27 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 27 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 2 vote for server 0
term 28 server 0 get vote from server 2
term 28 server 0 become leader
------------------------------------------------------
term 28 server 1 vote for server 0
term 28 server 0 get outdate rpc reply from server 1
flag 70393 term 28 leader 0 nextIndex[1]: 163  matchIndex[1]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 67448 term 28 leader 0 nextIndex[2]: 163  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {7914695237233774579 26 160} {7618225349204164977 26 161} {425682468777101241 26 162}]
------------------------------------------------------
term 28 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 163->162
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 153  matchIndex[1]: 0
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
flag 49193 term 28 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 28 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {7914695237233774579 26 160} {7618225349204164977 26 161} {425682468777101241 26 162}]
------------------------------------------------------
term 28 server 1 InstallSnapshot success
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 26 rf.commitIndex 159 rf.lastApplied 159
flag 79223 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 88166 term 28 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 28 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {7914695237233774579 26 160} {7618225349204164977 26 161} {425682468777101241 26 162}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {7914695237233774579 26 160} {7618225349204164977 26 161} {425682468777101241 26 162}]
------------------------------------------------------
term 28 server 2 not vote for server 0, 任期不够新
term 28 server 0 get outdate rpc reply from server 2
flag 34724 term 28 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 28 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 67449 term 28 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 28 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {7914695237233774579 26 160} {7618225349204164977 26 161} {425682468777101241 26 162}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {7914695237233774579 26 160} {7618225349204164977 26 161} {425682468777101241 26 162}]
------------------------------------------------------
flag 31398 term 28 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 28 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 97620 term 28 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 28 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {7914695237233774579 26 160} {7618225349204164977 26 161} {425682468777101241 26 162}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {7914695237233774579 26 160} {7618225349204164977 26 161} {425682468777101241 26 162}]
------------------------------------------------------
flag 12117 term 28 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 28 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 79585 term 28 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 28 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {7914695237233774579 26 160} {7618225349204164977 26 161} {425682468777101241 26 162}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {7914695237233774579 26 160} {7618225349204164977 26 161} {425682468777101241 26 162}]
------------------------------------------------------
flag 12260 term 28 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 28 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 19589 term 28 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 28 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {7914695237233774579 26 160} {7618225349204164977 26 161} {425682468777101241 26 162}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {7914695237233774579 26 160} {7618225349204164977 26 161} {425682468777101241 26 162}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94133 term 28 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 28 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 14998 term 28 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 28 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {7914695237233774579 26 160} {7618225349204164977 26 161} {425682468777101241 26 162}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {7914695237233774579 26 160} {7618225349204164977 26 161} {425682468777101241 26 162}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4032302054229495154 (index 163) to leader 0
flag 55975 term 28 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 28 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 96126 term 28 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 28 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 26 159} {7914695237233774579 26 160} {7618225349204164977 26 161} {425682468777101241 26 162} {4032302054229495154 28 163}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25678 term 28 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 28 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 163 
------------------------------------------------------
flag 81549 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 26 159} {7914695237233774579 26 160} {7618225349204164977 26 161} {425682468777101241 26 162} {4032302054229495154 28 163}]
------------------------------------------------------
client write log 3230536809366882353 (index 164) to leader 0
client write log 8071317203465873469 (index 165) to leader 0
client write log 5843476284387301263 (index 166) to leader 0
client write log 9118490071141873482 (index 167) to leader 0
client write log 372856790178846658 (index 168) to leader 0
client write log 5289736226339414227 (index 169) to leader 0
client write log 4825832671650241930 (index 170) to leader 0
client write log 6218600681468131978 (index 171) to leader 0
client write log 6199938075000942268 (index 172) to leader 0
client write log 4076528814799452226 (index 173) to leader 0
flag 28868 term 28 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 28 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 163 
------------------------------------------------------
flag 13878 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 26 159} {7914695237233774579 26 160} {7618225349204164977 26 161} {425682468777101241 26 162} {4032302054229495154 28 163} {3230536809366882353 28 164} {8071317203465873469 28 165} {5843476284387301263 28 166} {9118490071141873482 28 167} {372856790178846658 28 168} {5289736226339414227 28 169} {4825832671650241930 28 170} {6218600681468131978 28 171} {6199938075000942268 28 172} {4076528814799452226 28 173}]
------------------------------------------------------
term 28 Server0 start snapshot! index=169
term 28 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=173
-------------------------------------------------------------
term 28 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 93798 term 28 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {4825832671650241930 28 170} {6218600681468131978 28 171} {6199938075000942268 28 172} {4076528814799452226 28 173}]
------------------------------------------------------
term 28 Server2 start snapshot! index=169
term 28 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=173
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4156721798920966064 (index 174) to leader 0
term 28 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 16282 term 28 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
term 29 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4825832671650241930 28 170} {6218600681468131978 28 171} {6199938075000942268 28 172} {4076528814799452226 28 173} {4156721798920966064 28 174}]
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 server 2 vote for server 0
term 30 server 1 vote for server 0
term 30 server 0 get vote from server 1
term 30 server 0 become leader
------------------------------------------------------
term 30 server 0 get outdate rpc reply from server 2
flag 73759 term 30 leader 0 nextIndex[1]: 175  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 8131 term 30 leader 0 nextIndex[2]: 175  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 175->174
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4825832671650241930 28 170} {6218600681468131978 28 171} {6199938075000942268 28 172} {4076528814799452226 28 173} {4156721798920966064 28 174}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 163  matchIndex[1]: 0
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 34252 term 30 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 1 InstallSnapshot success
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 28 rf.commitIndex 169 rf.lastApplied 169
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4825832671650241930 28 170} {6218600681468131978 28 171} {6199938075000942268 28 172} {4076528814799452226 28 173} {4156721798920966064 28 174}]
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99912 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 33392 term 30 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4825832671650241930 28 170} {6218600681468131978 28 171} {6199938075000942268 28 172} {4076528814799452226 28 173} {4156721798920966064 28 174}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4825832671650241930 28 170} {6218600681468131978 28 171} {6199938075000942268 28 172} {4076528814799452226 28 173} {4156721798920966064 28 174}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53129 term 30 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 59249 term 30 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4825832671650241930 28 170} {6218600681468131978 28 171} {6199938075000942268 28 172} {4076528814799452226 28 173} {4156721798920966064 28 174}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4825832671650241930 28 170} {6218600681468131978 28 171} {6199938075000942268 28 172} {4076528814799452226 28 173} {4156721798920966064 28 174}]
------------------------------------------------------
flag 40654 term 30 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 65709 term 30 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4825832671650241930 28 170} {6218600681468131978 28 171} {6199938075000942268 28 172} {4076528814799452226 28 173} {4156721798920966064 28 174}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4825832671650241930 28 170} {6218600681468131978 28 171} {6199938075000942268 28 172} {4076528814799452226 28 173} {4156721798920966064 28 174}]
------------------------------------------------------
flag 64725 term 30 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 95717 term 30 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4825832671650241930 28 170} {6218600681468131978 28 171} {6199938075000942268 28 172} {4076528814799452226 28 173} {4156721798920966064 28 174}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4825832671650241930 28 170} {6218600681468131978 28 171} {6199938075000942268 28 172} {4076528814799452226 28 173} {4156721798920966064 28 174}]
------------------------------------------------------
flag 15030 term 30 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 544 term 30 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4825832671650241930 28 170} {6218600681468131978 28 171} {6199938075000942268 28 172} {4076528814799452226 28 173} {4156721798920966064 28 174}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4825832671650241930 28 170} {6218600681468131978 28 171} {6199938075000942268 28 172} {4076528814799452226 28 173} {4156721798920966064 28 174}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87506 term 30 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 9277 term 30 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4825832671650241930 28 170} {6218600681468131978 28 171} {6199938075000942268 28 172} {4076528814799452226 28 173} {4156721798920966064 28 174}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4825832671650241930 28 170} {6218600681468131978 28 171} {6199938075000942268 28 172} {4076528814799452226 28 173} {4156721798920966064 28 174}]
------------------------------------------------------
term 30 server 2 not vote for server 1, 任期不够新
term 30 server 1 get outdate rpc reply from server 2
!!!!!!diconnect server 0
flag 77694 term 30 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 82271 term 30 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41941 term 30 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 53613 term 30 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 175->174
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 0  matchIndex[1]: 174
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 75094 term 30 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 31 server 2 vote for server 1
term 31 server 1 get vote from server 2
term 31 server 1 become leader
------------------------------------------------------
flag 54364 term 31 leader 1 nextIndex[0]: 175  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 57977 term 31 leader 1 nextIndex[2]: 175  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4825832671650241930 28 170} {6218600681468131978 28 171} {6199938075000942268 28 172} {4076528814799452226 28 173} {4156721798920966064 28 174}]
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 0  matchIndex[1]: 174
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 86270 term 30 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
client write log 3614727492739593200 (index 175) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 2 not vote for server 1, 任期不够新
term 31 server 1 get outdate rpc reply from server 2
flag 25455 term 31 leader 1 nextIndex[0]: 175  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 62630 term 31 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 31 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4825832671650241930 28 170} {6218600681468131978 28 171} {6199938075000942268 28 172} {4076528814799452226 28 173} {4156721798920966064 28 174} {3614727492739593200 31 175}]
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 0  matchIndex[1]: 174
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 46488 term 30 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 63308 term 31 leader 1 nextIndex[0]: 175  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 25532 term 31 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4825832671650241930 28 170} {6218600681468131978 28 171} {6199938075000942268 28 172} {4076528814799452226 28 173} {4156721798920966064 28 174} {3614727492739593200 31 175}]
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 0  matchIndex[1]: 174
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 99939 term 30 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
client write log 5628166830466151847 (index 176) to leader 1
client write log 6743529208421818918 (index 177) to leader 1
client write log 1315299619793018679 (index 178) to leader 1
client write log 739808356349558519 (index 179) to leader 1
client write log 1486966012465566832 (index 180) to leader 1
client write log 3957268864129255114 (index 181) to leader 1
client write log 2972308626013089750 (index 182) to leader 1
client write log 8036027593394582357 (index 183) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7566 term 31 leader 1 nextIndex[0]: 175  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 62079 term 31 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 28 169} {4825832671650241930 28 170} {6218600681468131978 28 171} {6199938075000942268 28 172} {4076528814799452226 28 173} {4156721798920966064 28 174} {3614727492739593200 31 175} {5628166830466151847 31 176} {6743529208421818918 31 177} {1315299619793018679 31 178} {739808356349558519 31 179} {1486966012465566832 31 180} {3957268864129255114 31 181} {2972308626013089750 31 182} {8036027593394582357 31 183}]
------------------------------------------------------
term 31 Server1 start snapshot! index=179
term 31 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=183
-------------------------------------------------------------
term 30 leader 0 nextIndex[1]: 0  matchIndex[1]: 174
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 32703 term 30 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 175->174
------------------------------------------------------
term 31 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
flag 77657 term 31 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 31 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 183 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 31 179} {1486966012465566832 31 180} {3957268864129255114 31 181} {2972308626013089750 31 182} {8036027593394582357 31 183}]
------------------------------------------------------
term 31 Server2 start snapshot! index=179
term 31 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=183
-------------------------------------------------------------
term 30 leader 0 nextIndex[1]: 0  matchIndex[1]: 174
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 47838 term 30 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
!!!!!!connect server 0
client write log 7050832850942910312 (index 184) to leader 1
term 31 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
flag 32629 term 31 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 31 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 183 
------------------------------------------------------
term 31 server 0 InstallSnapshot success
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 31 rf.commitIndex 179 rf.lastApplied 179
term 31 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 180 matchIndex[0] 179 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {1486966012465566832 31 180} {3957268864129255114 31 181} {2972308626013089750 31 182} {8036027593394582357 31 183} {7050832850942910312 31 184}]
------------------------------------------------------
flag 45879 term 31 leader 1 nextIndex[0]: 180  matchIndex[0]: 179
term 31 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 26346 term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {1486966012465566832 31 180} {3957268864129255114 31 181} {2972308626013089750 31 182} {8036027593394582357 31 183} {7050832850942910312 31 184}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {1486966012465566832 31 180} {3957268864129255114 31 181} {2972308626013089750 31 182} {8036027593394582357 31 183} {7050832850942910312 31 184}]
------------------------------------------------------
term 31 server 0 not vote for server 1, 日志不够新
term 31 server 1 get outdate rpc reply from server 0
flag 86415 term 31 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 15516 term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {1486966012465566832 31 180} {3957268864129255114 31 181} {2972308626013089750 31 182} {8036027593394582357 31 183} {7050832850942910312 31 184}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {1486966012465566832 31 180} {3957268864129255114 31 181} {2972308626013089750 31 182} {8036027593394582357 31 183} {7050832850942910312 31 184}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21948 term 31 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 38 term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {1486966012465566832 31 180} {3957268864129255114 31 181} {2972308626013089750 31 182} {8036027593394582357 31 183} {7050832850942910312 31 184}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {1486966012465566832 31 180} {3957268864129255114 31 181} {2972308626013089750 31 182} {8036027593394582357 31 183} {7050832850942910312 31 184}]
------------------------------------------------------
flag 6900 term 31 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 39870 term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {1486966012465566832 31 180} {3957268864129255114 31 181} {2972308626013089750 31 182} {8036027593394582357 31 183} {7050832850942910312 31 184}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {1486966012465566832 31 180} {3957268864129255114 31 181} {2972308626013089750 31 182} {8036027593394582357 31 183} {7050832850942910312 31 184}]
------------------------------------------------------
flag 49528 term 31 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 27293 term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {1486966012465566832 31 180} {3957268864129255114 31 181} {2972308626013089750 31 182} {8036027593394582357 31 183} {7050832850942910312 31 184}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {1486966012465566832 31 180} {3957268864129255114 31 181} {2972308626013089750 31 182} {8036027593394582357 31 183} {7050832850942910312 31 184}]
------------------------------------------------------
flag 29203 term 31 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 85784 term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {1486966012465566832 31 180} {3957268864129255114 31 181} {2972308626013089750 31 182} {8036027593394582357 31 183} {7050832850942910312 31 184}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {1486966012465566832 31 180} {3957268864129255114 31 181} {2972308626013089750 31 182} {8036027593394582357 31 183} {7050832850942910312 31 184}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3939751130110406690 (index 185) to leader 1
flag 38417 term 31 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 81026 term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1486966012465566832 31 180} {3957268864129255114 31 181} {2972308626013089750 31 182} {8036027593394582357 31 183} {7050832850942910312 31 184} {3939751130110406690 31 185}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78936 term 31 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 31 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 32731 term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1486966012465566832 31 180} {3957268864129255114 31 181} {2972308626013089750 31 182} {8036027593394582357 31 183} {7050832850942910312 31 184} {3939751130110406690 31 185}]
------------------------------------------------------
client write log 4320375666220127907 (index 186) to leader 1
client write log 5311579177826070372 (index 187) to leader 1
client write log 3299638579566900666 (index 188) to leader 1
client write log 7619843405317284630 (index 189) to leader 1
client write log 7101035730432728249 (index 190) to leader 1
client write log 7867120039093564594 (index 191) to leader 1
client write log 4805891123256172365 (index 192) to leader 1
client write log 1666740153722858783 (index 193) to leader 1
client write log 8090412915231327533 (index 194) to leader 1
client write log 8017993953804481406 (index 195) to leader 1
client write log 7546322586882730482 (index 196) to leader 1
client write log 8429697009538857502 (index 197) to leader 1
client write log 8114010137249520028 (index 198) to leader 1
client write log 8539635736879965124 (index 199) to leader 1
flag 12148 term 31 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 31 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 52885 term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 31 179} {1486966012465566832 31 180} {3957268864129255114 31 181} {2972308626013089750 31 182} {8036027593394582357 31 183} {7050832850942910312 31 184} {3939751130110406690 31 185} {4320375666220127907 31 186} {5311579177826070372 31 187} {3299638579566900666 31 188} {7619843405317284630 31 189} {7101035730432728249 31 190} {7867120039093564594 31 191} {4805891123256172365 31 192} {1666740153722858783 31 193} {8090412915231327533 31 194} {8017993953804481406 31 195} {7546322586882730482 31 196} {8429697009538857502 31 197} {8114010137249520028 31 198} {8539635736879965124 31 199}]
------------------------------------------------------
term 31 Server1 start snapshot! index=189
term 31 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=199
-------------------------------------------------------------
term 31 Server1 start snapshot! index=199
term 31 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
flag 62090 term 31 leader 1 nextIndex[0]: 200  matchIndex[0]: 199
term 31 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 31 199}]
------------------------------------------------------
term 31 Server0 start snapshot! index=189
term 31 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=199
-------------------------------------------------------------
term 31 Server0 start snapshot! index=199
term 31 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3047854150241869352 (index 200) to leader 1
term 31 server 1 not vote for server 2, 日志不够新
term 31 server 0 not vote for server 2, 日志不够新
term 33 server 2 vote for server 1
term 33 server 1 get vote from server 2
term 33 server 1 become leader
------------------------------------------------------
term 33 server 0 vote for server 1
term 33 server 1 get outdate rpc reply from server 0
flag 55439 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 90614 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 201->200
------------------------------------------------------
term 33 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 201->200
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 649 term 33 leader 1 nextIndex[0]: 200  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 185  matchIndex[2]: 0
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
term 33 server 2 InstallSnapshot success
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
rf.lastIncludedIndex 199 rf.lastIncludedTerm 31 rf.commitIndex 199 rf.lastApplied 199
flag 13888 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 59976 term 33 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 33 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
flag 63854 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 80780 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57521 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 30655 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
flag 68164 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 49416 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
flag 81677 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 28458 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19935 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 40281 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61639 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 58441 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36772 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 36375 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
flag 71605 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 53903 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
flag 7399 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 64851 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
term 33 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 32491 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
flag 47118 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 59013 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
flag 70213 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 75427 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
flag 19569 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 61942 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45304 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 7588 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
flag 11501 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 2813 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
term 33 server 0 not vote for server 1, 任期不够新
term 33 server 1 get outdate rpc reply from server 0
flag 22571 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 79338 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 0 not vote for server 1, 任期不够新
term 33 server 1 get outdate rpc reply from server 0
flag 47240 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 70933 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3047854150241869352 31 200}]
------------------------------------------------------
client write log 3047854150241869352 (index 201) to leader 1
flag 2223 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 72636 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {3047854150241869352 31 200} {3047854150241869352 33 201}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {3047854150241869352 31 200} {3047854150241869352 33 201}]
------------------------------------------------------
flag 21668 term 33 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 39220 term 33 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {3047854150241869352 31 200} {3047854150241869352 33 201}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {3047854150241869352 31 200} {3047854150241869352 33 201}]
------------------------------------------------------
flag 26708 term 33 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 58074 term 33 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {3047854150241869352 31 200} {3047854150241869352 33 201}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {3047854150241869352 31 200} {3047854150241869352 33 201}]
------------------------------------------------------
flag 34047 term 33 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 70024 term 33 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {3047854150241869352 31 200} {3047854150241869352 33 201}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {3047854150241869352 31 200} {3047854150241869352 33 201}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39977 term 33 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 37813 term 33 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {3047854150241869352 31 200} {3047854150241869352 33 201}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {3047854150241869352 31 200} {3047854150241869352 33 201}]
------------------------------------------------------
flag 38858 term 33 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 38535 term 33 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {3047854150241869352 31 200} {3047854150241869352 33 201}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {3047854150241869352 31 200} {3047854150241869352 33 201}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 659 term 33 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 86026 term 33 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {3047854150241869352 31 200} {3047854150241869352 33 201}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {3047854150241869352 31 200} {3047854150241869352 33 201}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7097896141046969792 (index 202) to leader 1
flag 9753 term 33 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 2698 term 33 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3047854150241869352 31 200} {3047854150241869352 33 201} {7097896141046969792 33 202}]
------------------------------------------------------
flag 40563 term 33 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 33 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
flag 73570 term 33 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3047854150241869352 31 200} {3047854150241869352 33 201} {7097896141046969792 33 202}]
------------------------------------------------------
client write log 4733667154768242066 (index 203) to leader 1
client write log 7921370640604657493 (index 204) to leader 1
client write log 1920078173321297937 (index 205) to leader 1
client write log 3983543512013774820 (index 206) to leader 1
client write log 3513078538506472308 (index 207) to leader 1
client write log 7006865766914844521 (index 208) to leader 1
client write log 8513478180026844360 (index 209) to leader 1
client write log 4895323831583760486 (index 210) to leader 1
client write log 357160235878823500 (index 211) to leader 1
client write log 7224756743549256886 (index 212) to leader 1
client write log 3864455545426918115 (index 213) to leader 1
client write log 2254144234554356040 (index 214) to leader 1
client write log 8533130135136633789 (index 215) to leader 1
client write log 2820455770462968034 (index 216) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85745 term 33 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 33 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
flag 76141 term 33 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 31 199} {3047854150241869352 31 200} {3047854150241869352 33 201} {7097896141046969792 33 202} {4733667154768242066 33 203} {7921370640604657493 33 204} {1920078173321297937 33 205} {3983543512013774820 33 206} {3513078538506472308 33 207} {7006865766914844521 33 208} {8513478180026844360 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 202->201
------------------------------------------------------
term 33 Server1 start snapshot! index=209
term 33 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=216
-------------------------------------------------------------
flag 3851 term 33 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 33 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 0  matchIndex[2]: 201
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216}]
------------------------------------------------------
term 33 Server0 start snapshot! index=209
term 33 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=216
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4648044593835649303 (index 217) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13124 term 33 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 33 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 0  matchIndex[2]: 201
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
term 34 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 server 2 vote for server 1
term 35 server 0 vote for server 1
term 35 server 1 get vote from server 2
term 35 server 1 become leader
------------------------------------------------------
term 35 server 1 get outdate rpc reply from server 0
flag 34625 term 35 leader 1 nextIndex[0]: 218  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 75713 term 35 leader 1 nextIndex[2]: 218  matchIndex[2]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 218->217
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
flag 22240 term 35 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 202  matchIndex[2]: 0
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
term 35 server 2 InstallSnapshot success
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:216 
term 35 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 210 matchIndex[2] 209 
------------------------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 33 rf.commitIndex 209 rf.lastApplied 209
flag 75893 term 35 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 44616 term 35 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 35 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
term 35 server 0 not vote for server 2, 任期不够新
term 35 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23421 term 35 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 92964 term 35 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
flag 27278 term 35 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 44289 term 35 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
flag 52385 term 35 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 55698 term 35 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
flag 49878 term 35 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 56274 term 35 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
flag 62102 term 35 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 3087 term 35 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
flag 83534 term 35 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 47659 term 35 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5165 term 35 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 22229 term 35 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
term 35 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
flag 94904 term 35 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 98896 term 35 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 35 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42549 term 35 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 72366 term 35 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22609 term 35 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 18810 term 35 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35248 term 35 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 45302 term 35 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95037 term 35 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 84501 term 35 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
flag 22175 term 35 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 60704 term 35 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
term 35 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
flag 4725 term 35 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 50119 term 35 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
flag 55176 term 35 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 64342 term 35 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
flag 47688 term 35 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 8260 term 35 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217}]
------------------------------------------------------
client write log 4648044593835649303 (index 218) to leader 1
flag 38988 term 35 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 24520 term 35 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
term 35 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217} {4648044593835649303 35 218}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217} {4648044593835649303 35 218}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74470 term 35 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 35 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 57277 term 35 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217} {4648044593835649303 35 218}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217} {4648044593835649303 35 218}]
------------------------------------------------------
flag 57495 term 35 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 35 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 72506 term 35 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217} {4648044593835649303 35 218}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217} {4648044593835649303 35 218}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33086 term 35 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 35 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 75574 term 35 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217} {4648044593835649303 35 218}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217} {4648044593835649303 35 218}]
------------------------------------------------------
flag 66398 term 35 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 35 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 40594 term 35 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217} {4648044593835649303 35 218}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217} {4648044593835649303 35 218}]
------------------------------------------------------
flag 62606 term 35 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 35 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 84054 term 35 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217} {4648044593835649303 35 218}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217} {4648044593835649303 35 218}]
------------------------------------------------------
flag 54382 term 35 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 35 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 47133 term 35 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217} {4648044593835649303 35 218}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217} {4648044593835649303 35 218}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 14522 term 35 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 35 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 61772 term 35 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 81928 term 35 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 35 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 8213 term 35 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 50063 term 35 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 35 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 95368 term 35 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 36 server 0 vote for server 2
term 36 server 2 get vote from server 0
term 36 server 2 become leader
------------------------------------------------------
client write log 1719359835264449544 (index 219) to leader 2
flag 52708 term 36 leader 2 nextIndex[0]: 219  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 6945 term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 33 209} {4895323831583760486 33 210} {357160235878823500 33 211} {7224756743549256886 33 212} {3864455545426918115 33 213} {2254144234554356040 33 214} {8533130135136633789 33 215} {2820455770462968034 33 216} {4648044593835649303 33 217} {4648044593835649303 35 218} {1719359835264449544 36 219}]
------------------------------------------------------
term 36 Server2 start snapshot! index=219
term 36 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
flag 46722 term 35 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 35 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 47097 term 35 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 75536 term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 0
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
term 36 Server0 start snapshot! index=219
term 36 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
client write log 3357965532392560073 (index 220) to leader 2
client write log 3689728224615880811 (index 221) to leader 2
client write log 5706535318983424223 (index 222) to leader 2
client write log 7753981053679604891 (index 223) to leader 2
client write log 443557642576613825 (index 224) to leader 2
client write log 1021930047318096327 (index 225) to leader 2
client write log 6074337701376105039 (index 226) to leader 2
client write log 7898742836618288710 (index 227) to leader 2
client write log 6631655757309280158 (index 228) to leader 2
flag 96268 term 35 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 35 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 91681 term 35 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 56550 term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 0
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
flag 77894 term 35 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 35 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 40166 term 35 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 34518 term 36 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 0
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
!!!!!!connect server 1
client write log 6611425161466831971 (index 219) to leader 1
term 36 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
flag 71906 term 35 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 35 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 9126 term 35 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 36 server 2 AppendEntries false 领导者任期过期 args.Term 35
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 36 server 0 AppendEntries false 领导者任期过期 args.Term 35
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14894 term 36 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 97388 term 36 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 220->219
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
flag 59043 term 36 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 leader 2 nextIndex[1]: 218  matchIndex[1]: 219
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
term 36 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 36 rf.commitIndex 219 rf.lastApplied 219
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
term 36 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27082 term 36 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 75692 term 36 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
flag 96814 term 36 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 39080 term 36 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
flag 8270 term 36 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 58355 term 36 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
flag 51359 term 36 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 44319 term 36 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
flag 1419 term 36 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 29299 term 36 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
flag 67565 term 36 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 75690 term 36 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
flag 13164 term 36 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 26744 term 36 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1026 term 36 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 87148 term 36 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15127 term 36 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 65179 term 36 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
flag 60403 term 36 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 80832 term 36 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
flag 70118 term 36 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 43494 term 36 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
term 36 server 1 not vote for server 2, 日志不够新
term 36 server 2 get outdate rpc reply from server 1
flag 68479 term 36 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 27580 term 36 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
flag 9031 term 36 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 92404 term 36 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
flag 3254 term 36 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 21621 term 36 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
flag 57041 term 36 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 39916 term 36 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 699 term 36 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 14374 term 36 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 229->228
------------------------------------------------------
flag 21519 term 36 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 leader 2 nextIndex[1]: 0  matchIndex[1]: 228
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 1 InstallSnapshot fail
rf.commitIndex 228 args.LastIncludedIndex 219
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
term 36 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
flag 49793 term 36 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 90175 term 36 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228}]
------------------------------------------------------
client write log 6611425161466831971 (index 229) to leader 2
flag 81157 term 36 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 52464 term 36 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228} {6611425161466831971 36 229}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 219} {3357965532392560073 36 220} {3689728224615880811 36 221} {5706535318983424223 36 222} {7753981053679604891 36 223} {443557642576613825 36 224} {1021930047318096327 36 225} {6074337701376105039 36 226} {7898742836618288710 36 227} {6631655757309280158 36 228} {6611425161466831971 36 229}]
------------------------------------------------------
term 36 Server2 start snapshot! index=229
term 36 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
flag 27827 term 36 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
flag 60315 term 36 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
term 36 Server0 start snapshot! index=229
term 36 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
term 36 Server1 start snapshot! index=229
term 36 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
flag 8316 term 36 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
flag 5094 term 36 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
term 36 server 1 not vote for server 2, 任期不够新
term 36 server 2 get outdate rpc reply from server 1
flag 70779 term 36 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
flag 98406 term 36 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
flag 50978 term 36 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
flag 51696 term 36 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
flag 88154 term 36 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
flag 85494 term 36 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
flag 51932 term 36 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
flag 94515 term 36 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
term 36 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
!!!!!!diconnect server 0
client write log 7723642250383738298 (index 230) to leader 2
flag 20336 term 36 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
flag 13571 term 36 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {7723642250383738298 36 230}]
------------------------------------------------------
flag 9414 term 36 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 230 
------------------------------------------------------
flag 89763 term 36 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 36 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 36 leaderCommit: 230 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {7723642250383738298 36 230}]
------------------------------------------------------
client write log 4875345724215129626 (index 231) to leader 2
client write log 8496279197231114497 (index 232) to leader 2
client write log 7092993367928807465 (index 233) to leader 2
client write log 1712909040046358016 (index 234) to leader 2
client write log 2000244888318682801 (index 235) to leader 2
client write log 6641612493996528077 (index 236) to leader 2
client write log 1039115908555666689 (index 237) to leader 2
client write log 3445906296854437086 (index 238) to leader 2
client write log 5136682552300868932 (index 239) to leader 2
client write log 1486377134704487204 (index 240) to leader 2
client write log 5397930729571841092 (index 241) to leader 2
client write log 3382739654094201604 (index 242) to leader 2
client write log 1989500277182944174 (index 243) to leader 2
client write log 8332883380347043806 (index 244) to leader 2
client write log 7104769595018962060 (index 245) to leader 2
flag 79862 term 36 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 230 
------------------------------------------------------
flag 2409 term 36 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 36 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 36 leaderCommit: 230 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 36 229} {7723642250383738298 36 230} {4875345724215129626 36 231} {8496279197231114497 36 232} {7092993367928807465 36 233} {1712909040046358016 36 234} {2000244888318682801 36 235} {6641612493996528077 36 236} {1039115908555666689 36 237} {3445906296854437086 36 238} {5136682552300868932 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245}]
------------------------------------------------------
term 36 Server2 start snapshot! index=239
term 36 server2 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=245
-------------------------------------------------------------
term 36 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
flag 78125 term 36 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245}]
------------------------------------------------------
term 36 Server1 start snapshot! index=239
term 36 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=245
-------------------------------------------------------------
!!!!!!connect server 0
client write log 378925082902146188 (index 246) to leader 2
term 36 server 2 not vote for server 0, 日志不够新
term 36 server 1 not vote for server 0, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 1 vote for server 2
term 38 server 0 vote for server 2
term 38 server 2 get vote from server 1
term 38 server 2 become leader
------------------------------------------------------
term 38 server 2 get outdate rpc reply from server 0
flag 31651 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 21475 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 247->246
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 247->246
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
flag 10325 term 38 leader 2 nextIndex[1]: 246  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 0 InstallSnapshot success
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 36 rf.commitIndex 239 rf.lastApplied 239
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
flag 72712 term 38 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 38 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 13297 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42189 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 78700 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
flag 7510 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 984 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
flag 52778 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 53503 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
flag 76256 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 61462 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
flag 65489 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 8037 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
flag 38440 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 88995 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90732 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 75791 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
flag 76102 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 53800 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
flag 67306 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 17654 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
flag 47700 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 60712 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
flag 25567 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 18289 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
flag 22599 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 32471 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33762 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 4447 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
flag 13663 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 95827 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86824 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 37899 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
flag 48538 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 11592 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
flag 30462 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 62255 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246}]
------------------------------------------------------
client write log 378925082902146188 (index 247) to leader 2
flag 89378 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 32689 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246} {378925082902146188 38 247}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246} {378925082902146188 38 247}]
------------------------------------------------------
flag 32131 term 38 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 57120 term 38 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 38 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246} {378925082902146188 38 247}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246} {378925082902146188 38 247}]
------------------------------------------------------
term 38 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30602 term 38 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 1921 term 38 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 38 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246} {378925082902146188 38 247}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246} {378925082902146188 38 247}]
------------------------------------------------------
flag 90456 term 38 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 546 term 38 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 38 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246} {378925082902146188 38 247}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246} {378925082902146188 38 247}]
------------------------------------------------------
flag 51631 term 38 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 95704 term 38 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 38 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246} {378925082902146188 38 247}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246} {378925082902146188 38 247}]
------------------------------------------------------
flag 1919 term 38 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 1883 term 38 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 38 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246} {378925082902146188 38 247}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246} {378925082902146188 38 247}]
------------------------------------------------------
flag 779 term 38 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 69145 term 38 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 38 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
term 38 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246} {378925082902146188 38 247}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246} {378925082902146188 38 247}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 9174518849480086501 (index 248) to leader 2
flag 95759 term 38 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 36669 term 38 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 38 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246} {378925082902146188 38 247} {9174518849480086501 38 248}]
------------------------------------------------------
flag 59579 term 38 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 36138 term 38 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 38 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246} {378925082902146188 38 247} {9174518849480086501 38 248}]
------------------------------------------------------
client write log 4745510209688737206 (index 249) to leader 2
client write log 7211605956698504335 (index 250) to leader 2
client write log 6862886633490495056 (index 251) to leader 2
client write log 624159464721625990 (index 252) to leader 2
client write log 1971142183146523339 (index 253) to leader 2
client write log 8915353370373427726 (index 254) to leader 2
client write log 2455909219791039218 (index 255) to leader 2
client write log 2373165548469373299 (index 256) to leader 2
flag 46700 term 38 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 94075 term 38 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 38 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 239} {1486377134704487204 36 240} {5397930729571841092 36 241} {3382739654094201604 36 242} {1989500277182944174 36 243} {8332883380347043806 36 244} {7104769595018962060 36 245} {378925082902146188 36 246} {378925082902146188 38 247} {9174518849480086501 38 248} {4745510209688737206 38 249} {7211605956698504335 38 250} {6862886633490495056 38 251} {624159464721625990 38 252} {1971142183146523339 38 253} {8915353370373427726 38 254} {2455909219791039218 38 255} {2373165548469373299 38 256}]
------------------------------------------------------
term 38 Server2 start snapshot! index=249
term 38 server2 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=256
-------------------------------------------------------------
term 38 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
flag 76586 term 38 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {7211605956698504335 38 250} {6862886633490495056 38 251} {624159464721625990 38 252} {1971142183146523339 38 253} {8915353370373427726 38 254} {2455909219791039218 38 255} {2373165548469373299 38 256}]
------------------------------------------------------
term 38 Server1 start snapshot! index=249
term 38 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=256
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2132338708085461524 (index 257) to leader 2
term 38 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
flag 84363 term 38 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {7211605956698504335 38 250} {6862886633490495056 38 251} {624159464721625990 38 252} {1971142183146523339 38 253} {8915353370373427726 38 254} {2455909219791039218 38 255} {2373165548469373299 38 256} {2132338708085461524 38 257}]
------------------------------------------------------
term 39 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 server 1 vote for server 2
term 40 server 0 vote for server 2
term 40 server 2 get vote from server 1
term 40 server 2 become leader
------------------------------------------------------
term 40 server 2 get outdate rpc reply from server 0
flag 81349 term 40 leader 2 nextIndex[0]: 258  matchIndex[0]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
flag 51479 term 40 leader 2 nextIndex[1]: 258  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
term 40 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {7211605956698504335 38 250} {6862886633490495056 38 251} {624159464721625990 38 252} {1971142183146523339 38 253} {8915353370373427726 38 254} {2455909219791039218 38 255} {2373165548469373299 38 256} {2132338708085461524 38 257}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 258->257
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 0
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
flag 16402 term 40 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {7211605956698504335 38 250} {6862886633490495056 38 251} {624159464721625990 38 252} {1971142183146523339 38 253} {8915353370373427726 38 254} {2455909219791039218 38 255} {2373165548469373299 38 256} {2132338708085461524 38 257}]
------------------------------------------------------
term 40 server 0 InstallSnapshot success
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 38 rf.commitIndex 249 rf.lastApplied 249
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91121 term 40 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 40 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
flag 45872 term 40 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {7211605956698504335 38 250} {6862886633490495056 38 251} {624159464721625990 38 252} {1971142183146523339 38 253} {8915353370373427726 38 254} {2455909219791039218 38 255} {2373165548469373299 38 256} {2132338708085461524 38 257}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {7211605956698504335 38 250} {6862886633490495056 38 251} {624159464721625990 38 252} {1971142183146523339 38 253} {8915353370373427726 38 254} {2455909219791039218 38 255} {2373165548469373299 38 256} {2132338708085461524 38 257}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21231 term 40 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
flag 83197 term 40 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {7211605956698504335 38 250} {6862886633490495056 38 251} {624159464721625990 38 252} {1971142183146523339 38 253} {8915353370373427726 38 254} {2455909219791039218 38 255} {2373165548469373299 38 256} {2132338708085461524 38 257}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {7211605956698504335 38 250} {6862886633490495056 38 251} {624159464721625990 38 252} {1971142183146523339 38 253} {8915353370373427726 38 254} {2455909219791039218 38 255} {2373165548469373299 38 256} {2132338708085461524 38 257}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70708 term 40 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
flag 20720 term 40 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {7211605956698504335 38 250} {6862886633490495056 38 251} {624159464721625990 38 252} {1971142183146523339 38 253} {8915353370373427726 38 254} {2455909219791039218 38 255} {2373165548469373299 38 256} {2132338708085461524 38 257}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {7211605956698504335 38 250} {6862886633490495056 38 251} {624159464721625990 38 252} {1971142183146523339 38 253} {8915353370373427726 38 254} {2455909219791039218 38 255} {2373165548469373299 38 256} {2132338708085461524 38 257}]
------------------------------------------------------
flag 95577 term 40 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
flag 20130 term 40 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {7211605956698504335 38 250} {6862886633490495056 38 251} {624159464721625990 38 252} {1971142183146523339 38 253} {8915353370373427726 38 254} {2455909219791039218 38 255} {2373165548469373299 38 256} {2132338708085461524 38 257}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {7211605956698504335 38 250} {6862886633490495056 38 251} {624159464721625990 38 252} {1971142183146523339 38 253} {8915353370373427726 38 254} {2455909219791039218 38 255} {2373165548469373299 38 256} {2132338708085461524 38 257}]
------------------------------------------------------
flag 74292 term 40 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
flag 95808 term 40 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
term 40 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
[{snapshot 38 249} {7211605956698504335 38 250} {6862886633490495056 38 251} {624159464721625990 38 252} {1971142183146523339 38 253} {8915353370373427726 38 254} {2455909219791039218 38 255} {2373165548469373299 38 256} {2132338708085461524 38 257}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {7211605956698504335 38 250} {6862886633490495056 38 251} {624159464721625990 38 252} {1971142183146523339 38 253} {8915353370373427726 38 254} {2455909219791039218 38 255} {2373165548469373299 38 256} {2132338708085461524 38 257}]
------------------------------------------------------
flag 50043 term 40 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
flag 37366 term 40 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {7211605956698504335 38 250} {6862886633490495056 38 251} {624159464721625990 38 252} {1971142183146523339 38 253} {8915353370373427726 38 254} {2455909219791039218 38 255} {2373165548469373299 38 256} {2132338708085461524 38 257}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {7211605956698504335 38 250} {6862886633490495056 38 251} {624159464721625990 38 252} {1971142183146523339 38 253} {8915353370373427726 38 254} {2455909219791039218 38 255} {2373165548469373299 38 256} {2132338708085461524 38 257}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
flag 63157 term 40 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
flag 54705 term 40 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
flag 18134 term 40 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
flag 11659 term 40 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 93178 term 40 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
flag 25609 term 40 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
flag 95113 term 40 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
flag 28691 term 40 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 258->257
------------------------------------------------------
term 41 server 0 vote for server 1
term 41 server 1 get vote from server 0
term 41 server 1 become leader
------------------------------------------------------
client write log 4640673700967877998 (index 258) to leader 1
flag 59501 term 41 leader 1 nextIndex[0]: 258  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
flag 41343 term 41 leader 1 nextIndex[2]: 258  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {7211605956698504335 38 250} {6862886633490495056 38 251} {624159464721625990 38 252} {1971142183146523339 38 253} {8915353370373427726 38 254} {2455909219791039218 38 255} {2373165548469373299 38 256} {2132338708085461524 38 257} {4640673700967877998 41 258}]
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 257
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
flag 74307 term 40 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
flag 863 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 89916 term 41 leader 1 nextIndex[2]: 258  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {7211605956698504335 38 250} {6862886633490495056 38 251} {624159464721625990 38 252} {1971142183146523339 38 253} {8915353370373427726 38 254} {2455909219791039218 38 255} {2373165548469373299 38 256} {2132338708085461524 38 257} {4640673700967877998 41 258}]
------------------------------------------------------
client write log 2668769287876000100 (index 259) to leader 1
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 257
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
flag 70796 term 40 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
flag 68181 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 57461 term 41 leader 1 nextIndex[2]: 258  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 38 249} {7211605956698504335 38 250} {6862886633490495056 38 251} {624159464721625990 38 252} {1971142183146523339 38 253} {8915353370373427726 38 254} {2455909219791039218 38 255} {2373165548469373299 38 256} {2132338708085461524 38 257} {4640673700967877998 41 258} {2668769287876000100 41 259}]
------------------------------------------------------
term 41 Server1 start snapshot! index=259
term 41 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 257
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
flag 94985 term 40 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
flag 52950 term 41 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 258  matchIndex[2]: 0
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
term 41 Server0 start snapshot! index=259
term 41 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1159004473056052838 (index 260) to leader 1
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 257
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
flag 82828 term 40 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
term 41 server 1 AppendEntries false 领导者任期过期 args.Term 40
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 41 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83948 term 41 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 258  matchIndex[2]: 0
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 2 InstallSnapshot success
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 41 rf.commitIndex 259 rf.lastApplied 259
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {1159004473056052838 41 260}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92928 term 41 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 41 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 92874 term 41 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {1159004473056052838 41 260}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {1159004473056052838 41 260}]
------------------------------------------------------
flag 87562 term 41 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 41 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 32146 term 41 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {1159004473056052838 41 260}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {1159004473056052838 41 260}]
------------------------------------------------------
flag 11432 term 41 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 41 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 86893 term 41 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {1159004473056052838 41 260}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {1159004473056052838 41 260}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95619 term 41 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 41 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 37214 term 41 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {1159004473056052838 41 260}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {1159004473056052838 41 260}]
------------------------------------------------------
flag 95961 term 41 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 41 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 21311 term 41 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {1159004473056052838 41 260}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {1159004473056052838 41 260}]
------------------------------------------------------
flag 51935 term 41 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 41 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 14122 term 41 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {1159004473056052838 41 260}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {1159004473056052838 41 260}]
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58786 term 41 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 41 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 5811 term 41 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {1159004473056052838 41 260}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {1159004473056052838 41 260}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1006225430263344692 (index 261) to leader 1
flag 83869 term 41 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 41 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 68643 term 41 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 41 259} {1159004473056052838 41 260} {1006225430263344692 41 261}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 261->260
------------------------------------------------------
flag 94581 term 41 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 41 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 261 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 0  matchIndex[2]: 260
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 41 259} {1159004473056052838 41 260} {1006225430263344692 41 261}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 5729749528107125550 (index 262) to leader 1
client write log 5863372561810036157 (index 263) to leader 1
client write log 7318217206366525225 (index 264) to leader 1
client write log 7485880321432154381 (index 265) to leader 1
client write log 4006669110528805952 (index 266) to leader 1
client write log 1520195725415079448 (index 267) to leader 1
client write log 5598717914843517549 (index 268) to leader 1
client write log 4036933711112424328 (index 269) to leader 1
client write log 8537217086945306179 (index 270) to leader 1
client write log 8717943072670607436 (index 271) to leader 1
client write log 1144629319571501800 (index 272) to leader 1
flag 4026 term 41 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 41 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 261 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 0  matchIndex[2]: 260
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 41 259} {1159004473056052838 41 260} {1006225430263344692 41 261} {5729749528107125550 41 262} {5863372561810036157 41 263} {7318217206366525225 41 264} {7485880321432154381 41 265} {4006669110528805952 41 266} {1520195725415079448 41 267} {5598717914843517549 41 268} {4036933711112424328 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272}]
------------------------------------------------------
term 41 Server1 start snapshot! index=269
term 41 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=272
-------------------------------------------------------------
flag 56656 term 41 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 41 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 0  matchIndex[2]: 260
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272}]
------------------------------------------------------
term 41 Server0 start snapshot! index=269
term 41 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=272
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8518358262843593555 (index 273) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 server 1 not vote for server 2, 日志不够新
term 41 server 0 not vote for server 2, 日志不够新
term 42 server 2 not vote for server 0, 任期不够新
term 42 server 0 get outdate rpc reply from server 2
term 43 server 2 vote for server 1
term 43 server 0 vote for server 1
term 43 server 1 get vote from server 2
term 43 server 1 become leader
------------------------------------------------------
term 43 server 1 get outdate rpc reply from server 0
flag 16998 term 43 leader 1 nextIndex[0]: 274  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 36895 term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 274->273
------------------------------------------------------
term 43 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 274->273
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40244 term 43 leader 1 nextIndex[0]: 273  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 261  matchIndex[2]: 0
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
term 43 server 2 InstallSnapshot success
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 41 rf.commitIndex 269 rf.lastApplied 269
term 43 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1474 term 43 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 38707 term 43 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23697 term 43 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 76833 term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41710 term 43 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 51504 term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
flag 98342 term 43 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 55102 term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
term 43 server 2 not vote for server 1, 任期不够新
term 43 server 1 get outdate rpc reply from server 2
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94432 term 43 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 51455 term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
flag 51640 term 43 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 9586 term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
term 43 server 1 not vote for server 0, 任期不够新
term 43 server 0 get outdate rpc reply from server 1
flag 87149 term 43 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 56279 term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43431 term 43 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 36800 term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
flag 5928 term 43 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 31868 term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
flag 18856 term 43 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 85344 term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
flag 41876 term 43 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 36852 term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86645 term 43 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 19529 term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50520 term 43 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 51330 term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
flag 70939 term 43 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 37441 term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58697 term 43 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 84019 term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
flag 30397 term 43 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 374 term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72546 term 43 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 28352 term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273}]
------------------------------------------------------
client write log 8518358262843593555 (index 274) to leader 1
flag 40319 term 43 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 33086 term 43 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273} {8518358262843593555 43 274}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273} {8518358262843593555 43 274}]
------------------------------------------------------
flag 4004 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 327 term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273} {8518358262843593555 43 274}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273} {8518358262843593555 43 274}]
------------------------------------------------------
flag 26144 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 16834 term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 43 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
update nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273} {8518358262843593555 43 274}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273} {8518358262843593555 43 274}]
------------------------------------------------------
flag 98086 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 34748 term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273} {8518358262843593555 43 274}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273} {8518358262843593555 43 274}]
------------------------------------------------------
flag 53130 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 50401 term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273} {8518358262843593555 43 274}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273} {8518358262843593555 43 274}]
------------------------------------------------------
flag 60910 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 36581 term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273} {8518358262843593555 43 274}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273} {8518358262843593555 43 274}]
------------------------------------------------------
flag 85451 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 2441 term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273} {8518358262843593555 43 274}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273} {8518358262843593555 43 274}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7318186416650663762 (index 275) to leader 1
flag 95001 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 13098 term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273} {8518358262843593555 43 274} {7318186416650663762 43 275}]
------------------------------------------------------
flag 40324 term 43 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 43 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
flag 67021 term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273} {8518358262843593555 43 274} {7318186416650663762 43 275}]
------------------------------------------------------
client write log 2426162717965610662 (index 276) to leader 1
client write log 4162871821342034459 (index 277) to leader 1
client write log 1651821018154976912 (index 278) to leader 1
client write log 5198827587373242781 (index 279) to leader 1
client write log 7894562790773946380 (index 280) to leader 1
client write log 8098784841085771571 (index 281) to leader 1
client write log 611255361657114031 (index 282) to leader 1
flag 88912 term 43 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 43 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
flag 63475 term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 41 269} {8537217086945306179 41 270} {8717943072670607436 41 271} {1144629319571501800 41 272} {8518358262843593555 41 273} {8518358262843593555 43 274} {7318186416650663762 43 275} {2426162717965610662 43 276} {4162871821342034459 43 277} {1651821018154976912 43 278} {5198827587373242781 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282}]
------------------------------------------------------
term 43 Server1 start snapshot! index=279
term 43 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=282
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60220 term 43 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 43 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282}]
------------------------------------------------------
term 43 Server0 start snapshot! index=279
term 43 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=282
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7648919464140359897 (index 283) to leader 1
term 43 server 1 not vote for server 2, 日志不够新
term 43 server 0 not vote for server 2, 日志不够新
term 45 server 2 vote for server 1
term 45 server 0 vote for server 1
term 45 server 1 get vote from server 2
term 45 server 1 become leader
------------------------------------------------------
term 45 server 1 get outdate rpc reply from server 0
flag 34515 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 7869 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 284->283
------------------------------------------------------
term 45 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 284->283
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72388 term 45 leader 1 nextIndex[0]: 283  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 275  matchIndex[2]: 0
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
term 45 server 2 InstallSnapshot success
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 280 matchIndex[2] 279 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 43 rf.commitIndex 279 rf.lastApplied 279
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30037 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 71935 term 45 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
flag 86387 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 77850 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
flag 15537 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 67846 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65665 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 20775 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
flag 50974 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 324 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84562 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 35417 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
flag 82128 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 11688 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
flag 36974 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 32632 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8739 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 82935 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
flag 43918 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 27997 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
flag 29413 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 92908 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
flag 35730 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 70078 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44336 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 88356 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84360 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 47512 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72690 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 95 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
flag 52099 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 49503 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
flag 8149 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 32237 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
flag 1459 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 87917 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283}]
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 7648919464140359897 (index 284) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79405 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 49128 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284}]
------------------------------------------------------
flag 69630 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
flag 71645 term 45 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueterm 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
update nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284}]
------------------------------------------------------
flag 57286 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
flag 9369 term 45 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284}]
------------------------------------------------------
flag 30825 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
flag 26446 term 45 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284}]
------------------------------------------------------
flag 45970 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
flag 3589 term 45 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284}]
------------------------------------------------------
flag 42932 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
flag 25525 term 45 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 68329 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
flag 41892 term 45 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 285->284
------------------------------------------------------
flag 9925 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 284
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99033 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 284
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 81352 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 284
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
term 46 server 2 vote for server 0
term 46 server 0 get vote from server 2
term 46 server 0 become leader
------------------------------------------------------
flag 635 term 46 leader 0 nextIndex[1]: 285  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
flag 65538 term 46 leader 0 nextIndex[2]: 285  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284}]
------------------------------------------------------
client write log 9071203025382233087 (index 285) to leader 0
flag 43517 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 284
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 74361 term 46 leader 0 nextIndex[1]: 285  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
flag 99815 term 46 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 46 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285}]
------------------------------------------------------
flag 6827 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 284
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 66262 term 46 leader 0 nextIndex[1]: 285  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
flag 60114 term 46 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 46 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285}]
------------------------------------------------------
client write log 3651286549079595157 (index 286) to leader 0
flag 79862 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 284
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 29812 term 46 leader 0 nextIndex[1]: 285  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
flag 8155 term 46 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 46 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
flag 71593 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 284
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 46284 term 46 leader 0 nextIndex[1]: 285  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 16647 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
!!!!!!connect server 1
client write log 3906854118555776226 (index 285) to leader 1
flag 71537 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 284
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
term 46 server 0 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
term 46 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25600 term 46 leader 0 nextIndex[1]: 285  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 70890 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
flag 76539 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 36533 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
flag 23137 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 79348 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
flag 7302 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 51719 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
flag 24419 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 6414 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79718 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 73411 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25916 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 98569 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
flag 61719 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 41543 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
flag 58841 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 21600 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
flag 90220 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 19122 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
flag 60276 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 28963 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
flag 82216 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 21349 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66792 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 28069 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
flag 23819 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 76220 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
flag 92781 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 43564 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
flag 93451 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 50840 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
flag 45787 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 11812 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
flag 95050 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 68691 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
flag 99861 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 69053 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 3906854118555776226 (index 287) to leader 0
flag 19214 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 23241 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286} {3906854118555776226 46 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286} {3906854118555776226 46 287}]
------------------------------------------------------
flag 11717 term 46 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
flag 90829 term 46 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286} {3906854118555776226 46 287}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286} {3906854118555776226 46 287}]
------------------------------------------------------
flag 94575 term 46 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
flag 47128 term 46 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286} {3906854118555776226 46 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286} {3906854118555776226 46 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 288->287
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 0  matchIndex[1]: 287
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 94148 term 46 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
term 46 server 1 InstallSnapshot fail
rf.commitIndex 287 args.LastIncludedIndex 279
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286} {3906854118555776226 46 287}]
------------------------------------------------------
flag 19805 term 46 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 287 
------------------------------------------------------
flag 25013 term 46 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286} {3906854118555776226 46 287}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286} {3906854118555776226 46 287}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26217 term 46 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
flag 8357 term 46 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
term 46 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286} {3906854118555776226 46 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286} {3906854118555776226 46 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 288->287
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 0  matchIndex[1]: 287
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 65165 term 46 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286} {3906854118555776226 46 287}]
------------------------------------------------------
term 46 server 1 InstallSnapshot fail
rf.commitIndex 287 args.LastIncludedIndex 279
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
!!!!!!diconnect server 1
client write log 3532325815417503669 (index 288) to leader 0
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62093 term 46 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 287 
------------------------------------------------------
flag 88062 term 46 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286} {3906854118555776226 46 287} {3532325815417503669 46 288}]
------------------------------------------------------
flag 86284 term 46 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 288 
------------------------------------------------------
flag 45743 term 46 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 46 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286} {3906854118555776226 46 287} {3532325815417503669 46 288}]
------------------------------------------------------
client write log 7711359877579215314 (index 289) to leader 0
client write log 810201756163810276 (index 290) to leader 0
client write log 2461548923793139457 (index 291) to leader 0
client write log 985677176387833492 (index 292) to leader 0
client write log 1319161369199317194 (index 293) to leader 0
client write log 6674820971244098746 (index 294) to leader 0
client write log 8914005068302322408 (index 295) to leader 0
flag 13901 term 46 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 288 
------------------------------------------------------
flag 89613 term 46 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 46 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 43 279} {7894562790773946380 43 280} {8098784841085771571 43 281} {611255361657114031 43 282} {7648919464140359897 43 283} {7648919464140359897 45 284} {9071203025382233087 46 285} {3651286549079595157 46 286} {3906854118555776226 46 287} {3532325815417503669 46 288} {7711359877579215314 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295}]
------------------------------------------------------
term 46 Server0 start snapshot! index=289
term 46 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=295
-------------------------------------------------------------
term 46 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 39924 term 46 leader 0 nextIndex[2]: 296  matchIndex[2]: 295
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295}]
------------------------------------------------------
term 46 Server2 start snapshot! index=289
term 46 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=295
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4948084057352628246 (index 296) to leader 0
term 46 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 46676 term 46 leader 0 nextIndex[2]: 296  matchIndex[2]: 295
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 47 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 2 vote for server 0
term 48 server 1 vote for server 0
term 48 server 0 get vote from server 1
term 48 server 0 become leader
------------------------------------------------------
term 48 server 0 get outdate rpc reply from server 2
flag 83082 term 48 leader 0 nextIndex[1]: 297  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 1111 term 48 leader 0 nextIndex[2]: 297  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 297->296
------------------------------------------------------
term 48 leader 0 nextIndex[1]: 288  matchIndex[1]: 0
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 10874 term 48 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
term 48 server 1 InstallSnapshot success
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 46 rf.commitIndex 289 rf.lastApplied 289
flag 95503 term 48 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 48 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 86207 term 48 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
term 48 server 1 not vote for server 0, 任期不够新
term 48 server 0 get outdate rpc reply from server 1
flag 26708 term 48 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 42700 term 48 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
flag 22686 term 48 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 60108 term 48 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
flag 24990 term 48 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 23496 term 48 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23672 term 48 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 65003 term 48 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21557 term 48 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 67343 term 48 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
term 48 server 0 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 0
flag 69619 term 48 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 3928 term 48 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
flag 38974 term 48 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 50920 term 48 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
flag 64323 term 48 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 37438 term 48 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
flag 16092 term 48 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 54143 term 48 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64915 term 48 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 52961 term 48 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5306 term 48 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 98539 term 48 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
flag 94514 term 48 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 6483 term 48 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
flag 42703 term 48 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 64261 term 48 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85298 term 48 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 48905 term 48 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
flag 56435 term 48 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 90646 term 48 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74662 term 48 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 23173 term 48 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296}]
------------------------------------------------------
client write log 4948084057352628246 (index 297) to leader 0
flag 42546 term 48 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 17793 term 48 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 48 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296} {4948084057352628246 48 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296} {4948084057352628246 48 297}]
------------------------------------------------------
flag 63432 term 48 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 31533 term 48 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 48 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296} {4948084057352628246 48 297}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296} {4948084057352628246 48 297}]
------------------------------------------------------
flag 10788 term 48 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 32667 term 48 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 48 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296} {4948084057352628246 48 297}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296} {4948084057352628246 48 297}]
------------------------------------------------------
flag 65786 term 48 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 9006 term 48 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 48 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296} {4948084057352628246 48 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296} {4948084057352628246 48 297}]
------------------------------------------------------
flag 46282 term 48 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 15893 term 48 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 48 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296} {4948084057352628246 48 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296} {4948084057352628246 48 297}]
------------------------------------------------------
flag 3828 term 48 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 48491 term 48 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 48 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296} {4948084057352628246 48 297}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296} {4948084057352628246 48 297}]
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14314 term 48 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 41483 term 48 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 48 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296} {4948084057352628246 48 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296} {4948084057352628246 48 297}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 9122327040126589207 (index 298) to leader 0
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23023 term 48 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 30032 term 48 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 48 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296} {4948084057352628246 48 297} {9122327040126589207 48 298}]
------------------------------------------------------
flag 32449 term 48 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 19213 term 48 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296} {4948084057352628246 48 297} {9122327040126589207 48 298}]
------------------------------------------------------
client write log 8542820388151615020 (index 299) to leader 0
client write log 3433447552603219263 (index 300) to leader 0
client write log 4262114699111306841 (index 301) to leader 0
client write log 3620791702870941298 (index 302) to leader 0
client write log 733325682923750986 (index 303) to leader 0
client write log 3459664740762461396 (index 304) to leader 0
client write log 2930158622967172518 (index 305) to leader 0
client write log 3820663440222578962 (index 306) to leader 0
client write log 4304824906425783275 (index 307) to leader 0
client write log 8054195593102071244 (index 308) to leader 0
client write log 2480745855925747675 (index 309) to leader 0
flag 63114 term 48 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 22637 term 48 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 46 289} {810201756163810276 46 290} {2461548923793139457 46 291} {985677176387833492 46 292} {1319161369199317194 46 293} {6674820971244098746 46 294} {8914005068302322408 46 295} {4948084057352628246 46 296} {4948084057352628246 48 297} {9122327040126589207 48 298} {8542820388151615020 48 299} {3433447552603219263 48 300} {4262114699111306841 48 301} {3620791702870941298 48 302} {733325682923750986 48 303} {3459664740762461396 48 304} {2930158622967172518 48 305} {3820663440222578962 48 306} {4304824906425783275 48 307} {8054195593102071244 48 308} {2480745855925747675 48 309}]
------------------------------------------------------
term 48 Server0 start snapshot! index=299
term 48 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=309
-------------------------------------------------------------
term 48 Server0 start snapshot! index=309
term 48 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
term 48 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
flag 99224 term 48 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 48 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 48 309}]
------------------------------------------------------
term 48 Server2 start snapshot! index=299
term 48 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=309
-------------------------------------------------------------
term 48 Server2 start snapshot! index=309
term 48 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6311578829840708367 (index 310) to leader 0
term 48 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
flag 63677 term 48 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 48 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 49 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 2 vote for server 0
term 50 server 0 get vote from server 2
term 50 server 0 become leader
------------------------------------------------------
term 50 server 1 vote for server 0
term 50 server 0 get outdate rpc reply from server 1
flag 28742 term 50 leader 0 nextIndex[1]: 311  matchIndex[1]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 57028 term 50 leader 0 nextIndex[2]: 311  matchIndex[2]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 50 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 311->310
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
term 50 leader 0 nextIndex[1]: 298  matchIndex[1]: 0
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
flag 15850 term 50 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 50 server 1 InstallSnapshot success
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 310 matchIndex[1] 309 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 48 rf.commitIndex 309 rf.lastApplied 309
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
flag 86025 term 50 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 50 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 23359 term 50 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
flag 61941 term 50 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 1884 term 50 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9219 term 50 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 85689 term 50 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
flag 15369 term 50 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 71418 term 50 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
flag 47800 term 50 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 68018 term 50 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65279 term 50 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 18865 term 50 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
flag 34889 term 50 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 62728 term 50 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
flag 73796 term 50 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 45095 term 50 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
flag 95517 term 50 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 37736 term 50 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84703 term 50 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 83690 term 50 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
flag 77042 term 50 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 6842 term 50 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29197 term 50 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 81881 term 50 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
flag 41331 term 50 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 91124 term 50 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
flag 77587 term 50 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 4235 term 50 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
flag 34151 term 50 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 13780 term 50 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
flag 13026 term 50 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 82199 term 50 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 48 309} {6311578829840708367 48 310}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6311578829840708367 (index 311) to leader 0
flag 52873 term 50 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 59645 term 50 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 50 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {6311578829840708367 48 310} {6311578829840708367 50 311}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {6311578829840708367 48 310} {6311578829840708367 50 311}]
------------------------------------------------------
flag 92469 term 50 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
flag 41494 term 50 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {6311578829840708367 48 310} {6311578829840708367 50 311}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {6311578829840708367 48 310} {6311578829840708367 50 311}]
------------------------------------------------------
flag 46926 term 50 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
flag 76173 term 50 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {6311578829840708367 48 310} {6311578829840708367 50 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {6311578829840708367 48 310} {6311578829840708367 50 311}]
------------------------------------------------------
flag 24361 term 50 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
flag 31428 term 50 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {6311578829840708367 48 310} {6311578829840708367 50 311}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {6311578829840708367 48 310} {6311578829840708367 50 311}]
------------------------------------------------------
flag 85845 term 50 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
flag 30029 term 50 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {6311578829840708367 48 310} {6311578829840708367 50 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {6311578829840708367 48 310} {6311578829840708367 50 311}]
------------------------------------------------------
flag 91886 term 50 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
flag 76311 term 50 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {6311578829840708367 48 310} {6311578829840708367 50 311}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {6311578829840708367 48 310} {6311578829840708367 50 311}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 75395 term 50 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
flag 55750 term 50 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
flag 17712 term 50 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
flag 29593 term 50 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
flag 98711 term 50 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
flag 99595 term 50 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
term 51 server 2 vote for server 1
term 51 server 1 get vote from server 2
term 51 server 1 become leader
------------------------------------------------------
flag 96467 term 51 leader 1 nextIndex[0]: 312  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
flag 57107 term 51 leader 1 nextIndex[2]: 312  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {6311578829840708367 48 310} {6311578829840708367 50 311}]
------------------------------------------------------
client write log 8299505883502224165 (index 312) to leader 1
flag 6867 term 50 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
flag 70216 term 50 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
flag 62746 term 51 leader 1 nextIndex[0]: 312  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
flag 15579 term 51 leader 1 nextIndex[2]: 312  matchIndex[2]: 311
term 51 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {6311578829840708367 48 310} {6311578829840708367 50 311} {8299505883502224165 51 312}]
------------------------------------------------------
flag 71067 term 50 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
flag 54363 term 50 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41249 term 51 leader 1 nextIndex[0]: 312  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
flag 99806 term 51 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 51 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {6311578829840708367 48 310} {6311578829840708367 50 311} {8299505883502224165 51 312}]
------------------------------------------------------
client write log 4848504870757195639 (index 313) to leader 1
client write log 5634222554830280744 (index 314) to leader 1
client write log 7338703911892011483 (index 315) to leader 1
client write log 633605146025793702 (index 316) to leader 1
client write log 1387985796571838334 (index 317) to leader 1
client write log 2457278213404224479 (index 318) to leader 1
client write log 2635890892917964051 (index 319) to leader 1
client write log 3865347069667648770 (index 320) to leader 1
flag 612 term 50 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
flag 86647 term 50 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 server 2 not vote for server 1, 任期不够新
term 51 server 1 get outdate rpc reply from server 2
flag 38362 term 51 leader 1 nextIndex[0]: 312  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
flag 53574 term 51 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 51 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 48 309} {6311578829840708367 48 310} {6311578829840708367 50 311} {8299505883502224165 51 312} {4848504870757195639 51 313} {5634222554830280744 51 314} {7338703911892011483 51 315} {633605146025793702 51 316} {1387985796571838334 51 317} {2457278213404224479 51 318} {2635890892917964051 51 319} {3865347069667648770 51 320}]
------------------------------------------------------
term 51 Server1 start snapshot! index=319
term 51 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=320
-------------------------------------------------------------
flag 94418 term 50 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
flag 14227 term 50 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
term 51 leader 1 nextIndex[0]: 312  matchIndex[0]: 0
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
flag 18047 term 51 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 51 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 51 leaderCommit: 320 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 51 319} {3865347069667648770 51 320}]
------------------------------------------------------
term 51 Server2 start snapshot! index=319
term 51 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=320
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6224203521443355463 (index 321) to leader 1
flag 83982 term 50 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
flag 92964 term 50 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 50 leaderCommit: 311 
------------------------------------------------------
term 51 server 2 AppendEntries false 领导者任期过期 args.Term 50
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 51 server 1 AppendEntries false 领导者任期过期 args.Term 50
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 1 nextIndex[0]: 312  matchIndex[0]: 0
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
flag 71317 term 51 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 51 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 51 leaderCommit: 320 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 51 319} {3865347069667648770 51 320} {6224203521443355463 51 321}]
------------------------------------------------------
term 51 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 51 rf.commitIndex 319 rf.lastApplied 319
term 51 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
flag 39632 term 51 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 51 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 321 
------------------------------------------------------
flag 90580 term 51 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 51 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 51 leaderCommit: 321 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 51 319} {3865347069667648770 51 320} {6224203521443355463 51 321}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 51 319} {3865347069667648770 51 320} {6224203521443355463 51 321}]
------------------------------------------------------
flag 87119 term 51 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 51 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 51 leaderCommit: 321 
------------------------------------------------------
flag 72967 term 51 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 51 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 51 leaderCommit: 321 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
term 51 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
update leader CommitIndex=321
leader log:
[{snapshot 51 319} {3865347069667648770 51 320} {6224203521443355463 51 321}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 51 319} {3865347069667648770 51 320} {6224203521443355463 51 321}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52071 term 51 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 51 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 51 leaderCommit: 321 
------------------------------------------------------
flag 35498 term 51 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 51 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 51 leaderCommit: 321 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 51 319} {3865347069667648770 51 320} {6224203521443355463 51 321}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 51 319} {3865347069667648770 51 320} {6224203521443355463 51 321}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72966 term 51 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 51 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 51 leaderCommit: 321 
------------------------------------------------------
flag 62482 term 51 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 51 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 51 leaderCommit: 321 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 51 319} {3865347069667648770 51 320} {6224203521443355463 51 321}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 51 319} {3865347069667648770 51 320} {6224203521443355463 51 321}]
------------------------------------------------------
flag 40298 term 51 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 51 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 51 leaderCommit: 321 
------------------------------------------------------
flag 67654 term 51 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 51 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 51 leaderCommit: 321 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 51 319} {3865347069667648770 51 320} {6224203521443355463 51 321}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 51 319} {3865347069667648770 51 320} {6224203521443355463 51 321}]
------------------------------------------------------
flag 63058 term 51 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 51 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 51 leaderCommit: 321 
------------------------------------------------------
flag 20843 term 51 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 51 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 51 leaderCommit: 321 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 51 319} {3865347069667648770 51 320} {6224203521443355463 51 321}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 51 319} {3865347069667648770 51 320} {6224203521443355463 51 321}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 433193207520822335 (index 322) to leader 1
flag 76531 term 51 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 51 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 51 leaderCommit: 321 
------------------------------------------------------
flag 43610 term 51 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 51 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 51 leaderCommit: 321 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {3865347069667648770 51 320} {6224203521443355463 51 321} {433193207520822335 51 322}]
------------------------------------------------------
flag 93678 term 51 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 51 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 64586 term 51 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 51 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {3865347069667648770 51 320} {6224203521443355463 51 321} {433193207520822335 51 322}]
------------------------------------------------------
client write log 1308679433941586138 (index 323) to leader 1
client write log 3521955252006469435 (index 324) to leader 1
client write log 6593104939124295953 (index 325) to leader 1
client write log 4869010787468027126 (index 326) to leader 1
client write log 4026612098611465173 (index 327) to leader 1
client write log 552161884639223704 (index 328) to leader 1
client write log 8294707560987909088 (index 329) to leader 1
client write log 1072573547699362226 (index 330) to leader 1
client write log 319425987545691099 (index 331) to leader 1
client write log 5865763724131961952 (index 332) to leader 1
client write log 642877334901745910 (index 333) to leader 1
client write log 421626794125381435 (index 334) to leader 1
client write log 105300061440449525 (index 335) to leader 1
flag 21757 term 51 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 51 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 7351 term 51 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 51 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 51 319} {3865347069667648770 51 320} {6224203521443355463 51 321} {433193207520822335 51 322} {1308679433941586138 51 323} {3521955252006469435 51 324} {6593104939124295953 51 325} {4869010787468027126 51 326} {4026612098611465173 51 327} {552161884639223704 51 328} {8294707560987909088 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335}]
------------------------------------------------------
term 51 Server1 start snapshot! index=329
term 51 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=335
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 336->335
------------------------------------------------------
term 51 leader 1 nextIndex[0]: 0  matchIndex[0]: 335
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 51
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 0 InstallSnapshot success
------------------------------------------------------
term 51 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 330 matchIndex[0] 329 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 51 rf.commitIndex 329 rf.lastApplied 329
flag 79422 term 51 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 51 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335}]
------------------------------------------------------
!!!!!!connect server 2
client write log 4322912407310707214 (index 336) to leader 1
flag 8839 term 51 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 51 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 51
------------------------------------------------------
term 52 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 2 vote for server 1
term 53 server 0 vote for server 1
term 53 server 1 get vote from server 2
term 53 server 1 become leader
------------------------------------------------------
term 53 server 1 get outdate rpc reply from server 0
flag 48161 term 53 leader 1 nextIndex[0]: 337  matchIndex[0]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 67693 term 53 leader 1 nextIndex[2]: 337  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 337->336
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
flag 20366 term 53 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 322  matchIndex[2]: 0
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 51
------------------------------------------------------
term 53 server 2 InstallSnapshot success
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 51 rf.commitIndex 329 rf.lastApplied 329
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
flag 75140 term 53 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 98437 term 53 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 53 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
term 53 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7935 term 53 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 14121 term 53 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94475 term 53 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 62158 term 53 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59278 term 53 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 42589 term 53 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
flag 25279 term 53 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 83937 term 53 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
flag 39498 term 53 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 2327 term 53 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
flag 88836 term 53 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 38056 term 53 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
flag 24382 term 53 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 70839 term 53 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
flag 64768 term 53 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 65054 term 53 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
flag 17122 term 53 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 91882 term 53 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
flag 13423 term 53 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 15272 term 53 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
flag 25775 term 53 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 55542 term 53 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
flag 82780 term 53 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 88122 term 53 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
flag 35830 term 53 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 29555 term 53 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
flag 96209 term 53 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 65591 term 53 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
term 53 server 0 not vote for server 1, 任期不够新
term 53 server 1 get outdate rpc reply from server 0
flag 81430 term 53 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 10802 term 53 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336}]
------------------------------------------------------
client write log 4322912407310707214 (index 337) to leader 1
flag 35385 term 53 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 38972 term 53 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336} {4322912407310707214 53 337}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336} {4322912407310707214 53 337}]
------------------------------------------------------
flag 59645 term 53 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 86734 term 53 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 53 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336} {4322912407310707214 53 337}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336} {4322912407310707214 53 337}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99008 term 53 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 21337 term 53 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 53 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336} {4322912407310707214 53 337}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336} {4322912407310707214 53 337}]
------------------------------------------------------
flag 13854 term 53 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 26927 term 53 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 53 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336} {4322912407310707214 53 337}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336} {4322912407310707214 53 337}]
------------------------------------------------------
flag 7770 term 53 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 92294 term 53 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 53 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336} {4322912407310707214 53 337}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336} {4322912407310707214 53 337}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 0 not vote for server 1, 任期不够新
term 53 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15959 term 53 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 87091 term 53 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 53 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336} {4322912407310707214 53 337}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {1072573547699362226 51 330} {319425987545691099 51 331} {5865763724131961952 51 332} {642877334901745910 51 333} {421626794125381435 51 334} {105300061440449525 51 335} {4322912407310707214 51 336} {4322912407310707214 53 337}]
------------------------------------------------------
  ... Passed --  78.5  3 1790  829527  337
--- PASS: TestSnapshotInstall2D (78.45s)
PASS
