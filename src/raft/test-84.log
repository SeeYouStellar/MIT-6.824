=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 0 vote for server 1
term 1 server 2 vote for server 1
term 1 server 1 get vote from server 0
term 1 server 1 become leader
------------------------------------------------------
term 1 server 1 get outdate rpc reply from server 2
flag 51886 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 78520 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 4577639660031365093 (index 1) to leader 1
flag 49611 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 73447 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4577639660031365093 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4577639660031365093 1 1}]
------------------------------------------------------
flag 63141 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 34871 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4577639660031365093 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4577639660031365093 1 1}]
------------------------------------------------------
flag 53843 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 49158 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4577639660031365093 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4577639660031365093 1 1}]
------------------------------------------------------
flag 61385 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 55140 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4577639660031365093 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4577639660031365093 1 1}]
------------------------------------------------------
flag 54767 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 95158 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
update nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4577639660031365093 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4577639660031365093 1 1}]
------------------------------------------------------
flag 53378 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 88831 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4577639660031365093 1 1}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4577639660031365093 1 1}]
------------------------------------------------------
flag 2935 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 32009 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4577639660031365093 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4577639660031365093 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4624201217791286541 (index 2) to leader 1
flag 16299 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 66415 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {4577639660031365093 1 1} {4624201217791286541 1 2}]
------------------------------------------------------
flag 3993 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 62366 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {4577639660031365093 1 1} {4624201217791286541 1 2}]
------------------------------------------------------
client write log 8852205563891125172 (index 3) to leader 1
client write log 7445532526838653394 (index 4) to leader 1
client write log 7082718918459812080 (index 5) to leader 1
client write log 5175317984055535315 (index 6) to leader 1
client write log 905501454031908266 (index 7) to leader 1
client write log 1016593653621433595 (index 8) to leader 1
client write log 1155517546293126735 (index 9) to leader 1
client write log 7391453675518511315 (index 10) to leader 1
client write log 4135466011390704189 (index 11) to leader 1
client write log 6870495737204576241 (index 12) to leader 1
client write log 2710561950201749349 (index 13) to leader 1
client write log 1646445945019760482 (index 14) to leader 1
client write log 705017884975167555 (index 15) to leader 1
flag 22923 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 40374 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{<nil> 0 0} {4577639660031365093 1 1} {4624201217791286541 1 2} {8852205563891125172 1 3} {7445532526838653394 1 4} {7082718918459812080 1 5} {5175317984055535315 1 6} {905501454031908266 1 7} {1016593653621433595 1 8} {1155517546293126735 1 9} {7391453675518511315 1 10} {4135466011390704189 1 11} {6870495737204576241 1 12} {2710561950201749349 1 13} {1646445945019760482 1 14} {705017884975167555 1 15}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=15
-------------------------------------------------------------
flag 32590 term 1 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 1 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7391453675518511315 1 10} {4135466011390704189 1 11} {6870495737204576241 1 12} {2710561950201749349 1 13} {1646445945019760482 1 14} {705017884975167555 1 15}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=15
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4992956585472074681 (index 16) to leader 1
flag 22420 term 1 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 1 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7391453675518511315 1 10} {4135466011390704189 1 11} {6870495737204576241 1 12} {2710561950201749349 1 13} {1646445945019760482 1 14} {705017884975167555 1 15} {4992956585472074681 1 16}]
------------------------------------------------------
term 2 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 3 server 2 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 0 vote for server 1
term 3 server 1 get outdate rpc reply from server 0
flag 84111 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 10763 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 17->16
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7391453675518511315 1 10} {4135466011390704189 1 11} {6870495737204576241 1 12} {2710561950201749349 1 13} {1646445945019760482 1 14} {705017884975167555 1 15} {4992956585472074681 1 16}]
------------------------------------------------------
term 3 server 0 not vote for server 2, 任期不够新
term 3 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49039 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7391453675518511315 1 10} {4135466011390704189 1 11} {6870495737204576241 1 12} {2710561950201749349 1 13} {1646445945019760482 1 14} {705017884975167555 1 15} {4992956585472074681 1 16}]
------------------------------------------------------
flag 34268 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 32552 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7391453675518511315 1 10} {4135466011390704189 1 11} {6870495737204576241 1 12} {2710561950201749349 1 13} {1646445945019760482 1 14} {705017884975167555 1 15} {4992956585472074681 1 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7391453675518511315 1 10} {4135466011390704189 1 11} {6870495737204576241 1 12} {2710561950201749349 1 13} {1646445945019760482 1 14} {705017884975167555 1 15} {4992956585472074681 1 16}]
------------------------------------------------------
flag 78112 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 31227 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7391453675518511315 1 10} {4135466011390704189 1 11} {6870495737204576241 1 12} {2710561950201749349 1 13} {1646445945019760482 1 14} {705017884975167555 1 15} {4992956585472074681 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7391453675518511315 1 10} {4135466011390704189 1 11} {6870495737204576241 1 12} {2710561950201749349 1 13} {1646445945019760482 1 14} {705017884975167555 1 15} {4992956585472074681 1 16}]
------------------------------------------------------
flag 55519 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 39825 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7391453675518511315 1 10} {4135466011390704189 1 11} {6870495737204576241 1 12} {2710561950201749349 1 13} {1646445945019760482 1 14} {705017884975167555 1 15} {4992956585472074681 1 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7391453675518511315 1 10} {4135466011390704189 1 11} {6870495737204576241 1 12} {2710561950201749349 1 13} {1646445945019760482 1 14} {705017884975167555 1 15} {4992956585472074681 1 16}]
------------------------------------------------------
flag 54202 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 86143 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7391453675518511315 1 10} {4135466011390704189 1 11} {6870495737204576241 1 12} {2710561950201749349 1 13} {1646445945019760482 1 14} {705017884975167555 1 15} {4992956585472074681 1 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7391453675518511315 1 10} {4135466011390704189 1 11} {6870495737204576241 1 12} {2710561950201749349 1 13} {1646445945019760482 1 14} {705017884975167555 1 15} {4992956585472074681 1 16}]
------------------------------------------------------
flag 71884 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 90865 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7391453675518511315 1 10} {4135466011390704189 1 11} {6870495737204576241 1 12} {2710561950201749349 1 13} {1646445945019760482 1 14} {705017884975167555 1 15} {4992956585472074681 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7391453675518511315 1 10} {4135466011390704189 1 11} {6870495737204576241 1 12} {2710561950201749349 1 13} {1646445945019760482 1 14} {705017884975167555 1 15} {4992956585472074681 1 16}]
------------------------------------------------------
flag 89793 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 63879 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7391453675518511315 1 10} {4135466011390704189 1 11} {6870495737204576241 1 12} {2710561950201749349 1 13} {1646445945019760482 1 14} {705017884975167555 1 15} {4992956585472074681 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7391453675518511315 1 10} {4135466011390704189 1 11} {6870495737204576241 1 12} {2710561950201749349 1 13} {1646445945019760482 1 14} {705017884975167555 1 15} {4992956585472074681 1 16}]
------------------------------------------------------
flag 38192 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 15805 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7391453675518511315 1 10} {4135466011390704189 1 11} {6870495737204576241 1 12} {2710561950201749349 1 13} {1646445945019760482 1 14} {705017884975167555 1 15} {4992956585472074681 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7391453675518511315 1 10} {4135466011390704189 1 11} {6870495737204576241 1 12} {2710561950201749349 1 13} {1646445945019760482 1 14} {705017884975167555 1 15} {4992956585472074681 1 16}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 62667 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 13400 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76699 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 43237 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 54330 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 80501 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 58640 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 64431 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 vote for server 2
term 4 server 2 get vote from server 0
term 4 server 2 become leader
------------------------------------------------------
flag 37964 term 4 leader 2 nextIndex[0]: 17  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 2411 term 4 leader 2 nextIndex[1]: 17  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7391453675518511315 1 10} {4135466011390704189 1 11} {6870495737204576241 1 12} {2710561950201749349 1 13} {1646445945019760482 1 14} {705017884975167555 1 15} {4992956585472074681 1 16}]
------------------------------------------------------
client write log 7135728016390538143 (index 17) to leader 2
flag 84604 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 85900 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 85154 term 4 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 85885 term 4 leader 2 nextIndex[1]: 17  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7391453675518511315 1 10} {4135466011390704189 1 11} {6870495737204576241 1 12} {2710561950201749349 1 13} {1646445945019760482 1 14} {705017884975167555 1 15} {4992956585472074681 1 16} {7135728016390538143 4 17}]
------------------------------------------------------
flag 60283 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 1280 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 14022 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 27490 term 4 leader 2 nextIndex[1]: 17  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7391453675518511315 1 10} {4135466011390704189 1 11} {6870495737204576241 1 12} {2710561950201749349 1 13} {1646445945019760482 1 14} {705017884975167555 1 15} {4992956585472074681 1 16} {7135728016390538143 4 17}]
------------------------------------------------------
client write log 1721789980910697934 (index 18) to leader 2
client write log 6690843610378429428 (index 19) to leader 2
client write log 9107486944335117136 (index 20) to leader 2
client write log 7673771302754262069 (index 21) to leader 2
client write log 6471482732562684695 (index 22) to leader 2
client write log 2431920884097376578 (index 23) to leader 2
client write log 7825473548788707618 (index 24) to leader 2
client write log 1821041876697367669 (index 25) to leader 2
client write log 4154025117908737905 (index 26) to leader 2
client write log 3536717320513643960 (index 27) to leader 2
flag 46299 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 32630 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 17->16
------------------------------------------------------
flag 79896 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 73053 term 4 leader 2 nextIndex[1]: 17  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 1 9} {7391453675518511315 1 10} {4135466011390704189 1 11} {6870495737204576241 1 12} {2710561950201749349 1 13} {1646445945019760482 1 14} {705017884975167555 1 15} {4992956585472074681 1 16} {7135728016390538143 4 17} {1721789980910697934 4 18} {6690843610378429428 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=27
-------------------------------------------------------------
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 16
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 32193 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 2890 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 17  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=27
-------------------------------------------------------------
!!!!!!connect server 1
client write log 456273530633868876 (index 17) to leader 1
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 16
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 76507 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
term 4 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 1 not vote for server 2, 任期不够新
term 4 server 2 get outdate rpc reply from server 1
flag 83563 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 17  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot success
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
flag 68564 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 95854 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
flag 87305 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 89919 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
flag 12491 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 87983 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
flag 77283 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 77434 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
flag 29397 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 83657 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
flag 83444 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 5034 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
flag 99222 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 72284 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
flag 89552 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 47232 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98401 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 68989 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 2 get outdate rpc reply from server 1
flag 51662 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 68182 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
flag 38327 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 30217 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
flag 39773 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 21128 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
flag 81824 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 69748 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
flag 20419 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 27227 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90229 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 20837 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
flag 56083 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 64805 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 28->27
------------------------------------------------------
flag 14930 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 27
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 27 args.LastIncludedIndex 19
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
flag 16828 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 14282 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
flag 97323 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 85557 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27}]
------------------------------------------------------
client write log 456273530633868876 (index 28) to leader 2
flag 30883 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 45414 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27} {456273530633868876 4 28}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27} {456273530633868876 4 28}]
------------------------------------------------------
flag 45181 term 4 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 34843 term 4 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27} {456273530633868876 4 28}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27} {456273530633868876 4 28}]
------------------------------------------------------
flag 61615 term 4 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 6628 term 4 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27} {456273530633868876 4 28}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27} {456273530633868876 4 28}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 29->28
------------------------------------------------------
flag 3039 term 4 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 28
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 28 args.LastIncludedIndex 19
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27} {456273530633868876 4 28}]
------------------------------------------------------
flag 7481 term 4 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 97435 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27} {456273530633868876 4 28}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27} {456273530633868876 4 28}]
------------------------------------------------------
flag 87426 term 4 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 44988 term 4 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
term 4 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27} {456273530633868876 4 28}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27} {456273530633868876 4 28}]
------------------------------------------------------
flag 90260 term 4 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 35272 term 4 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27} {456273530633868876 4 28}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27} {456273530633868876 4 28}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7894950248255545829 (index 29) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21452 term 4 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 70626 term 4 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 19} {9107486944335117136 4 20} {7673771302754262069 4 21} {6471482732562684695 4 22} {2431920884097376578 4 23} {7825473548788707618 4 24} {1821041876697367669 4 25} {4154025117908737905 4 26} {3536717320513643960 4 27} {456273530633868876 4 28} {7894950248255545829 4 29}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
term 4 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 28755 term 4 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 4 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
client write log 8473187038559728850 (index 30) to leader 2
client write log 2819953220654684226 (index 31) to leader 2
client write log 5953064317240583779 (index 32) to leader 2
client write log 8712801627541842474 (index 33) to leader 2
client write log 330085474674558832 (index 34) to leader 2
client write log 3292644577459391923 (index 35) to leader 2
term 4 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 79769 term 4 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 4 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8473187038559728850 4 30} {2819953220654684226 4 31} {5953064317240583779 4 32} {8712801627541842474 4 33} {330085474674558832 4 34} {3292644577459391923 4 35}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 49166 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8473187038559728850 4 30} {2819953220654684226 4 31} {5953064317240583779 4 32} {8712801627541842474 4 33} {330085474674558832 4 34} {3292644577459391923 4 35}]
------------------------------------------------------
!!!!!!connect server 0
client write log 9031190061940495599 (index 36) to leader 2
term 4 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 22235 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8473187038559728850 4 30} {2819953220654684226 4 31} {5953064317240583779 4 32} {8712801627541842474 4 33} {330085474674558832 4 34} {3292644577459391923 4 35} {9031190061940495599 4 36}]
------------------------------------------------------
term 5 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 1 vote for server 2
term 6 server 0 vote for server 2
term 6 server 2 get vote from server 1
term 6 server 2 become leader
------------------------------------------------------
term 6 server 2 get outdate rpc reply from server 0
flag 2520 term 6 leader 2 nextIndex[0]: 37  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 21025 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8473187038559728850 4 30} {2819953220654684226 4 31} {5953064317240583779 4 32} {8712801627541842474 4 33} {330085474674558832 4 34} {3292644577459391923 4 35} {9031190061940495599 4 36}]
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 37->36
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 0
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 6277 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8473187038559728850 4 30} {2819953220654684226 4 31} {5953064317240583779 4 32} {8712801627541842474 4 33} {330085474674558832 4 34} {3292644577459391923 4 35} {9031190061940495599 4 36}]
------------------------------------------------------
term 6 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84441 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 7365 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8473187038559728850 4 30} {2819953220654684226 4 31} {5953064317240583779 4 32} {8712801627541842474 4 33} {330085474674558832 4 34} {3292644577459391923 4 35} {9031190061940495599 4 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8473187038559728850 4 30} {2819953220654684226 4 31} {5953064317240583779 4 32} {8712801627541842474 4 33} {330085474674558832 4 34} {3292644577459391923 4 35} {9031190061940495599 4 36}]
------------------------------------------------------
flag 51828 term 6 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 37825 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8473187038559728850 4 30} {2819953220654684226 4 31} {5953064317240583779 4 32} {8712801627541842474 4 33} {330085474674558832 4 34} {3292644577459391923 4 35} {9031190061940495599 4 36}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8473187038559728850 4 30} {2819953220654684226 4 31} {5953064317240583779 4 32} {8712801627541842474 4 33} {330085474674558832 4 34} {3292644577459391923 4 35} {9031190061940495599 4 36}]
------------------------------------------------------
flag 67677 term 6 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 32678 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8473187038559728850 4 30} {2819953220654684226 4 31} {5953064317240583779 4 32} {8712801627541842474 4 33} {330085474674558832 4 34} {3292644577459391923 4 35} {9031190061940495599 4 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8473187038559728850 4 30} {2819953220654684226 4 31} {5953064317240583779 4 32} {8712801627541842474 4 33} {330085474674558832 4 34} {3292644577459391923 4 35} {9031190061940495599 4 36}]
------------------------------------------------------
flag 17439 term 6 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 39212 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8473187038559728850 4 30} {2819953220654684226 4 31} {5953064317240583779 4 32} {8712801627541842474 4 33} {330085474674558832 4 34} {3292644577459391923 4 35} {9031190061940495599 4 36}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8473187038559728850 4 30} {2819953220654684226 4 31} {5953064317240583779 4 32} {8712801627541842474 4 33} {330085474674558832 4 34} {3292644577459391923 4 35} {9031190061940495599 4 36}]
------------------------------------------------------
flag 99612 term 6 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 29182 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8473187038559728850 4 30} {2819953220654684226 4 31} {5953064317240583779 4 32} {8712801627541842474 4 33} {330085474674558832 4 34} {3292644577459391923 4 35} {9031190061940495599 4 36}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8473187038559728850 4 30} {2819953220654684226 4 31} {5953064317240583779 4 32} {8712801627541842474 4 33} {330085474674558832 4 34} {3292644577459391923 4 35} {9031190061940495599 4 36}]
------------------------------------------------------
flag 90199 term 6 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 60954 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8473187038559728850 4 30} {2819953220654684226 4 31} {5953064317240583779 4 32} {8712801627541842474 4 33} {330085474674558832 4 34} {3292644577459391923 4 35} {9031190061940495599 4 36}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8473187038559728850 4 30} {2819953220654684226 4 31} {5953064317240583779 4 32} {8712801627541842474 4 33} {330085474674558832 4 34} {3292644577459391923 4 35} {9031190061940495599 4 36}]
------------------------------------------------------
flag 97913 term 6 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 94932 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8473187038559728850 4 30} {2819953220654684226 4 31} {5953064317240583779 4 32} {8712801627541842474 4 33} {330085474674558832 4 34} {3292644577459391923 4 35} {9031190061940495599 4 36}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8473187038559728850 4 30} {2819953220654684226 4 31} {5953064317240583779 4 32} {8712801627541842474 4 33} {330085474674558832 4 34} {3292644577459391923 4 35} {9031190061940495599 4 36}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7573817771133758347 (index 37) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73364 term 6 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 94364 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {8473187038559728850 4 30} {2819953220654684226 4 31} {5953064317240583779 4 32} {8712801627541842474 4 33} {330085474674558832 4 34} {3292644577459391923 4 35} {9031190061940495599 4 36} {7573817771133758347 6 37}]
------------------------------------------------------
flag 39233 term 6 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 53202 term 6 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {8473187038559728850 4 30} {2819953220654684226 4 31} {5953064317240583779 4 32} {8712801627541842474 4 33} {330085474674558832 4 34} {3292644577459391923 4 35} {9031190061940495599 4 36} {7573817771133758347 6 37}]
------------------------------------------------------
client write log 3546477178538346983 (index 38) to leader 2
client write log 8549727980297969672 (index 39) to leader 2
client write log 4855094011916624058 (index 40) to leader 2
client write log 8056089776539181654 (index 41) to leader 2
client write log 4951537571215246344 (index 42) to leader 2
client write log 8020610143785348303 (index 43) to leader 2
client write log 1460025537711723878 (index 44) to leader 2
client write log 3719528349373491938 (index 45) to leader 2
client write log 1666928982176778548 (index 46) to leader 2
client write log 1734113846450449880 (index 47) to leader 2
client write log 1858109420114798619 (index 48) to leader 2
flag 97983 term 6 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 7860 term 6 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 29} {8473187038559728850 4 30} {2819953220654684226 4 31} {5953064317240583779 4 32} {8712801627541842474 4 33} {330085474674558832 4 34} {3292644577459391923 4 35} {9031190061940495599 4 36} {7573817771133758347 6 37} {3546477178538346983 6 38} {8549727980297969672 6 39} {4855094011916624058 6 40} {8056089776539181654 6 41} {4951537571215246344 6 42} {8020610143785348303 6 43} {1460025537711723878 6 44} {3719528349373491938 6 45} {1666928982176778548 6 46} {1734113846450449880 6 47} {1858109420114798619 6 48}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=48
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 48686 term 6 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 6 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {4855094011916624058 6 40} {8056089776539181654 6 41} {4951537571215246344 6 42} {8020610143785348303 6 43} {1460025537711723878 6 44} {3719528349373491938 6 45} {1666928982176778548 6 46} {1734113846450449880 6 47} {1858109420114798619 6 48}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=48
-------------------------------------------------------------
!!!!!!connect server 0
client write log 325758792321392645 (index 49) to leader 2
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
flag 577 term 6 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 63159 term 6 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 6 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 39} {4855094011916624058 6 40} {8056089776539181654 6 41} {4951537571215246344 6 42} {8020610143785348303 6 43} {1460025537711723878 6 44} {3719528349373491938 6 45} {1666928982176778548 6 46} {1734113846450449880 6 47} {1858109420114798619 6 48} {325758792321392645 6 49}]
------------------------------------------------------
term 7 server 0 AppendEntries false 领导者任期过期 args.Term 6
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 7 Server2 start snapshot! index=49
term 7 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 7 server 2 not vote for server 0, 日志不够新
term 6 server 1 not vote for server 0, 日志不够新
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 1 vote for server 2
term 9 server 2 get vote from server 1
term 9 server 2 become leader
------------------------------------------------------
term 9 server 0 vote for server 2
term 9 server 2 get outdate rpc reply from server 0
flag 81244 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 79483 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 50->49
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
term 9 Server1 start snapshot! index=49
term 9 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 9 leader 2 nextIndex[0]: 37  matchIndex[0]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 11953 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
term 9 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 6 rf.commitIndex 49 rf.lastApplied 49
term 9 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63567 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 60948 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90158 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 98594 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62150 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 90254 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95932 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 1114 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
flag 46872 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 3199 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 81197 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 7922 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 45662 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 43478 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77664 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 59224 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4600 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 39335 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 10 server 1 vote for server 0
term 10 server 0 get vote from server 1
term 10 server 0 become leader
------------------------------------------------------
flag 88217 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 65623 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
client write log 2970839186806365322 (index 50) to leader 0
flag 3608 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 66247 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 71100 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 1792 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2970839186806365322 10 50}]
------------------------------------------------------
flag 22086 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 12790 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 50->49
------------------------------------------------------
flag 41176 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 63469 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2970839186806365322 10 50}]
------------------------------------------------------
client write log 3324306834761897609 (index 51) to leader 0
client write log 1836644319199758345 (index 52) to leader 0
client write log 7711756757602907971 (index 53) to leader 0
client write log 7843147196306186804 (index 54) to leader 0
client write log 802314580459671641 (index 55) to leader 0
client write log 8697185718779530486 (index 56) to leader 0
client write log 602112215738285865 (index 57) to leader 0
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 49
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 52335 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 59113 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 96705 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 49
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 35794 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 48621 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 21629 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
!!!!!!connect server 2
client write log 6838226852943041396 (index 50) to leader 2
term 9 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 50->49
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 49
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 20257 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 10 server 1 AppendEntries false 领导者任期过期 args.Term 9
------------------------------------------------------
term 10 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 10 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83035 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 87407 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
flag 81465 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 1029 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
flag 29424 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 81777 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
flag 33676 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 90809 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
flag 4654 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 66559 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29776 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 38207 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
flag 76377 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 45528 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
flag 91053 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 31201 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
flag 39090 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 50289 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
flag 35683 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 42146 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
flag 62642 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 86557 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
flag 72519 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 18410 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
flag 84506 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 40612 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
term 10 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 58->57
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36759 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 leader 0 nextIndex[2]: 0  matchIndex[2]: 57
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
term 10 server 2 InstallSnapshot fail
rf.commitIndex 57 args.LastIncludedIndex 49
------------------------------------------------------
term 10 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
flag 79837 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 55079 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
term 10 server 2 not vote for server 0, 任期不够新
term 10 server 0 get outdate rpc reply from server 2
flag 49952 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 35263 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
flag 70395 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 23008 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
flag 50253 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 73107 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
flag 12626 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 44175 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
flag 89927 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 77483 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57}]
------------------------------------------------------
client write log 6838226852943041396 (index 58) to leader 0
flag 71018 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 3301 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57} {6838226852943041396 10 58}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57} {6838226852943041396 10 58}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97428 term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 10 leaderCommit: 58 
------------------------------------------------------
flag 48500 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 10 leaderCommit: 58 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57} {6838226852943041396 10 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57} {6838226852943041396 10 58}]
------------------------------------------------------
flag 82094 term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 10 leaderCommit: 58 
------------------------------------------------------
flag 42497 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 10 leaderCommit: 58 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57} {6838226852943041396 10 58}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57} {6838226852943041396 10 58}]
------------------------------------------------------
term 10 server 2 not vote for server 0, 任期不够新
term 10 server 0 get outdate rpc reply from server 2
flag 19919 term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 10 leaderCommit: 58 
------------------------------------------------------
flag 53708 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 10 leaderCommit: 58 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57} {6838226852943041396 10 58}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57} {6838226852943041396 10 58}]
------------------------------------------------------
flag 78184 term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 10 leaderCommit: 58 
------------------------------------------------------
flag 91175 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 10 leaderCommit: 58 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57} {6838226852943041396 10 58}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57} {6838226852943041396 10 58}]
------------------------------------------------------
flag 65133 term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 10 leaderCommit: 58 
------------------------------------------------------
flag 56652 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 10 leaderCommit: 58 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57} {6838226852943041396 10 58}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57} {6838226852943041396 10 58}]
------------------------------------------------------
flag 40033 term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 10 leaderCommit: 58 
------------------------------------------------------
flag 18155 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 10 leaderCommit: 58 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57} {6838226852943041396 10 58}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57} {6838226852943041396 10 58}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1183309151855344128 (index 59) to leader 0
flag 18635 term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 10 leaderCommit: 58 
------------------------------------------------------
flag 75348 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 10 leaderCommit: 58 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 6 49} {2970839186806365322 10 50} {3324306834761897609 10 51} {1836644319199758345 10 52} {7711756757602907971 10 53} {7843147196306186804 10 54} {802314580459671641 10 55} {8697185718779530486 10 56} {602112215738285865 10 57} {6838226852943041396 10 58} {1183309151855344128 10 59}]
------------------------------------------------------
term 10 Server0 start snapshot! index=59
term 10 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 60->59
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 10
------------------------------------------------------
term 10 leader 0 nextIndex[2]: 0  matchIndex[2]: 59
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 10
------------------------------------------------------
term 10 server 2 InstallSnapshot success
------------------------------------------------------
term 10 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 10 rf.commitIndex 59 rf.lastApplied 59
client write log 4066611328518978027 (index 60) to leader 0
client write log 3256111351742418962 (index 61) to leader 0
client write log 2933825809007084907 (index 62) to leader 0
client write log 4019252785795208902 (index 63) to leader 0
client write log 1166097033849745963 (index 64) to leader 0
client write log 754706263555929060 (index 65) to leader 0
client write log 9121024964996162284 (index 66) to leader 0
client write log 8030799390616231636 (index 67) to leader 0
client write log 1898792131034865436 (index 68) to leader 0
client write log 4402015565115072983 (index 69) to leader 0
client write log 7530480529888695863 (index 70) to leader 0
term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 10
------------------------------------------------------
flag 57109 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 10 59} {4066611328518978027 10 60} {3256111351742418962 10 61} {2933825809007084907 10 62} {4019252785795208902 10 63} {1166097033849745963 10 64} {754706263555929060 10 65} {9121024964996162284 10 66} {8030799390616231636 10 67} {1898792131034865436 10 68} {4402015565115072983 10 69} {7530480529888695863 10 70}]
------------------------------------------------------
term 10 Server0 start snapshot! index=69
term 10 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=70
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 10
------------------------------------------------------
flag 38775 term 10 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 10 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 70 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 10 69} {7530480529888695863 10 70}]
------------------------------------------------------
term 10 Server2 start snapshot! index=69
term 10 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=70
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5516661153480959899 (index 71) to leader 0
term 10 server 2 not vote for server 0, 日志不够新
term 10 server 0 get outdate rpc reply from server 2
term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 10
------------------------------------------------------
flag 65964 term 10 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 10 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 70 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {7530480529888695863 10 70} {5516661153480959899 10 71}]
------------------------------------------------------
term 11 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 10 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 12 server 2 vote for server 0
term 12 server 1 vote for server 0
term 12 server 0 get vote from server 1
term 12 server 0 become leader
------------------------------------------------------
term 12 server 0 get outdate rpc reply from server 2
flag 60394 term 12 leader 0 nextIndex[1]: 72  matchIndex[1]: 0
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 68090 term 12 leader 0 nextIndex[2]: 72  matchIndex[2]: 0
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 12 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {7530480529888695863 10 70} {5516661153480959899 10 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 72->71
------------------------------------------------------
term 12 server 1 not vote for server 0, 任期不够新
term 12 server 0 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 12 leader 0 nextIndex[1]: 59  matchIndex[1]: 0
term 12 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 10
------------------------------------------------------
flag 82357 term 12 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 12 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {7530480529888695863 10 70} {5516661153480959899 10 71}]
------------------------------------------------------
term 12 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 10 rf.commitIndex 69 rf.lastApplied 69
term 12 server 1 not vote for server 0, 任期不够新
term 12 server 0 get outdate rpc reply from server 1
flag 4743 term 12 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 65825 term 12 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {7530480529888695863 10 70} {5516661153480959899 10 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {7530480529888695863 10 70} {5516661153480959899 10 71}]
------------------------------------------------------
flag 5484 term 12 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 48168 term 12 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {7530480529888695863 10 70} {5516661153480959899 10 71}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {7530480529888695863 10 70} {5516661153480959899 10 71}]
------------------------------------------------------
flag 76515 term 12 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 16277 term 12 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {7530480529888695863 10 70} {5516661153480959899 10 71}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {7530480529888695863 10 70} {5516661153480959899 10 71}]
------------------------------------------------------
flag 20807 term 12 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 73651 term 12 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
term 12 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
[{snapshot 10 69} {7530480529888695863 10 70} {5516661153480959899 10 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {7530480529888695863 10 70} {5516661153480959899 10 71}]
------------------------------------------------------
flag 49473 term 12 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 90974 term 12 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {7530480529888695863 10 70} {5516661153480959899 10 71}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {7530480529888695863 10 70} {5516661153480959899 10 71}]
------------------------------------------------------
flag 79811 term 12 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 20414 term 12 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {7530480529888695863 10 70} {5516661153480959899 10 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {7530480529888695863 10 70} {5516661153480959899 10 71}]
------------------------------------------------------
flag 16441 term 12 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 69575 term 12 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {7530480529888695863 10 70} {5516661153480959899 10 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {7530480529888695863 10 70} {5516661153480959899 10 71}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2088264242264910080 (index 72) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69785 term 12 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 45728 term 12 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 10 69} {7530480529888695863 10 70} {5516661153480959899 10 71} {2088264242264910080 12 72}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86510 term 12 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 10 leaderCommit: 72 
------------------------------------------------------
flag 37490 term 12 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 12 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 12 leaderCommit: 72 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 10 69} {7530480529888695863 10 70} {5516661153480959899 10 71} {2088264242264910080 12 72}]
------------------------------------------------------
client write log 3524080097111658465 (index 73) to leader 0
client write log 7647522491866277610 (index 74) to leader 0
client write log 3338204932418289817 (index 75) to leader 0
client write log 732733629626929657 (index 76) to leader 0
client write log 2536683600562950753 (index 77) to leader 0
client write log 4637669074462220817 (index 78) to leader 0
client write log 897981096715965362 (index 79) to leader 0
client write log 8133326127721917392 (index 80) to leader 0
client write log 2598220910712557395 (index 81) to leader 0
term 12 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66818 term 12 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 10 leaderCommit: 72 
------------------------------------------------------
flag 69009 term 12 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 12 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 12 leaderCommit: 72 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 10 69} {7530480529888695863 10 70} {5516661153480959899 10 71} {2088264242264910080 12 72} {3524080097111658465 12 73} {7647522491866277610 12 74} {3338204932418289817 12 75} {732733629626929657 12 76} {2536683600562950753 12 77} {4637669074462220817 12 78} {897981096715965362 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81}]
------------------------------------------------------
term 12 Server0 start snapshot! index=79
term 12 server0 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=81
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 12 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 12 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
flag 24962 term 12 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 12 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81}]
------------------------------------------------------
term 12 Server2 start snapshot! index=79
term 12 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=81
-------------------------------------------------------------
!!!!!!connect server 1
client write log 112731448548096718 (index 82) to leader 0
term 12 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 12 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
flag 13962 term 12 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 12 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82}]
------------------------------------------------------
term 13 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 12 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 0 not vote for server 1, 任期不够新
term 13 server 1 get outdate rpc reply from server 0
term 14 server 2 vote for server 0
term 14 server 1 vote for server 0
term 14 server 0 get vote from server 2
term 14 server 0 become leader
------------------------------------------------------
term 14 server 0 get outdate rpc reply from server 1
flag 42190 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
flag 85239 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
term 14 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 83->82
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 72  matchIndex[1]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
flag 37942 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
term 14 server 1 InstallSnapshot success
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 12 rf.commitIndex 79 rf.lastApplied 79
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82}]
------------------------------------------------------
flag 67899 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
flag 40674 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12324 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
flag 81775 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 0 not vote for server 1, 任期不够新
term 14 server 1 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65532 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
flag 90690 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82}]
------------------------------------------------------
flag 33658 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
flag 25830 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82}]
------------------------------------------------------
flag 74698 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
flag 20590 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82}]
------------------------------------------------------
flag 20167 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
flag 10278 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82}]
------------------------------------------------------
flag 42543 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
flag 36079 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82}]
------------------------------------------------------
!!!!!!diconnect server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14948 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
flag 75033 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
flag 49951 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
flag 44595 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
flag 18390 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
flag 29220 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
term 15 server 1 vote for server 2
term 15 server 2 get vote from server 1
term 15 server 2 become leader
------------------------------------------------------
client write log 6049919740549131562 (index 83) to leader 2
flag 84149 term 15 leader 2 nextIndex[0]: 83  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
flag 70859 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
flag 57827 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
flag 36751 term 15 leader 2 nextIndex[1]: 83  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82} {6049919740549131562 15 83}]
------------------------------------------------------
term 15 server 2 not vote for server 1, 任期不够新
term 15 server 1 get outdate rpc reply from server 2
flag 40576 term 15 leader 2 nextIndex[0]: 83  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
flag 96893 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
flag 42445 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
flag 60017 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82} {6049919740549131562 15 83}]
------------------------------------------------------
client write log 5317243405278421272 (index 84) to leader 2
flag 72806 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
flag 77176 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
flag 38573 term 15 leader 2 nextIndex[0]: 83  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
flag 65874 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82} {6049919740549131562 15 83} {5317243405278421272 15 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 83->82
------------------------------------------------------
flag 13486 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
flag 21003 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
term 15 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
flag 328 term 15 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82} {6049919740549131562 15 83} {5317243405278421272 15 84}]
------------------------------------------------------
!!!!!!connect server 0
client write log 3324024839678918764 (index 85) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77087 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
flag 37860 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 82 
------------------------------------------------------
term 15 server 2 AppendEntries false 领导者任期过期 args.Term 14
------------------------------------------------------
term 15 server 1 AppendEntries false 领导者任期过期 args.Term 14
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 15 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
flag 960 term 15 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
------------------------------------------------------
term 15 server 0 InstallSnapshot fail
rf.commitIndex 82 args.LastIncludedIndex 79
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82} {6049919740549131562 15 83} {5317243405278421272 15 84} {3324024839678918764 15 85}]
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29792 term 15 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 15 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 85 
------------------------------------------------------
flag 4248 term 15 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 15 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82} {6049919740549131562 15 83} {5317243405278421272 15 84} {3324024839678918764 15 85}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82} {6049919740549131562 15 83} {5317243405278421272 15 84} {3324024839678918764 15 85}]
------------------------------------------------------
flag 90869 term 15 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 15 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
flag 49947 term 15 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 15 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82} {6049919740549131562 15 83} {5317243405278421272 15 84} {3324024839678918764 15 85}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82} {6049919740549131562 15 83} {5317243405278421272 15 84} {3324024839678918764 15 85}]
------------------------------------------------------
flag 85011 term 15 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 15 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
flag 22745 term 15 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 15 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82} {6049919740549131562 15 83} {5317243405278421272 15 84} {3324024839678918764 15 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82} {6049919740549131562 15 83} {5317243405278421272 15 84} {3324024839678918764 15 85}]
------------------------------------------------------
flag 78141 term 15 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 15 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
flag 34398 term 15 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 15 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82} {6049919740549131562 15 83} {5317243405278421272 15 84} {3324024839678918764 15 85}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82} {6049919740549131562 15 83} {5317243405278421272 15 84} {3324024839678918764 15 85}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82508 term 15 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 15 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
flag 91460 term 15 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 15 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82} {6049919740549131562 15 83} {5317243405278421272 15 84} {3324024839678918764 15 85}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82} {6049919740549131562 15 83} {5317243405278421272 15 84} {3324024839678918764 15 85}]
------------------------------------------------------
flag 84571 term 15 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 15 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
flag 45986 term 15 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 15 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82} {6049919740549131562 15 83} {5317243405278421272 15 84} {3324024839678918764 15 85}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82} {6049919740549131562 15 83} {5317243405278421272 15 84} {3324024839678918764 15 85}]
------------------------------------------------------
term 15 server 2 not vote for server 1, 任期不够新
term 15 server 1 get outdate rpc reply from server 2
!!!!!!diconnect server 0
client write log 785031344306445269 (index 86) to leader 2
flag 36293 term 15 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 15 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
flag 92488 term 15 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 15 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82} {6049919740549131562 15 83} {5317243405278421272 15 84} {3324024839678918764 15 85} {785031344306445269 15 86}]
------------------------------------------------------
flag 66857 term 15 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 15 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 64805 term 15 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 15 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82} {6049919740549131562 15 83} {5317243405278421272 15 84} {3324024839678918764 15 85} {785031344306445269 15 86}]
------------------------------------------------------
client write log 1221531811197292565 (index 87) to leader 2
client write log 8574241821304346453 (index 88) to leader 2
client write log 2513407526961359323 (index 89) to leader 2
client write log 6533305328587175557 (index 90) to leader 2
client write log 1290590083789210164 (index 91) to leader 2
client write log 3208662489200505861 (index 92) to leader 2
client write log 8670010034924171087 (index 93) to leader 2
client write log 3137911003150603781 (index 94) to leader 2
client write log 506129231159144222 (index 95) to leader 2
client write log 2174069742848001462 (index 96) to leader 2
client write log 390043857346824328 (index 97) to leader 2
client write log 4355443039427130647 (index 98) to leader 2
client write log 3165547864495426313 (index 99) to leader 2
client write log 5146169138328888078 (index 100) to leader 2
flag 53460 term 15 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 15 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 11 term 15 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 15 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 12 79} {8133326127721917392 12 80} {2598220910712557395 12 81} {112731448548096718 12 82} {6049919740549131562 15 83} {5317243405278421272 15 84} {3324024839678918764 15 85} {785031344306445269 15 86} {1221531811197292565 15 87} {8574241821304346453 15 88} {2513407526961359323 15 89} {6533305328587175557 15 90} {1290590083789210164 15 91} {3208662489200505861 15 92} {8670010034924171087 15 93} {3137911003150603781 15 94} {506129231159144222 15 95} {2174069742848001462 15 96} {390043857346824328 15 97} {4355443039427130647 15 98} {3165547864495426313 15 99} {5146169138328888078 15 100}]
------------------------------------------------------
term 15 Server2 start snapshot! index=89
term 15 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=100
-------------------------------------------------------------
term 15 Server2 start snapshot! index=99
term 15 server2 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 15 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 15
------------------------------------------------------
flag 21399 term 15 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {5146169138328888078 15 100}]
------------------------------------------------------
term 15 Server1 start snapshot! index=89
term 15 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=100
-------------------------------------------------------------
term 15 Server1 start snapshot! index=99
term 15 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3871927623580727529 (index 101) to leader 2
term 15 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 15
------------------------------------------------------
flag 70452 term 15 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 16 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {5146169138328888078 15 100} {3871927623580727529 15 101}]
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 server 1 vote for server 2
term 17 server 2 get vote from server 1
term 17 server 2 become leader
------------------------------------------------------
term 17 server 0 vote for server 2
term 17 server 2 get outdate rpc reply from server 0
flag 87935 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 1865 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 17 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 102->101
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {5146169138328888078 15 100} {3871927623580727529 15 101}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 leader 2 nextIndex[0]: 86  matchIndex[0]: 0
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 15
------------------------------------------------------
flag 86436 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 17 server 0 InstallSnapshot success
------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 100 matchIndex[0] 99 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 15 rf.commitIndex 99 rf.lastApplied 99
term 17 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {5146169138328888078 15 100} {3871927623580727529 15 101}]
------------------------------------------------------
flag 8878 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 96188 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {5146169138328888078 15 100} {3871927623580727529 15 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {5146169138328888078 15 100} {3871927623580727529 15 101}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80619 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 82126 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {5146169138328888078 15 100} {3871927623580727529 15 101}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {5146169138328888078 15 100} {3871927623580727529 15 101}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57345 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 66652 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {5146169138328888078 15 100} {3871927623580727529 15 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {5146169138328888078 15 100} {3871927623580727529 15 101}]
------------------------------------------------------
term 17 server 2 not vote for server 0, 任期不够新
term 17 server 0 get outdate rpc reply from server 2
flag 80360 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 77093 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {5146169138328888078 15 100} {3871927623580727529 15 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {5146169138328888078 15 100} {3871927623580727529 15 101}]
------------------------------------------------------
flag 43509 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 53826 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {5146169138328888078 15 100} {3871927623580727529 15 101}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {5146169138328888078 15 100} {3871927623580727529 15 101}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54777 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 85576 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {5146169138328888078 15 100} {3871927623580727529 15 101}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {5146169138328888078 15 100} {3871927623580727529 15 101}]
------------------------------------------------------
flag 7602 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 13058 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {5146169138328888078 15 100} {3871927623580727529 15 101}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {5146169138328888078 15 100} {3871927623580727529 15 101}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1025122927128408571 (index 102) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4425 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 74061 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {5146169138328888078 15 100} {3871927623580727529 15 101} {1025122927128408571 17 102}]
------------------------------------------------------
term 17 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 45951 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 24554 term 17 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 17 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 102 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {5146169138328888078 15 100} {3871927623580727529 15 101} {1025122927128408571 17 102}]
------------------------------------------------------
client write log 2509974554042523644 (index 103) to leader 2
client write log 4996072119388967733 (index 104) to leader 2
client write log 461939628717996506 (index 105) to leader 2
client write log 1620391684958116732 (index 106) to leader 2
client write log 3873029670293985418 (index 107) to leader 2
client write log 368763734923545603 (index 108) to leader 2
client write log 5928243391528081126 (index 109) to leader 2
client write log 9161001440207089538 (index 110) to leader 2
client write log 2672443825037595456 (index 111) to leader 2
client write log 1750873036572598617 (index 112) to leader 2
flag 64692 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 5707 term 17 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 17 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 102 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 15 99} {5146169138328888078 15 100} {3871927623580727529 15 101} {1025122927128408571 17 102} {2509974554042523644 17 103} {4996072119388967733 17 104} {461939628717996506 17 105} {1620391684958116732 17 106} {3873029670293985418 17 107} {368763734923545603 17 108} {5928243391528081126 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112}]
------------------------------------------------------
term 17 Server2 start snapshot! index=109
term 17 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=112
-------------------------------------------------------------
term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
flag 62060 term 17 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 17 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112}]
------------------------------------------------------
term 17 Server1 start snapshot! index=109
term 17 server1 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=112
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1769821074512832796 (index 113) to leader 2
term 17 server 2 not vote for server 0, 日志不够新
term 17 server 1 not vote for server 0, 日志不够新
term 19 server 1 vote for server 2
term 19 server 2 get vote from server 1
term 19 server 2 become leader
------------------------------------------------------
term 19 server 0 vote for server 2
term 19 server 2 get outdate rpc reply from server 0
flag 98684 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 41440 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 114->113
------------------------------------------------------
term 19 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 114->113
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 102  matchIndex[0]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
flag 39071 term 19 leader 2 nextIndex[1]: 113  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
term 19 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 17 rf.commitIndex 109 rf.lastApplied 109
term 19 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88831 term 19 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 20847 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97556 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 83118 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
flag 67430 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 20430 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
flag 11650 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 95023 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
flag 55703 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 7440 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74639 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 73369 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
flag 87915 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 2506 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
flag 38567 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 29335 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
flag 25873 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 9510 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
flag 45997 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 17232 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
flag 41863 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 68958 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
flag 848 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 23595 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36618 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 91548 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75963 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 73006 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23948 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 90869 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
flag 21327 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 21168 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
flag 41821 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 82002 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113}]
------------------------------------------------------
client write log 1769821074512832796 (index 114) to leader 2
flag 34899 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 17324 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114}]
------------------------------------------------------
flag 54191 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 26902 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114}]
------------------------------------------------------
flag 27252 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 48152 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114}]
------------------------------------------------------
flag 16985 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 358 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114}]
------------------------------------------------------
flag 75738 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 88374 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114}]
------------------------------------------------------
flag 71974 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 51916 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114}]
------------------------------------------------------
flag 43085 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 262 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
!!!!!!diconnect server 2
flag 4815 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 29244 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 39565 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 44273 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 20 server 0 vote for server 1
term 20 server 1 get vote from server 0
term 20 server 1 become leader
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4777 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 68222 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114}]
------------------------------------------------------
flag 36326 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 46791 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
client write log 8783639797981577355 (index 115) to leader 1
flag 11186 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 64579 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114} {8783639797981577355 20 115}]
------------------------------------------------------
flag 703 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 70097 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 95866 term 20 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 84165 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114} {8783639797981577355 20 115}]
------------------------------------------------------
flag 63985 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 89241 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
client write log 3515459631198481888 (index 116) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 115->114
------------------------------------------------------
flag 28160 term 20 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114} {8783639797981577355 20 115} {3515459631198481888 20 116}]
------------------------------------------------------
flag 5614 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 44449 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 115->114
------------------------------------------------------
flag 35144 term 20 leader 1 nextIndex[0]: 117  matchIndex[0]: 116
term 20 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114} {8783639797981577355 20 115} {3515459631198481888 20 116}]
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 0  matchIndex[0]: 114
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
flag 74552 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
!!!!!!connect server 2
client write log 6448117419978890625 (index 117) to leader 1
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
flag 96247 term 20 leader 1 nextIndex[0]: 117  matchIndex[0]: 116
term 20 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
term 20 server 2 InstallSnapshot fail
rf.commitIndex 114 args.LastIncludedIndex 109
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114} {8783639797981577355 20 115} {3515459631198481888 20 116} {6448117419978890625 20 117}]
------------------------------------------------------
flag 48322 term 20 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 20 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 82186 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 17 leaderCommit: 117 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114} {8783639797981577355 20 115} {3515459631198481888 20 116} {6448117419978890625 20 117}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114} {8783639797981577355 20 115} {3515459631198481888 20 116} {6448117419978890625 20 117}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43958 term 20 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 20 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 91815 term 20 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 20 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114} {8783639797981577355 20 115} {3515459631198481888 20 116} {6448117419978890625 20 117}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114} {8783639797981577355 20 115} {3515459631198481888 20 116} {6448117419978890625 20 117}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79729 term 20 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 20 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 53407 term 20 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 20 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114} {8783639797981577355 20 115} {3515459631198481888 20 116} {6448117419978890625 20 117}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114} {8783639797981577355 20 115} {3515459631198481888 20 116} {6448117419978890625 20 117}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8954 term 20 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 20 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 6950 term 20 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 20 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
term 20 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114} {8783639797981577355 20 115} {3515459631198481888 20 116} {6448117419978890625 20 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114} {8783639797981577355 20 115} {3515459631198481888 20 116} {6448117419978890625 20 117}]
------------------------------------------------------
flag 74754 term 20 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 20 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 26306 term 20 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 20 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114} {8783639797981577355 20 115} {3515459631198481888 20 116} {6448117419978890625 20 117}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114} {8783639797981577355 20 115} {3515459631198481888 20 116} {6448117419978890625 20 117}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80448 term 20 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 20 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 69476 term 20 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 20 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114} {8783639797981577355 20 115} {3515459631198481888 20 116} {6448117419978890625 20 117}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114} {8783639797981577355 20 115} {3515459631198481888 20 116} {6448117419978890625 20 117}]
------------------------------------------------------
flag 48155 term 20 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 20 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 23334 term 20 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 20 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114} {8783639797981577355 20 115} {3515459631198481888 20 116} {6448117419978890625 20 117}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114} {8783639797981577355 20 115} {3515459631198481888 20 116} {6448117419978890625 20 117}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7771114928211986351 (index 118) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42158 term 20 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 20 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 72636 term 20 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 20 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114} {8783639797981577355 20 115} {3515459631198481888 20 116} {6448117419978890625 20 117} {7771114928211986351 20 118}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97532 term 20 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 20 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 20 leaderCommit: 118 
------------------------------------------------------
flag 49748 term 20 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 20 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 118 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114} {8783639797981577355 20 115} {3515459631198481888 20 116} {6448117419978890625 20 117} {7771114928211986351 20 118}]
------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 8218464653323617138 (index 119) to leader 1
client write log 2686660690744267528 (index 120) to leader 1
client write log 2998074606701874900 (index 121) to leader 1
client write log 5421646288984400302 (index 122) to leader 1
client write log 8762952233088407252 (index 123) to leader 1
client write log 1424275384845803776 (index 124) to leader 1
client write log 8411355142669216289 (index 125) to leader 1
client write log 4327265173434902934 (index 126) to leader 1
client write log 3212910499867935238 (index 127) to leader 1
client write log 8633420368125598557 (index 128) to leader 1
client write log 6343171559027140480 (index 129) to leader 1
client write log 3627759310831006749 (index 130) to leader 1
flag 38083 term 20 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 20 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 20 leaderCommit: 118 
------------------------------------------------------
flag 28758 term 20 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 20 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 118 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 17 109} {9161001440207089538 17 110} {2672443825037595456 17 111} {1750873036572598617 17 112} {1769821074512832796 17 113} {1769821074512832796 19 114} {8783639797981577355 20 115} {3515459631198481888 20 116} {6448117419978890625 20 117} {7771114928211986351 20 118} {8218464653323617138 20 119} {2686660690744267528 20 120} {2998074606701874900 20 121} {5421646288984400302 20 122} {8762952233088407252 20 123} {1424275384845803776 20 124} {8411355142669216289 20 125} {4327265173434902934 20 126} {3212910499867935238 20 127} {8633420368125598557 20 128} {6343171559027140480 20 129} {3627759310831006749 20 130}]
------------------------------------------------------
term 20 Server1 start snapshot! index=119
term 20 server1 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=130
-------------------------------------------------------------
term 20 Server1 start snapshot! index=129
term 20 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=130
-------------------------------------------------------------
flag 13904 term 20 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 20 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130}]
------------------------------------------------------
term 20 Server0 start snapshot! index=119
term 20 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=130
-------------------------------------------------------------
term 20 Server0 start snapshot! index=129
term 20 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=130
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5610335740910632398 (index 131) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 118->117
------------------------------------------------------
flag 21383 term 20 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 20 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 0  matchIndex[2]: 117
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
term 21 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 22 server 2 vote for server 1
term 22 server 0 vote for server 1
term 22 server 1 get vote from server 2
term 22 server 1 become leader
------------------------------------------------------
term 22 server 1 get outdate rpc reply from server 0
term 22 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57234 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 5609 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 22 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 132->131
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
flag 81909 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 22 leader 1 nextIndex[2]: 118  matchIndex[2]: 0
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
term 22 server 2 InstallSnapshot success
------------------------------------------------------
term 22 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 130 matchIndex[2] 129 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 20 rf.commitIndex 129 rf.lastApplied 129
term 22 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
term 22 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36505 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 52375 term 22 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 22 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueterm 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
update nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
flag 21076 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 86110 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68950 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 64789 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
flag 56744 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 65368 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
flag 28444 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 53705 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
term 22 server 1 not vote for server 0, 任期不够新
term 22 server 0 get outdate rpc reply from server 1
flag 37290 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 49296 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
flag 80641 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 65747 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
flag 96000 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 10239 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
flag 86015 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 72455 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53775 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 70771 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
term 22 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88331 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 23213 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
flag 52973 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 19952 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68485 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 32989 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=130
leader log:
term 22 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
flag 31129 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 13543 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
flag 58441 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 77730 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
flag 90220 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 39761 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
flag 97425 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 57936 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131}]
------------------------------------------------------
client write log 5610335740910632398 (index 132) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20418 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 34137 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131} {5610335740910632398 22 132}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131} {5610335740910632398 22 132}]
------------------------------------------------------
term 22 server 0 not vote for server 2, 任期不够新
term 22 server 2 get outdate rpc reply from server 0
flag 53660 term 22 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 22 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 41067 term 22 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 22 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131} {5610335740910632398 22 132}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131} {5610335740910632398 22 132}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16002 term 22 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 22 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 30446 term 22 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 22 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131} {5610335740910632398 22 132}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131} {5610335740910632398 22 132}]
------------------------------------------------------
flag 87627 term 22 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 22 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 61632 term 22 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 22 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131} {5610335740910632398 22 132}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131} {5610335740910632398 22 132}]
------------------------------------------------------
flag 91505 term 22 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 22 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 57073 term 22 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 22 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131} {5610335740910632398 22 132}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131} {5610335740910632398 22 132}]
------------------------------------------------------
flag 8746 term 22 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 22 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 88641 term 22 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 22 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131} {5610335740910632398 22 132}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131} {5610335740910632398 22 132}]
------------------------------------------------------
flag 32631 term 22 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 22 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 38005 term 22 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 22 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131} {5610335740910632398 22 132}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131} {5610335740910632398 22 132}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 219073570782388230 (index 133) to leader 1
flag 29650 term 22 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 22 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 11606 term 22 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 22 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131} {5610335740910632398 22 132} {219073570782388230 22 133}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59603 term 22 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 22 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 133 
------------------------------------------------------
flag 21409 term 22 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 22 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 133 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131} {5610335740910632398 22 132} {219073570782388230 22 133}]
------------------------------------------------------
client write log 7233927400441213619 (index 134) to leader 1
client write log 6242909940384350410 (index 135) to leader 1
client write log 3548157679565417500 (index 136) to leader 1
client write log 2024840947050274004 (index 137) to leader 1
client write log 7516037130743950093 (index 138) to leader 1
client write log 6520812314485079200 (index 139) to leader 1
client write log 2229328459839280266 (index 140) to leader 1
client write log 8808706017793640387 (index 141) to leader 1
client write log 4398382688698165624 (index 142) to leader 1
client write log 7724337331648900456 (index 143) to leader 1
client write log 8887864348304125944 (index 144) to leader 1
client write log 3741224304415592447 (index 145) to leader 1
client write log 2739942799880660029 (index 146) to leader 1
client write log 5356687966276264560 (index 147) to leader 1
client write log 7788033994340298570 (index 148) to leader 1
flag 79491 term 22 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 22 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 133 
------------------------------------------------------
flag 36726 term 22 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 22 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 133 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 20 129} {3627759310831006749 20 130} {5610335740910632398 20 131} {5610335740910632398 22 132} {219073570782388230 22 133} {7233927400441213619 22 134} {6242909940384350410 22 135} {3548157679565417500 22 136} {2024840947050274004 22 137} {7516037130743950093 22 138} {6520812314485079200 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148}]
------------------------------------------------------
term 22 Server1 start snapshot! index=139
term 22 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=148
-------------------------------------------------------------
flag 5007 term 22 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 22 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 22 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148}]
------------------------------------------------------
term 22 Server0 start snapshot! index=139
term 22 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=148
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4772794043310953223 (index 149) to leader 1
term 22 server 1 not vote for server 2, 日志不够新
term 22 server 0 not vote for server 2, 日志不够新
term 24 server 2 vote for server 1
term 24 server 1 get vote from server 2
term 24 server 0 vote for server 1
term 24 server 1 become leader
------------------------------------------------------
term 24 server 1 get outdate rpc reply from server 0
flag 14483 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 84274 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 150->149
------------------------------------------------------
term 24 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 150->149
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23277 term 24 leader 1 nextIndex[0]: 149  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 133  matchIndex[2]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
term 24 server 2 InstallSnapshot success
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 22 rf.commitIndex 139 rf.lastApplied 139
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
flag 9349 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 48840 term 24 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
flag 2904 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 34959 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18211 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 53833 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
flag 61196 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 90409 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
flag 75402 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 7039 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32386 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 10796 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
flag 6529 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 25321 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87489 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 8898 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
flag 68558 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 54294 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
flag 47748 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 89892 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
term 24 server 2 not vote for server 1, 任期不够新
term 24 server 1 get outdate rpc reply from server 2
flag 86596 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 92212 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
flag 26332 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 92825 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
flag 65088 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 916 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
flag 96895 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 33350 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
flag 61027 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 56264 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
flag 26788 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 56846 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
flag 23160 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 8344 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149}]
------------------------------------------------------
client write log 4772794043310953223 (index 150) to leader 1
flag 63093 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 13285 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149} {4772794043310953223 24 150}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 139} {2229328459839280266 22 140} {8808706017793640387 22 141} {4398382688698165624 22 142} {7724337331648900456 22 143} {8887864348304125944 22 144} {3741224304415592447 22 145} {2739942799880660029 22 146} {5356687966276264560 22 147} {7788033994340298570 22 148} {4772794043310953223 22 149} {4772794043310953223 24 150}]
------------------------------------------------------
term 24 Server1 start snapshot! index=149
term 24 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=150
-------------------------------------------------------------
term 24 server 0 not vote for server 2, 任期不够新
term 24 server 2 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20 term 24 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 54517 term 24 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 149} {4772794043310953223 24 150}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 149} {4772794043310953223 24 150}]
------------------------------------------------------
term 24 Server0 start snapshot! index=149
term 24 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=150
-------------------------------------------------------------
term 24 Server2 start snapshot! index=149
term 24 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=150
-------------------------------------------------------------
flag 9211 term 24 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 56145 term 24 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 149} {4772794043310953223 24 150}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 149} {4772794043310953223 24 150}]
------------------------------------------------------
flag 74522 term 24 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 86156 term 24 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 149} {4772794043310953223 24 150}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 149} {4772794043310953223 24 150}]
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82998 term 24 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 421 term 24 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 149} {4772794043310953223 24 150}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 149} {4772794043310953223 24 150}]
------------------------------------------------------
flag 71002 term 24 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 97428 term 24 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 149} {4772794043310953223 24 150}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 149} {4772794043310953223 24 150}]
------------------------------------------------------
flag 21119 term 24 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 58443 term 24 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 149} {4772794043310953223 24 150}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 149} {4772794043310953223 24 150}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 52292 term 24 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 79655 term 24 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 45364 term 24 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 69207 term 24 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 89831 term 24 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 72674 term 24 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 25 server 0 vote for server 2
term 25 server 2 get vote from server 0
term 25 server 2 become leader
------------------------------------------------------
flag 58863 term 25 leader 2 nextIndex[0]: 151  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 72457 term 25 leader 2 nextIndex[1]: 151  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 149} {4772794043310953223 24 150}]
------------------------------------------------------
flag 56648 term 24 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 22744 term 24 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
client write log 4972870952822115207 (index 151) to leader 2
flag 24938 term 25 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 25 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 86188 term 25 leader 2 nextIndex[1]: 151  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {4772794043310953223 24 150} {4972870952822115207 25 151}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 151->150
------------------------------------------------------
flag 62855 term 24 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 0  matchIndex[2]: 150
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
flag 3902 term 25 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
flag 54930 term 25 leader 2 nextIndex[1]: 151  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {4772794043310953223 24 150} {4972870952822115207 25 151}]
------------------------------------------------------
client write log 9023031980937964619 (index 152) to leader 2
client write log 3010749613911576300 (index 153) to leader 2
client write log 3120532808363570553 (index 154) to leader 2
client write log 4018427686775646321 (index 155) to leader 2
client write log 3789956601276455966 (index 156) to leader 2
client write log 1311850555357700666 (index 157) to leader 2
client write log 7829865377521876784 (index 158) to leader 2
client write log 1388377346383132292 (index 159) to leader 2
client write log 4536211150336367361 (index 160) to leader 2
client write log 6847035615829564275 (index 161) to leader 2
flag 26363 term 24 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 0  matchIndex[2]: 150
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
flag 82323 term 25 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
flag 19532 term 25 leader 2 nextIndex[1]: 151  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 22 149} {4772794043310953223 24 150} {4972870952822115207 25 151} {9023031980937964619 25 152} {3010749613911576300 25 153} {3120532808363570553 25 154} {4018427686775646321 25 155} {3789956601276455966 25 156} {1311850555357700666 25 157} {7829865377521876784 25 158} {1388377346383132292 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
term 25 Server2 start snapshot! index=159
term 25 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=161
-------------------------------------------------------------
flag 57105 term 24 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 0  matchIndex[2]: 150
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
flag 57564 term 25 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 25 leader 2 nextIndex[1]: 151  matchIndex[1]: 0
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
term 25 Server0 start snapshot! index=159
term 25 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=161
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1966660621745929301 (index 151) to leader 1
flag 55810 term 24 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 0  matchIndex[2]: 150
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
term 25 server 0 AppendEntries false 领导者任期过期 args.Term 24
------------------------------------------------------
term 25 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 25 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 server 1 not vote for server 2, 任期不够新
term 25 server 2 get outdate rpc reply from server 1
flag 31744 term 25 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 25 leader 2 nextIndex[1]: 151  matchIndex[1]: 0
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
term 25 server 1 InstallSnapshot success
------------------------------------------------------
term 25 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 25 rf.commitIndex 159 rf.lastApplied 159
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35469 term 25 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 64612 term 25 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
flag 53075 term 25 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 69582 term 25 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80389 term 25 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 2548 term 25 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
flag 78785 term 25 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 39584 term 25 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
flag 59945 term 25 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 54969 term 25 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
term 25 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
flag 4150 term 25 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 54772 term 25 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
flag 49025 term 25 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 37805 term 25 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 162->161
------------------------------------------------------
flag 93474 term 25 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 25 leader 2 nextIndex[1]: 0  matchIndex[1]: 161
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 1 InstallSnapshot fail
rf.commitIndex 161 args.LastIncludedIndex 159
------------------------------------------------------
term 25 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
flag 37203 term 25 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 80633 term 25 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
term 25 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
flag 61265 term 25 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 38331 term 25 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22804 term 25 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 35761 term 25 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
flag 43879 term 25 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 30003 term 25 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
flag 18522 term 25 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 81557 term 25 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
term 25 server 1 not vote for server 2, 日志不够新
term 25 server 2 get outdate rpc reply from server 1
flag 55537 term 25 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 90866 term 25 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
flag 52003 term 25 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 33894 term 25 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
flag 30823 term 25 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 38222 term 25 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2154 term 25 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 37415 term 25 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
term 25 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57998 term 25 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 30742 term 25 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
flag 17955 term 25 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 41638 term 25 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161}]
------------------------------------------------------
client write log 1966660621745929301 (index 162) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 45536 term 25 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 38597 term 25 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161} {1966660621745929301 25 162}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161} {1966660621745929301 25 162}]
------------------------------------------------------
flag 67316 term 25 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 25 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 25 leaderCommit: 162 
------------------------------------------------------
flag 52389 term 25 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 25 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 25 leaderCommit: 162 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161} {1966660621745929301 25 162}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161} {1966660621745929301 25 162}]
------------------------------------------------------
flag 16984 term 25 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 25 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 25 leaderCommit: 162 
------------------------------------------------------
flag 63420 term 25 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 25 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 25 leaderCommit: 162 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161} {1966660621745929301 25 162}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161} {1966660621745929301 25 162}]
------------------------------------------------------
flag 37071 term 25 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 25 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 25 leaderCommit: 162 
------------------------------------------------------
flag 56898 term 25 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 25 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 25 leaderCommit: 162 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161} {1966660621745929301 25 162}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161} {1966660621745929301 25 162}]
------------------------------------------------------
flag 5374 term 25 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 25 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 25 leaderCommit: 162 
------------------------------------------------------
flag 11826 term 25 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 25 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 25 leaderCommit: 162 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161} {1966660621745929301 25 162}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161} {1966660621745929301 25 162}]
------------------------------------------------------
flag 51856 term 25 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 25 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 25 leaderCommit: 162 
------------------------------------------------------
flag 93721 term 25 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 25 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 25 leaderCommit: 162 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161} {1966660621745929301 25 162}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161} {1966660621745929301 25 162}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 163->162
------------------------------------------------------
flag 15624 term 25 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 25 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 25 leaderCommit: 162 
------------------------------------------------------
term 25 leader 2 nextIndex[1]: 0  matchIndex[1]: 162
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
term 25 server 1 InstallSnapshot fail
rf.commitIndex 162 args.LastIncludedIndex 159
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161} {1966660621745929301 25 162}]
------------------------------------------------------
term 25 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
!!!!!!diconnect server 0
client write log 2262245443570035029 (index 163) to leader 2
flag 31762 term 25 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 25 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 25 leaderCommit: 162 
------------------------------------------------------
flag 69235 term 25 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 162 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161} {1966660621745929301 25 162} {2262245443570035029 25 163}]
------------------------------------------------------
flag 98772 term 25 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 25 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
flag 50739 term 25 leader 2 nextIndex[1]: 164  matchIndex[1]: 163
term 25 leader 2 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161} {1966660621745929301 25 162} {2262245443570035029 25 163}]
------------------------------------------------------
client write log 6105339812636926722 (index 164) to leader 2
client write log 7760028525341715702 (index 165) to leader 2
client write log 5847024217244560273 (index 166) to leader 2
client write log 4513672187064958444 (index 167) to leader 2
client write log 2229328006817069034 (index 168) to leader 2
client write log 446001689524539611 (index 169) to leader 2
flag 52755 term 25 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 25 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
flag 47611 term 25 leader 2 nextIndex[1]: 164  matchIndex[1]: 163
term 25 leader 2 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 25 159} {4536211150336367361 25 160} {6847035615829564275 25 161} {1966660621745929301 25 162} {2262245443570035029 25 163} {6105339812636926722 25 164} {7760028525341715702 25 165} {5847024217244560273 25 166} {4513672187064958444 25 167} {2229328006817069034 25 168} {446001689524539611 25 169}]
------------------------------------------------------
term 25 Server2 start snapshot! index=169
term 25 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
term 25 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 25
------------------------------------------------------
flag 85340 term 25 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 25 169}]
------------------------------------------------------
term 25 Server1 start snapshot! index=169
term 25 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8704529814027031147 (index 170) to leader 2
term 25 server 2 not vote for server 0, 日志不够新
term 25 server 1 not vote for server 0, 日志不够新
term 27 server 1 vote for server 2
term 27 server 0 vote for server 2
term 27 server 2 get vote from server 1
term 27 server 2 become leader
------------------------------------------------------
term 27 server 2 get outdate rpc reply from server 0
flag 20816 term 27 leader 2 nextIndex[0]: 171  matchIndex[0]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
flag 88342 term 27 leader 2 nextIndex[1]: 171  matchIndex[1]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
term 27 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 27 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 171->170
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 171->170
------------------------------------------------------
term 27 leader 2 nextIndex[0]: 163  matchIndex[0]: 0
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 25
------------------------------------------------------
flag 54182 term 27 leader 2 nextIndex[1]: 170  matchIndex[1]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 27 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 25 rf.commitIndex 169 rf.lastApplied 169
flag 41428 term 27 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 27 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
flag 58998 term 27 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
flag 58032 term 27 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
flag 35800 term 27 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
flag 29478 term 27 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
flag 81547 term 27 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38463 term 27 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
flag 23230 term 27 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19219 term 27 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
flag 84303 term 27 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
flag 22767 term 27 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
flag 64800 term 27 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
flag 66695 term 27 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
flag 60353 term 27 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
flag 56224 term 27 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
flag 56993 term 27 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
flag 59367 term 27 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
flag 78296 term 27 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
term 27 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10828 term 27 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
flag 9170 term 27 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91212 term 27 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
flag 13122 term 27 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19718 term 27 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
flag 65963 term 27 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
flag 81766 term 27 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
flag 82055 term 27 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
flag 62568 term 27 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
flag 9915 term 27 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
flag 72674 term 27 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
flag 86741 term 27 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
flag 90909 term 27 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
flag 63336 term 27 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
term 27 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36551 term 27 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
flag 51784 term 27 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
flag 72101 term 27 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
flag 92325 term 27 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 25 169} {8704529814027031147 25 170}]
------------------------------------------------------
client write log 8704529814027031147 (index 171) to leader 2
flag 54820 term 27 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
flag 16641 term 27 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 27 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 169 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 25 169} {8704529814027031147 25 170} {8704529814027031147 27 171}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 25 169} {8704529814027031147 25 170} {8704529814027031147 27 171}]
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59296 term 27 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 27 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 27 leaderCommit: 171 
------------------------------------------------------
flag 82508 term 27 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 27 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 27 leaderCommit: 171 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 25 169} {8704529814027031147 25 170} {8704529814027031147 27 171}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 25 169} {8704529814027031147 25 170} {8704529814027031147 27 171}]
------------------------------------------------------
flag 14165 term 27 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 27 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 27 leaderCommit: 171 
------------------------------------------------------
flag 11797 term 27 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 27 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 27 leaderCommit: 171 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 25 169} {8704529814027031147 25 170} {8704529814027031147 27 171}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 25 169} {8704529814027031147 25 170} {8704529814027031147 27 171}]
------------------------------------------------------
flag 19235 term 27 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 27 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 27 leaderCommit: 171 
------------------------------------------------------
flag 10623 term 27 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 27 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 27 leaderCommit: 171 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 25 169} {8704529814027031147 25 170} {8704529814027031147 27 171}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 25 169} {8704529814027031147 25 170} {8704529814027031147 27 171}]
------------------------------------------------------
flag 15183 term 27 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 27 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 27 leaderCommit: 171 
------------------------------------------------------
flag 63362 term 27 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 27 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 27 leaderCommit: 171 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 25 169} {8704529814027031147 25 170} {8704529814027031147 27 171}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 25 169} {8704529814027031147 25 170} {8704529814027031147 27 171}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75977 term 27 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 27 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 27 leaderCommit: 171 
------------------------------------------------------
flag 18991 term 27 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 27 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 27 leaderCommit: 171 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 25 169} {8704529814027031147 25 170} {8704529814027031147 27 171}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 25 169} {8704529814027031147 25 170} {8704529814027031147 27 171}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89613 term 27 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 27 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 27 leaderCommit: 171 
------------------------------------------------------
flag 84726 term 27 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 27 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 27 leaderCommit: 171 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 25 169} {8704529814027031147 25 170} {8704529814027031147 27 171}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 25 169} {8704529814027031147 25 170} {8704529814027031147 27 171}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1712073463198902758 (index 172) to leader 2
flag 38434 term 27 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 27 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 27 leaderCommit: 171 
------------------------------------------------------
flag 5846 term 27 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 27 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 27 leaderCommit: 171 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 25 169} {8704529814027031147 25 170} {8704529814027031147 27 171} {1712073463198902758 27 172}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54959 term 27 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 27 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 26620 term 27 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 27 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 25 169} {8704529814027031147 25 170} {8704529814027031147 27 171} {1712073463198902758 27 172}]
------------------------------------------------------
client write log 7814961913703275364 (index 173) to leader 2
client write log 4567719900825587602 (index 174) to leader 2
client write log 421528576680301896 (index 175) to leader 2
client write log 24610660548538006 (index 176) to leader 2
client write log 4862655687511016305 (index 177) to leader 2
client write log 3139855480019848323 (index 178) to leader 2
client write log 3165226412132490705 (index 179) to leader 2
client write log 3027077959823058467 (index 180) to leader 2
client write log 5176346949374440230 (index 181) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43624 term 27 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 27 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 45800 term 27 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 27 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 25 169} {8704529814027031147 25 170} {8704529814027031147 27 171} {1712073463198902758 27 172} {7814961913703275364 27 173} {4567719900825587602 27 174} {421528576680301896 27 175} {24610660548538006 27 176} {4862655687511016305 27 177} {3139855480019848323 27 178} {3165226412132490705 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181}]
------------------------------------------------------
term 27 Server2 start snapshot! index=179
term 27 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=181
-------------------------------------------------------------
term 27 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 27
------------------------------------------------------
flag 20855 term 27 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 27 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181}]
------------------------------------------------------
term 27 Server1 start snapshot! index=179
term 27 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=181
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8262354033175352814 (index 182) to leader 2
term 27 server 2 not vote for server 0, 日志不够新
term 27 server 1 not vote for server 0, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 server 1 vote for server 2
term 29 server 0 vote for server 2
term 29 server 2 get vote from server 1
term 29 server 2 become leader
------------------------------------------------------
term 29 server 2 get outdate rpc reply from server 0
flag 8933 term 29 leader 2 nextIndex[0]: 183  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
flag 79717 term 29 leader 2 nextIndex[1]: 183  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
term 29 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 183->182
------------------------------------------------------
term 29 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 183->182
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 leader 2 nextIndex[0]: 172  matchIndex[0]: 0
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 27
------------------------------------------------------
flag 58511 term 29 leader 2 nextIndex[1]: 182  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
term 29 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 180 matchIndex[0] 179 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 27 rf.commitIndex 179 rf.lastApplied 179
flag 79110 term 29 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 29 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
flag 90007 term 29 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
flag 90659 term 29 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
flag 5869 term 29 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
flag 65106 term 29 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
flag 56083 term 29 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
flag 91662 term 29 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
flag 2600 term 29 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
flag 80299 term 29 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
flag 85226 term 29 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
flag 62232 term 29 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
flag 76155 term 29 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
flag 13698 term 29 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
flag 74386 term 29 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
flag 94720 term 29 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
flag 95198 term 29 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
flag 57503 term 29 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
flag 98000 term 29 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
flag 73315 term 29 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
flag 89906 term 29 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
flag 58127 term 29 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
flag 38014 term 29 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
flag 73661 term 29 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
flag 21111 term 29 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
flag 1342 term 29 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
flag 65195 term 29 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
flag 32151 term 29 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
flag 89341 term 29 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
flag 40726 term 29 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
flag 48037 term 29 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
flag 54553 term 29 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
flag 13916 term 29 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
flag 29313 term 29 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
flag 65884 term 29 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182}]
------------------------------------------------------
flag 81663 term 29 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
flag 72164 term 29 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
client write log 8262354033175352814 (index 183) to leader 2
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182} {8262354033175352814 29 183}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182} {8262354033175352814 29 183}]
------------------------------------------------------
flag 66686 term 29 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
flag 2907 term 29 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182} {8262354033175352814 29 183}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182} {8262354033175352814 29 183}]
------------------------------------------------------
flag 63135 term 29 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 29 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 61779 term 29 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 29 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182} {8262354033175352814 29 183}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182} {8262354033175352814 29 183}]
------------------------------------------------------
flag 69977 term 29 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 29 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 66763 term 29 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 29 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182} {8262354033175352814 29 183}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182} {8262354033175352814 29 183}]
------------------------------------------------------
flag 89638 term 29 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 29 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 83552 term 29 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 29 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182} {8262354033175352814 29 183}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182} {8262354033175352814 29 183}]
------------------------------------------------------
flag 95709 term 29 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 29 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 50749 term 29 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 29 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182} {8262354033175352814 29 183}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182} {8262354033175352814 29 183}]
------------------------------------------------------
flag 31934 term 29 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 29 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 87232 term 29 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 29 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182} {8262354033175352814 29 183}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182} {8262354033175352814 29 183}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 89405 term 29 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 29 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 40207 term 29 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 29 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 51286 term 29 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 29 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 36275 term 29 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 29 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 184->183
------------------------------------------------------
flag 77790 term 29 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 29 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 0  matchIndex[1]: 183
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 27
------------------------------------------------------
flag 39203 term 29 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 29 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 0  matchIndex[1]: 183
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 27
------------------------------------------------------
term 30 server 1 vote for server 0
term 30 server 0 get vote from server 1
term 30 server 0 become leader
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82496 term 30 leader 0 nextIndex[1]: 184  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 78508 term 30 leader 0 nextIndex[2]: 184  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182} {8262354033175352814 29 183}]
------------------------------------------------------
client write log 252633158327473829 (index 184) to leader 0
flag 77464 term 29 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 29 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 0  matchIndex[1]: 183
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 27
------------------------------------------------------
flag 58299 term 30 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 30 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 45859 term 30 leader 0 nextIndex[2]: 184  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182} {8262354033175352814 29 183} {252633158327473829 30 184}]
------------------------------------------------------
flag 96777 term 29 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 29 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 0  matchIndex[1]: 183
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 27
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 184->183
------------------------------------------------------
flag 27856 term 30 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 30 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
flag 34345 term 30 leader 0 nextIndex[2]: 184  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182} {8262354033175352814 29 183} {252633158327473829 30 184}]
------------------------------------------------------
client write log 582042718941674017 (index 185) to leader 0
client write log 3977909329595646272 (index 186) to leader 0
client write log 4545493449777926157 (index 187) to leader 0
client write log 5723108846174523655 (index 188) to leader 0
client write log 5604308741974352841 (index 189) to leader 0
client write log 3753175886799718636 (index 190) to leader 0
client write log 609425333259335862 (index 191) to leader 0
client write log 879920524128132702 (index 192) to leader 0
term 29 leader 2 nextIndex[0]: 0  matchIndex[0]: 183
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 27
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 0  matchIndex[1]: 183
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 27
------------------------------------------------------
flag 42827 term 30 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 30 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
flag 21943 term 30 leader 0 nextIndex[2]: 184  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 27 179} {3027077959823058467 27 180} {5176346949374440230 27 181} {8262354033175352814 27 182} {8262354033175352814 29 183} {252633158327473829 30 184} {582042718941674017 30 185} {3977909329595646272 30 186} {4545493449777926157 30 187} {5723108846174523655 30 188} {5604308741974352841 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
term 30 Server0 start snapshot! index=189
term 30 server0 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=192
-------------------------------------------------------------
term 29 leader 2 nextIndex[0]: 0  matchIndex[0]: 183
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 27
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 0  matchIndex[1]: 183
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 27
------------------------------------------------------
flag 94250 term 30 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
term 30 leader 0 nextIndex[2]: 184  matchIndex[2]: 0
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
term 30 Server1 start snapshot! index=189
term 30 server1 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=192
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2819884989426941044 (index 184) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
term 29 leader 2 nextIndex[0]: 0  matchIndex[0]: 183
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 27
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 0  matchIndex[1]: 183
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 27
------------------------------------------------------
term 30 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64254 term 30 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
term 30 leader 0 nextIndex[2]: 184  matchIndex[2]: 0
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 2 InstallSnapshot success
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 30 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 30 rf.commitIndex 189 rf.lastApplied 189
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
term 30 server 1 not vote for server 2, 日志不够新
term 30 server 0 not vote for server 2, 日志不够新
term 32 server 2 vote for server 0
term 32 server 0 get vote from server 2
term 32 server 0 become leader
------------------------------------------------------
term 32 server 1 vote for server 0
term 32 server 0 get outdate rpc reply from server 1
flag 33753 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
flag 27603 term 32 leader 0 nextIndex[2]: 193  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
term 32 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 193->192
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
flag 80230 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
flag 27378 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87171 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
flag 60927 term 32 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
flag 18519 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
flag 55692 term 32 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
flag 16027 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
flag 50791 term 32 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
flag 84175 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
flag 59542 term 32 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
flag 43252 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
flag 44165 term 32 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1669 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
flag 49634 term 32 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
flag 35479 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
flag 97470 term 32 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69865 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
flag 31336 term 32 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
flag 55625 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
flag 276 term 32 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
flag 60883 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
flag 17080 term 32 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 2 not vote for server 0, 任期不够新
term 32 server 0 get outdate rpc reply from server 2
flag 80742 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
flag 30039 term 32 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
flag 69105 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
flag 60658 term 32 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40498 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
flag 4623 term 32 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
flag 675 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
flag 27891 term 32 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
flag 28431 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
flag 96712 term 32 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53356 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
flag 91608 term 32 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192}]
------------------------------------------------------
client write log 2819884989426941044 (index 193) to leader 0
flag 16401 term 32 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
flag 57925 term 32 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 32 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192} {2819884989426941044 32 193}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192} {2819884989426941044 32 193}]
------------------------------------------------------
flag 62678 term 32 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 46779 term 32 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 32 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192} {2819884989426941044 32 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192} {2819884989426941044 32 193}]
------------------------------------------------------
flag 68244 term 32 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 52834 term 32 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 32 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192} {2819884989426941044 32 193}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192} {2819884989426941044 32 193}]
------------------------------------------------------
flag 90946 term 32 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 51789 term 32 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 32 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192} {2819884989426941044 32 193}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192} {2819884989426941044 32 193}]
------------------------------------------------------
flag 39327 term 32 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 31398 term 32 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 32 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192} {2819884989426941044 32 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192} {2819884989426941044 32 193}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87384 term 32 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 98348 term 32 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 32 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192} {2819884989426941044 32 193}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192} {2819884989426941044 32 193}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7536936730539600306 (index 194) to leader 0
flag 59640 term 32 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 38759 term 32 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 32 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192} {2819884989426941044 32 193} {7536936730539600306 32 194}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42988 term 32 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 194 
------------------------------------------------------
flag 37763 term 32 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 32 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 194 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192} {2819884989426941044 32 193} {7536936730539600306 32 194}]
------------------------------------------------------
client write log 7526354246183513403 (index 195) to leader 0
client write log 6305127424435254915 (index 196) to leader 0
client write log 8940630797051198643 (index 197) to leader 0
client write log 1260263990499589159 (index 198) to leader 0
client write log 6460723966451021557 (index 199) to leader 0
client write log 9171126586240144549 (index 200) to leader 0
client write log 3039813990298128574 (index 201) to leader 0
term 32 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51724 term 32 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 194 
------------------------------------------------------
flag 35219 term 32 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 32 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 194 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 30 189} {3753175886799718636 30 190} {609425333259335862 30 191} {879920524128132702 30 192} {2819884989426941044 32 193} {7536936730539600306 32 194} {7526354246183513403 32 195} {6305127424435254915 32 196} {8940630797051198643 32 197} {1260263990499589159 32 198} {6460723966451021557 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201}]
------------------------------------------------------
term 32 Server0 start snapshot! index=199
term 32 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=201
-------------------------------------------------------------
term 32 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
flag 95701 term 32 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201}]
------------------------------------------------------
term 32 Server2 start snapshot! index=199
term 32 server2 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=201
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6345202728633628986 (index 202) to leader 0
term 32 server 2 not vote for server 1, 日志不够新
term 32 server 0 not vote for server 1, 日志不够新
term 33 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 server 2 vote for server 0
term 34 server 1 vote for server 0
term 34 server 0 get vote from server 2
term 34 server 0 become leader
------------------------------------------------------
term 34 server 0 get outdate rpc reply from server 1
flag 75058 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 30813 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 203->202
------------------------------------------------------
term 34 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 203->202
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 leader 0 nextIndex[1]: 194  matchIndex[1]: 0
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
flag 7970 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
term 34 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 32 rf.commitIndex 199 rf.lastApplied 199
term 34 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
flag 43458 term 34 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 34 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 3523 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
flag 53312 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 92906 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
flag 59637 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 49651 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
flag 65911 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 12199 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
flag 66730 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 7702 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79531 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 43440 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
flag 46952 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 87583 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35599 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 38524 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
flag 19947 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 13359 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64331 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 55936 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15275 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 14972 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95822 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 45776 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
flag 44377 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 39853 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
flag 21561 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 99002 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
flag 7834 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 78828 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
flag 15478 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 49125 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
flag 58282 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 69498 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
flag 94269 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 49113 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202}]
------------------------------------------------------
client write log 6345202728633628986 (index 203) to leader 0
flag 91706 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 15384 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202} {6345202728633628986 34 203}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202} {6345202728633628986 34 203}]
------------------------------------------------------
flag 44788 term 34 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 34 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 34 leaderCommit: 203 
------------------------------------------------------
flag 62182 term 34 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 34 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 34 leaderCommit: 203 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202} {6345202728633628986 34 203}]
term 34 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202} {6345202728633628986 34 203}]
------------------------------------------------------
flag 34751 term 34 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 34 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 34 leaderCommit: 203 
------------------------------------------------------
flag 59728 term 34 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 34 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 34 leaderCommit: 203 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202} {6345202728633628986 34 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202} {6345202728633628986 34 203}]
------------------------------------------------------
flag 80606 term 34 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 34 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 34 leaderCommit: 203 
------------------------------------------------------
flag 8053 term 34 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 34 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 34 leaderCommit: 203 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202} {6345202728633628986 34 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202} {6345202728633628986 34 203}]
------------------------------------------------------
flag 15469 term 34 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 34 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 34 leaderCommit: 203 
------------------------------------------------------
flag 12102 term 34 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 34 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 34 leaderCommit: 203 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202} {6345202728633628986 34 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202} {6345202728633628986 34 203}]
------------------------------------------------------
flag 11667 term 34 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 34 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 34 leaderCommit: 203 
------------------------------------------------------
flag 65253 term 34 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 34 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 34 leaderCommit: 203 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202} {6345202728633628986 34 203}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202} {6345202728633628986 34 203}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2717479081165948091 (index 204) to leader 0
flag 20697 term 34 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 34 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 34 leaderCommit: 203 
------------------------------------------------------
flag 86975 term 34 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 34 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 34 leaderCommit: 203 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202} {6345202728633628986 34 203} {2717479081165948091 34 204}]
------------------------------------------------------
flag 68992 term 34 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 34 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 34 leaderCommit: 204 
------------------------------------------------------
flag 61976 term 34 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 34 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 34 leaderCommit: 204 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202} {6345202728633628986 34 203} {2717479081165948091 34 204}]
------------------------------------------------------
client write log 4583976531159501047 (index 205) to leader 0
client write log 1738080218209379511 (index 206) to leader 0
client write log 5661699821168261247 (index 207) to leader 0
client write log 3000274076987657115 (index 208) to leader 0
client write log 8461168834988638597 (index 209) to leader 0
client write log 7963455519456734995 (index 210) to leader 0
client write log 8689915067492762148 (index 211) to leader 0
client write log 8927068355400505653 (index 212) to leader 0
client write log 5495398093753261504 (index 213) to leader 0
flag 41078 term 34 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 34 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 34 leaderCommit: 204 
------------------------------------------------------
flag 68763 term 34 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 34 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 34 leaderCommit: 204 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 199} {9171126586240144549 32 200} {3039813990298128574 32 201} {6345202728633628986 32 202} {6345202728633628986 34 203} {2717479081165948091 34 204} {4583976531159501047 34 205} {1738080218209379511 34 206} {5661699821168261247 34 207} {3000274076987657115 34 208} {8461168834988638597 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213}]
------------------------------------------------------
term 34 Server0 start snapshot! index=209
term 34 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=213
-------------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 21673 term 34 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 34 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213}]
------------------------------------------------------
term 34 Server2 start snapshot! index=209
term 34 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=213
-------------------------------------------------------------
!!!!!!connect server 1
client write log 186335052030851611 (index 214) to leader 0
term 34 server 2 not vote for server 1, 日志不够新
term 34 server 0 not vote for server 1, 日志不够新
term 36 server 2 vote for server 0
term 36 server 0 get vote from server 2
term 36 server 0 become leader
------------------------------------------------------
term 36 server 1 vote for server 0
term 36 server 0 get outdate rpc reply from server 1
flag 86437 term 36 leader 0 nextIndex[1]: 215  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 55438 term 36 leader 0 nextIndex[2]: 215  matchIndex[2]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 215->214
------------------------------------------------------
term 36 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 215->214
------------------------------------------------------
term 36 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 leader 0 nextIndex[1]: 204  matchIndex[1]: 0
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 83756 term 36 leader 0 nextIndex[2]: 214  matchIndex[2]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
term 36 server 1 InstallSnapshot success
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 34 rf.commitIndex 209 rf.lastApplied 209
flag 67463 term 36 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 36 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 56427 term 36 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40279 term 36 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 33354 term 36 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6175 term 36 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 50662 term 36 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
flag 7968 term 36 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 41333 term 36 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
flag 40097 term 36 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 65455 term 36 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
flag 44481 term 36 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 88534 term 36 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
flag 93652 term 36 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 10811 term 36 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
flag 2735 term 36 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 84592 term 36 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
flag 41797 term 36 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 12602 term 36 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94194 term 36 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 80068 term 36 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
flag 90268 term 36 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 45806 term 36 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
flag 6686 term 36 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 93422 term 36 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
flag 52429 term 36 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 768 term 36 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
flag 14979 term 36 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 64901 term 36 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53269 term 36 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 49405 term 36 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
flag 61313 term 36 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 17980 term 36 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
flag 85775 term 36 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 64145 term 36 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
flag 88245 term 36 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 36269 term 36 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214}]
------------------------------------------------------
client write log 186335052030851611 (index 215) to leader 0
flag 53705 term 36 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 21708 term 36 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215}]
------------------------------------------------------
flag 86256 term 36 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 19470 term 36 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 36 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215}]
------------------------------------------------------
flag 77133 term 36 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 45918 term 36 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 36 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69287 term 36 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 34299 term 36 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 36 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215}]
------------------------------------------------------
flag 58543 term 36 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 91949 term 36 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 36 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215}]
------------------------------------------------------
flag 5545 term 36 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 600 term 36 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 36 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215}]
------------------------------------------------------
flag 90344 term 36 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 21704 term 36 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 36 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 75078 term 36 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 95237 term 36 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 36 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52981 term 36 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 1339 term 36 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 36 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 91885 term 36 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 33113 term 36 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 36 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 79736 term 36 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 81697 term 36 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 36 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 37 server 1 vote for server 2
term 37 server 2 get vote from server 1
term 37 server 2 become leader
------------------------------------------------------
flag 20170 term 37 leader 2 nextIndex[0]: 216  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 48940 term 37 leader 2 nextIndex[1]: 216  matchIndex[1]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215}]
------------------------------------------------------
client write log 4866563117488015748 (index 216) to leader 2
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 216->215
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 215
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 7499 term 36 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 36 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 93222 term 37 leader 2 nextIndex[0]: 216  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 49003 term 37 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 37 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215} {4866563117488015748 37 216}]
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 215
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 65709 term 36 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 36 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 92171 term 37 leader 2 nextIndex[0]: 216  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 216 
------------------------------------------------------
flag 29277 term 37 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215} {4866563117488015748 37 216}]
------------------------------------------------------
client write log 6119954079097561078 (index 217) to leader 2
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 215
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 61497 term 36 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 36 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 59031 term 37 leader 2 nextIndex[0]: 216  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 216 
------------------------------------------------------
flag 93728 term 37 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215} {4866563117488015748 37 216} {6119954079097561078 37 217}]
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 215
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 50586 term 36 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 36 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 49736 term 37 leader 2 nextIndex[0]: 216  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
flag 66618 term 37 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 37 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215} {4866563117488015748 37 216} {6119954079097561078 37 217}]
------------------------------------------------------
!!!!!!connect server 0
client write log 8678441769670673203 (index 218) to leader 2
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 215
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 65802 term 36 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 36 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 37 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 37 server 2 AppendEntries false 领导者任期过期 args.Term 36
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88390 term 37 leader 2 nextIndex[0]: 216  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
flag 38930 term 37 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 37 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215} {4866563117488015748 37 216} {6119954079097561078 37 217} {8678441769670673203 37 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215} {4866563117488015748 37 216} {6119954079097561078 37 217} {8678441769670673203 37 218}]
------------------------------------------------------
flag 93390 term 37 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 37 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 73265 term 37 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 37 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215} {4866563117488015748 37 216} {6119954079097561078 37 217} {8678441769670673203 37 218}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215} {4866563117488015748 37 216} {6119954079097561078 37 217} {8678441769670673203 37 218}]
------------------------------------------------------
flag 90139 term 37 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 37 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 12329 term 37 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 37 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215} {4866563117488015748 37 216} {6119954079097561078 37 217} {8678441769670673203 37 218}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215} {4866563117488015748 37 216} {6119954079097561078 37 217} {8678441769670673203 37 218}]
------------------------------------------------------
flag 45482 term 37 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 37 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 93547 term 37 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 37 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215} {4866563117488015748 37 216} {6119954079097561078 37 217} {8678441769670673203 37 218}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215} {4866563117488015748 37 216} {6119954079097561078 37 217} {8678441769670673203 37 218}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85522 term 37 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 37 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 39215 term 37 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 37 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215} {4866563117488015748 37 216} {6119954079097561078 37 217} {8678441769670673203 37 218}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215} {4866563117488015748 37 216} {6119954079097561078 37 217} {8678441769670673203 37 218}]
------------------------------------------------------
flag 57461 term 37 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 37 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 76429 term 37 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 37 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
term 37 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215} {4866563117488015748 37 216} {6119954079097561078 37 217} {8678441769670673203 37 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215} {4866563117488015748 37 216} {6119954079097561078 37 217} {8678441769670673203 37 218}]
------------------------------------------------------
flag 67884 term 37 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 37 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 4667 term 37 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 37 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215} {4866563117488015748 37 216} {6119954079097561078 37 217} {8678441769670673203 37 218}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215} {4866563117488015748 37 216} {6119954079097561078 37 217} {8678441769670673203 37 218}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6236366057583045841 (index 219) to leader 2
flag 99144 term 37 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 37 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 52713 term 37 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 37 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 209} {7963455519456734995 34 210} {8689915067492762148 34 211} {8927068355400505653 34 212} {5495398093753261504 34 213} {186335052030851611 34 214} {186335052030851611 36 215} {4866563117488015748 37 216} {6119954079097561078 37 217} {8678441769670673203 37 218} {6236366057583045841 37 219}]
------------------------------------------------------
term 37 Server2 start snapshot! index=219
term 37 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
term 37 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 37
------------------------------------------------------
flag 63905 term 37 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 37 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 37 219}]
------------------------------------------------------
client write log 3638717119165312405 (index 220) to leader 2
client write log 50681716753249436 (index 221) to leader 2
client write log 4486828590313406719 (index 222) to leader 2
client write log 7828912855127474249 (index 223) to leader 2
client write log 7520094626275501631 (index 224) to leader 2
term 37 Server1 start snapshot! index=219
term 37 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
client write log 5906983577267771543 (index 225) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 37
------------------------------------------------------
flag 30856 term 37 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 37 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225}]
------------------------------------------------------
term 37 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 37
------------------------------------------------------
flag 46296 term 37 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 37 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2924760389584610944 (index 226) to leader 2
term 37 server 2 not vote for server 0, 日志不够新
term 37 server 1 not vote for server 0, 日志不够新
term 39 server 1 vote for server 2
term 39 server 2 get vote from server 1
term 39 server 2 become leader
------------------------------------------------------
term 39 server 0 vote for server 2
term 39 server 2 get outdate rpc reply from server 0
flag 81715 term 39 leader 2 nextIndex[0]: 227  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
flag 70996 term 39 leader 2 nextIndex[1]: 227  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
term 39 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 39 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 227->226
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 227->226
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 0
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 37
------------------------------------------------------
flag 29797 term 39 leader 2 nextIndex[1]: 226  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 39 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 37 rf.commitIndex 219 rf.lastApplied 219
term 39 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71346 term 39 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 39 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
flag 1620 term 39 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77019 term 39 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
flag 17549 term 39 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
flag 92087 term 39 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
flag 76015 term 39 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18593 term 39 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
flag 61216 term 39 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23789 term 39 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
flag 84466 term 39 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
flag 15984 term 39 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
flag 34968 term 39 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45838 term 39 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
flag 61608 term 39 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
term 39 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
flag 16802 term 39 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
flag 68654 term 39 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
flag 59477 term 39 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
flag 4656 term 39 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86341 term 39 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
flag 64579 term 39 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34505 term 39 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
flag 61640 term 39 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
flag 2396 term 39 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
flag 13466 term 39 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
flag 28390 term 39 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
flag 89585 term 39 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
flag 66392 term 39 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
flag 85741 term 39 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
flag 36556 term 39 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
flag 45310 term 39 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
flag 72251 term 39 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
flag 5097 term 39 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8325 term 39 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
flag 70749 term 39 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226}]
------------------------------------------------------
client write log 2924760389584610944 (index 227) to leader 2
flag 28379 term 39 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
flag 88518 term 39 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226} {2924760389584610944 39 227}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226} {2924760389584610944 39 227}]
------------------------------------------------------
flag 86904 term 39 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 39 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 227 
------------------------------------------------------
flag 90609 term 39 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 39 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 227 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226} {2924760389584610944 39 227}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226} {2924760389584610944 39 227}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18737 term 39 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 39 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 227 
------------------------------------------------------
flag 80666 term 39 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 39 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 227 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226} {2924760389584610944 39 227}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226} {2924760389584610944 39 227}]
------------------------------------------------------
flag 44558 term 39 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 39 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 227 
------------------------------------------------------
flag 43501 term 39 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 39 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 227 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226} {2924760389584610944 39 227}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226} {2924760389584610944 39 227}]
------------------------------------------------------
flag 23187 term 39 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 39 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 227 
------------------------------------------------------
flag 36851 term 39 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 39 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 227 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226} {2924760389584610944 39 227}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226} {2924760389584610944 39 227}]
------------------------------------------------------
flag 84367 term 39 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 39 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 227 
------------------------------------------------------
flag 45322 term 39 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 39 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 227 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226} {2924760389584610944 39 227}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226} {2924760389584610944 39 227}]
------------------------------------------------------
flag 32659 term 39 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 39 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 227 
------------------------------------------------------
flag 57806 term 39 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 39 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 227 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226} {2924760389584610944 39 227}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226} {2924760389584610944 39 227}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2842704192045236779 (index 228) to leader 2
flag 38280 term 39 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 39 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 227 
------------------------------------------------------
flag 96070 term 39 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 39 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 227 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226} {2924760389584610944 39 227} {2842704192045236779 39 228}]
------------------------------------------------------
flag 73617 term 39 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 39 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 228 
------------------------------------------------------
flag 56335 term 39 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 39 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 39 leaderCommit: 228 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226} {2924760389584610944 39 227} {2842704192045236779 39 228}]
------------------------------------------------------
client write log 6475276622205434249 (index 229) to leader 2
client write log 7474099346780942132 (index 230) to leader 2
client write log 1610777452059145200 (index 231) to leader 2
client write log 101705793299936774 (index 232) to leader 2
client write log 1995978857945673621 (index 233) to leader 2
client write log 4426185623104091496 (index 234) to leader 2
client write log 775028088482523948 (index 235) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65438 term 39 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 39 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 228 
------------------------------------------------------
flag 10659 term 39 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 39 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 39 leaderCommit: 228 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 37 219} {3638717119165312405 37 220} {50681716753249436 37 221} {4486828590313406719 37 222} {7828912855127474249 37 223} {7520094626275501631 37 224} {5906983577267771543 37 225} {2924760389584610944 37 226} {2924760389584610944 39 227} {2842704192045236779 39 228} {6475276622205434249 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235}]
------------------------------------------------------
term 39 Server2 start snapshot! index=229
term 39 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=235
-------------------------------------------------------------
term 39 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 39
------------------------------------------------------
flag 96750 term 39 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235}]
------------------------------------------------------
term 39 Server1 start snapshot! index=229
term 39 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=235
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1516631631863297343 (index 236) to leader 2
term 39 server 2 not vote for server 0, 日志不够新
term 39 server 1 not vote for server 0, 日志不够新
term 41 server 1 vote for server 2
term 41 server 2 get vote from server 1
term 41 server 2 become leader
------------------------------------------------------
term 41 server 0 vote for server 2
term 41 server 2 get outdate rpc reply from server 0
flag 36431 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 92355 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 41 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 237->236
------------------------------------------------------
term 41 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 237->236
------------------------------------------------------
term 41 leader 2 nextIndex[0]: 228  matchIndex[0]: 0
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 39
------------------------------------------------------
flag 18086 term 41 leader 2 nextIndex[1]: 236  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 41 server 0 InstallSnapshot success
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 39 rf.commitIndex 229 rf.lastApplied 229
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
flag 18274 term 41 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 41 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 32606 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
flag 99962 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 67264 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82984 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 25957 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
flag 19635 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 79384 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
term 41 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
flag 45243 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 38266 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
flag 99098 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 31363 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
flag 60534 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 82910 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
flag 90537 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 13461 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32481 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 50010 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91541 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 93898 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
flag 60357 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 94140 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
flag 67486 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 82634 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
flag 61451 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 25890 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
flag 69636 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 78751 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86328 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 46384 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10287 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 83652 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97446 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 90090 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
term 41 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1516631631863297343 (index 237) to leader 2
flag 40165 term 41 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
flag 72179 term 41 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 41 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236} {1516631631863297343 41 237}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236} {1516631631863297343 41 237}]
------------------------------------------------------
flag 10973 term 41 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 41 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
flag 70416 term 41 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 41 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236} {1516631631863297343 41 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236} {1516631631863297343 41 237}]
------------------------------------------------------
flag 71971 term 41 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 41 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
flag 80305 term 41 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 41 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236} {1516631631863297343 41 237}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236} {1516631631863297343 41 237}]
------------------------------------------------------
flag 35180 term 41 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 41 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
flag 16687 term 41 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 41 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:237 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236} {1516631631863297343 41 237}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236} {1516631631863297343 41 237}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 server 0 not vote for server 2, 任期不够新
term 41 server 2 get outdate rpc reply from server 0
flag 78882 term 41 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 41 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
flag 89101 term 41 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 41 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236} {1516631631863297343 41 237}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236} {1516631631863297343 41 237}]
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47987 term 41 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 41 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
flag 23048 term 41 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 41 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236} {1516631631863297343 41 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236} {1516631631863297343 41 237}]
------------------------------------------------------
flag 18062 term 41 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 41 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
flag 21317 term 41 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 41 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236} {1516631631863297343 41 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236} {1516631631863297343 41 237}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 91647 term 41 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 41 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
flag 60170 term 41 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 41 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
flag 40234 term 41 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 41 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
flag 38356 term 41 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 41 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
flag 71675 term 41 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 41 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
flag 43295 term 41 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 41 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
term 42 server 0 vote for server 1
term 42 server 1 get vote from server 0
term 42 server 1 become leader
------------------------------------------------------
client write log 301344615667861380 (index 238) to leader 1
flag 33569 term 42 leader 1 nextIndex[0]: 238  matchIndex[0]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
flag 45269 term 42 leader 1 nextIndex[2]: 238  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236} {1516631631863297343 41 237} {301344615667861380 42 238}]
------------------------------------------------------
flag 80838 term 41 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 41 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
flag 49907 term 41 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 41 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90735 term 42 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 42 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 238 
------------------------------------------------------
flag 55339 term 42 leader 1 nextIndex[2]: 238  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 238 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236} {1516631631863297343 41 237} {301344615667861380 42 238}]
------------------------------------------------------
client write log 2846568267091780998 (index 239) to leader 1
flag 35305 term 41 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 41 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
flag 30529 term 41 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 41 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
flag 91829 term 42 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 42 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 238 
------------------------------------------------------
flag 46209 term 42 leader 1 nextIndex[2]: 238  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 238 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 39 229} {7474099346780942132 39 230} {1610777452059145200 39 231} {101705793299936774 39 232} {1995978857945673621 39 233} {4426185623104091496 39 234} {775028088482523948 39 235} {1516631631863297343 39 236} {1516631631863297343 41 237} {301344615667861380 42 238} {2846568267091780998 42 239}]
------------------------------------------------------
term 42 Server1 start snapshot! index=239
term 42 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
flag 55213 term 41 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 41 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
flag 66825 term 41 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 41 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57984 term 42 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 42 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 42 leaderCommit: 239 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 238  matchIndex[2]: 0
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 42 239}]
------------------------------------------------------
term 42 Server0 start snapshot! index=239
term 42 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2522081159220196150 (index 240) to leader 1
flag 7755 term 41 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 41 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
flag 71529 term 41 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 41 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
term 42 server 0 AppendEntries false 领导者任期过期 args.Term 41
term 42 server 1 AppendEntries false 领导者任期过期 args.Term 41
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93613 term 42 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 42 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 42 leaderCommit: 239 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 238  matchIndex[2]: 0
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
term 42 server 2 InstallSnapshot success
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 42 rf.commitIndex 239 rf.lastApplied 239
term 42 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 42 239} {2522081159220196150 42 240}]
------------------------------------------------------
flag 81691 term 42 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 42 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 42 leaderCommit: 240 
------------------------------------------------------
flag 72881 term 42 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 42 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 42 leaderCommit: 240 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 42 239} {2522081159220196150 42 240}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 42 239} {2522081159220196150 42 240}]
------------------------------------------------------
flag 6535 term 42 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 42 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 42 leaderCommit: 240 
------------------------------------------------------
flag 69442 term 42 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 42 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 42 leaderCommit: 240 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 42 239} {2522081159220196150 42 240}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 42 239} {2522081159220196150 42 240}]
------------------------------------------------------
flag 485 term 42 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 42 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 42 leaderCommit: 240 
------------------------------------------------------
flag 68847 term 42 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 42 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 42 leaderCommit: 240 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 42 239} {2522081159220196150 42 240}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 42 239} {2522081159220196150 42 240}]
------------------------------------------------------
flag 79290 term 42 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 42 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 42 leaderCommit: 240 
------------------------------------------------------
flag 82116 term 42 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 42 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 42 leaderCommit: 240 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 42 239} {2522081159220196150 42 240}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 42 239} {2522081159220196150 42 240}]
------------------------------------------------------
flag 75201 term 42 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 42 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 42 leaderCommit: 240 
------------------------------------------------------
flag 10227 term 42 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 42 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 42 leaderCommit: 240 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 42 239} {2522081159220196150 42 240}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 42 239} {2522081159220196150 42 240}]
------------------------------------------------------
flag 53347 term 42 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 42 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 42 leaderCommit: 240 
------------------------------------------------------
flag 17597 term 42 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 42 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 42 leaderCommit: 240 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 42 239} {2522081159220196150 42 240}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 42 239} {2522081159220196150 42 240}]
------------------------------------------------------
flag 58254 term 42 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 42 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 42 leaderCommit: 240 
------------------------------------------------------
flag 9960 term 42 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 42 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 42 leaderCommit: 240 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 42 239} {2522081159220196150 42 240}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 42 239} {2522081159220196150 42 240}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1653429048500721390 (index 241) to leader 1
flag 56269 term 42 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 42 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 42 leaderCommit: 240 
------------------------------------------------------
flag 97295 term 42 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 42 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 42 leaderCommit: 240 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241}]
------------------------------------------------------
flag 39177 term 42 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 73226 term 42 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 42 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241}]
------------------------------------------------------
client write log 6340802443958657408 (index 242) to leader 1
client write log 2091235498320137543 (index 243) to leader 1
client write log 8765687500600931546 (index 244) to leader 1
client write log 3981765175958451889 (index 245) to leader 1
client write log 421080874985081233 (index 246) to leader 1
client write log 3934035025915569741 (index 247) to leader 1
flag 21601 term 42 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 916 term 42 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 42 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 241->240
------------------------------------------------------
flag 29511 term 42 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 42 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 240
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247}]
------------------------------------------------------
!!!!!!connect server 2
client write log 187970244016450296 (index 248) to leader 1
term 42 server 1 not vote for server 2, 日志不够新
term 42 server 0 not vote for server 2, 日志不够新
term 44 server 0 vote for server 1
term 44 server 1 get vote from server 0
term 44 server 1 become leader
------------------------------------------------------
term 44 server 2 vote for server 1
term 44 server 1 get outdate rpc reply from server 2
flag 97073 term 44 leader 1 nextIndex[0]: 249  matchIndex[0]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
flag 97879 term 44 leader 1 nextIndex[2]: 249  matchIndex[2]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 44 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 44 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 249->248
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 249->248
------------------------------------------------------
flag 81032 term 44 leader 1 nextIndex[0]: 248  matchIndex[0]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
flag 38371 term 44 leader 1 nextIndex[2]: 241  matchIndex[2]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64265 term 44 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
flag 21967 term 44 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22393 term 44 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
flag 6956 term 44 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
flag 25373 term 44 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
flag 33970 term 44 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
flag 71436 term 44 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
flag 10723 term 44 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
flag 66650 term 44 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
flag 70212 term 44 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
flag 54277 term 44 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
flag 26512 term 44 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
flag 38347 term 44 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
flag 87729 term 44 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66753 term 44 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
flag 99754 term 44 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31483 term 44 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
flag 27691 term 44 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
flag 42283 term 44 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
flag 63389 term 44 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67323 term 44 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
flag 96886 term 44 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
flag 57584 term 44 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
flag 45789 term 44 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30526 term 44 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
flag 93708 term 44 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
flag 74863 term 44 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
flag 82016 term 44 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30953 term 44 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
flag 51997 term 44 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1811 term 44 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
flag 23382 term 44 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
flag 25091 term 44 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
flag 68276 term 44 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248}]
------------------------------------------------------
client write log 187970244016450296 (index 249) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67584 term 44 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
flag 38078 term 44 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 44 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248} {187970244016450296 44 249}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 42 239} {2522081159220196150 42 240} {1653429048500721390 42 241} {6340802443958657408 42 242} {2091235498320137543 42 243} {8765687500600931546 42 244} {3981765175958451889 42 245} {421080874985081233 42 246} {3934035025915569741 42 247} {187970244016450296 42 248} {187970244016450296 44 249}]
------------------------------------------------------
term 44 Server1 start snapshot! index=249
term 44 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
flag 22563 term 44 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 44 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 44 leaderCommit: 249 
------------------------------------------------------
flag 18469 term 44 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 44 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 44 leaderCommit: 249 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 44 249}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 44 249}]
------------------------------------------------------
term 44 Server2 start snapshot! index=249
term 44 Server0 start snapshot! index=249
term 44 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
term 44 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18138 term 44 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 44 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 44 leaderCommit: 249 
------------------------------------------------------
flag 42142 term 44 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 44 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 44 leaderCommit: 249 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 44 249}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 44 249}]
------------------------------------------------------
flag 29628 term 44 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 44 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 44 leaderCommit: 249 
------------------------------------------------------
flag 14250 term 44 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 44 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 44 leaderCommit: 249 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 44 249}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 44 249}]
------------------------------------------------------
flag 77621 term 44 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 44 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 44 leaderCommit: 249 
------------------------------------------------------
flag 65141 term 44 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 44 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 44 leaderCommit: 249 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 44 249}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 44 249}]
------------------------------------------------------
flag 78796 term 44 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 44 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 44 leaderCommit: 249 
------------------------------------------------------
flag 21543 term 44 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 44 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 44 leaderCommit: 249 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 44 249}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 44 249}]
------------------------------------------------------
flag 11710 term 44 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 44 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 44 leaderCommit: 249 
------------------------------------------------------
flag 21179 term 44 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 44 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 44 leaderCommit: 249 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 44 249}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 44 249}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5530927766302021535 (index 250) to leader 1
flag 21147 term 44 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 44 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 44 leaderCommit: 249 
------------------------------------------------------
flag 17803 term 44 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 44 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 44 leaderCommit: 249 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=250
leader log:
[{snapshot 44 249} {5530927766302021535 44 250}]
------------------------------------------------------
flag 15176 term 44 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 44 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 44 leaderCommit: 250 
------------------------------------------------------
flag 7134 term 44 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 44 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 44 leaderCommit: 250 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=250
leader log:
[{snapshot 44 249} {5530927766302021535 44 250}]
------------------------------------------------------
client write log 2889424979843640708 (index 251) to leader 1
client write log 5683110333561271643 (index 252) to leader 1
client write log 3494210727064191064 (index 253) to leader 1
client write log 5041832678840167824 (index 254) to leader 1
client write log 6789205918311844811 (index 255) to leader 1
client write log 1273090152630937771 (index 256) to leader 1
flag 90276 term 44 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 44 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 44 leaderCommit: 250 
------------------------------------------------------
flag 80305 term 44 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 44 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 44 leaderCommit: 250 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11890 term 44 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 28448 term 44 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 44 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256}]
------------------------------------------------------
!!!!!!connect server 2
client write log 7653484203007751478 (index 257) to leader 1
term 44 server 2 not vote for server 1, 任期不够新
term 44 server 1 get outdate rpc reply from server 2
term 44 server 1 not vote for server 2, 日志不够新
term 44 server 0 not vote for server 2, 日志不够新
term 46 server 2 vote for server 1
term 46 server 1 get vote from server 2
term 46 server 0 vote for server 1
term 46 server 1 become leader
------------------------------------------------------
term 46 server 1 get outdate rpc reply from server 0
flag 62946 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 98449 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 46 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 258->257
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 258->257
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70816 term 46 leader 1 nextIndex[0]: 257  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 70522 term 46 leader 1 nextIndex[2]: 250  matchIndex[2]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91269 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 30468 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
flag 67405 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 13446 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
flag 30829 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 73162 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1221 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 9173 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5944 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 93128 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
flag 17305 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 86609 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
flag 82077 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 56162 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77694 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 25245 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
flag 74554 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 83357 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
flag 61431 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 52826 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
flag 6471 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 87405 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
flag 82792 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 50837 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
flag 19035 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 73754 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
flag 91856 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 1108 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
flag 1284 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 63066 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
flag 85719 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 91491 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67200 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 19184 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11326 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 50079 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257}]
------------------------------------------------------
client write log 7653484203007751478 (index 258) to leader 1
flag 32829 term 46 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 94467 term 46 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257} {7653484203007751478 46 258}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257} {7653484203007751478 46 258}]
------------------------------------------------------
flag 69894 term 46 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 4089 term 46 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
term 46 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257} {7653484203007751478 46 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257} {7653484203007751478 46 258}]
------------------------------------------------------
flag 63925 term 46 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 18577 term 46 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257} {7653484203007751478 46 258}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257} {7653484203007751478 46 258}]
------------------------------------------------------
flag 14034 term 46 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 78704 term 46 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257} {7653484203007751478 46 258}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257} {7653484203007751478 46 258}]
------------------------------------------------------
flag 9347 term 46 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 52500 term 46 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257} {7653484203007751478 46 258}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257} {7653484203007751478 46 258}]
------------------------------------------------------
flag 13732 term 46 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 81684 term 46 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257} {7653484203007751478 46 258}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257} {7653484203007751478 46 258}]
------------------------------------------------------
flag 17139 term 46 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 82461 term 46 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
term 46 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257} {7653484203007751478 46 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257} {7653484203007751478 46 258}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 21050 term 46 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 1489 term 46 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37078 term 46 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 81567 term 46 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 73790 term 46 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 13810 term 46 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 47 server 0 vote for server 2
term 47 server 2 get vote from server 0
term 47 server 2 become leader
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37935 term 47 leader 2 nextIndex[0]: 259  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 8830 term 47 leader 2 nextIndex[1]: 259  matchIndex[1]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257} {7653484203007751478 46 258}]
------------------------------------------------------
client write log 4216684523144939664 (index 259) to leader 2
flag 53546 term 46 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 50368 term 46 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 20275 term 47 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 47 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 57478 term 47 leader 2 nextIndex[1]: 259  matchIndex[1]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 44 249} {5530927766302021535 44 250} {2889424979843640708 44 251} {5683110333561271643 44 252} {3494210727064191064 44 253} {5041832678840167824 44 254} {6789205918311844811 44 255} {1273090152630937771 44 256} {7653484203007751478 44 257} {7653484203007751478 46 258} {4216684523144939664 47 259}]
------------------------------------------------------
term 47 Server2 start snapshot! index=259
term 47 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
flag 61278 term 46 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 50679 term 46 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 33781 term 47 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 47 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 259 
------------------------------------------------------
term 47 leader 2 nextIndex[1]: 259  matchIndex[1]: 0
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 47 259}]
------------------------------------------------------
term 47 Server0 start snapshot! index=259
term 47 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
flag 73339 term 46 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 84759 term 46 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
client write log 794375392288266495 (index 260) to leader 2
client write log 7002251703449158343 (index 261) to leader 2
client write log 2934130736162392033 (index 262) to leader 2
client write log 3404086331922548035 (index 263) to leader 2
client write log 8579182687052379396 (index 264) to leader 2
client write log 8999910719609790200 (index 265) to leader 2
client write log 6630934943687272008 (index 266) to leader 2
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 259->258
------------------------------------------------------
flag 54978 term 47 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 47 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 259 
------------------------------------------------------
term 47 leader 2 nextIndex[1]: 259  matchIndex[1]: 0
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
term 46 leader 1 nextIndex[0]: 0  matchIndex[0]: 258
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 44
------------------------------------------------------
flag 57777 term 46 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 32590 term 47 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
term 47 leader 2 nextIndex[1]: 259  matchIndex[1]: 0
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
!!!!!!connect server 1
client write log 518299468515836349 (index 259) to leader 1
term 46 leader 1 nextIndex[0]: 0  matchIndex[0]: 258
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 44
------------------------------------------------------
flag 50182 term 46 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 46 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 47 server 2 AppendEntries false 领导者任期过期 args.Term 46
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 47 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 47 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56331 term 47 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
term 47 leader 2 nextIndex[1]: 259  matchIndex[1]: 0
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 1 InstallSnapshot success
------------------------------------------------------
term 47 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 47 rf.commitIndex 259 rf.lastApplied 259
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
flag 30273 term 47 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
flag 66737 term 47 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 47 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
flag 13270 term 47 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
flag 33146 term 47 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33518 term 47 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
flag 84391 term 47 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
flag 10399 term 47 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
flag 14534 term 47 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31852 term 47 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
flag 92001 term 47 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74591 term 47 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
flag 85964 term 47 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
flag 70827 term 47 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
flag 33782 term 47 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 267->266
------------------------------------------------------
flag 87392 term 47 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
term 47 leader 2 nextIndex[1]: 0  matchIndex[1]: 266
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 1 InstallSnapshot fail
rf.commitIndex 266 args.LastIncludedIndex 259
------------------------------------------------------
term 47 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
flag 17105 term 47 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
flag 31191 term 47 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 47 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
flag 96555 term 47 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
flag 32615 term 47 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
flag 46569 term 47 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
flag 89585 term 47 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
flag 68996 term 47 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
flag 65100 term 47 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
flag 87089 term 47 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
flag 84352 term 47 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
flag 3468 term 47 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
flag 23168 term 47 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
flag 1032 term 47 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
flag 5217 term 47 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
term 47 server 1 not vote for server 2, 日志不够新
term 47 server 2 get outdate rpc reply from server 1
flag 85093 term 47 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
flag 94467 term 47 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
flag 76983 term 47 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
flag 19844 term 47 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
term 47 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46796 term 47 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
flag 71832 term 47 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 47 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 780 term 47 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
flag 10960 term 47 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266}]
------------------------------------------------------
client write log 518299468515836349 (index 267) to leader 2
flag 75821 term 47 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
flag 39466 term 47 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 47 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 47 leaderCommit: 266 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266} {518299468515836349 47 267}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266} {518299468515836349 47 267}]
------------------------------------------------------
flag 90824 term 47 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 47 leaderCommit: 267 
------------------------------------------------------
flag 23809 term 47 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 47 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 47 leaderCommit: 267 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266} {518299468515836349 47 267}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266} {518299468515836349 47 267}]
------------------------------------------------------
flag 11633 term 47 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 47 leaderCommit: 267 
------------------------------------------------------
flag 64764 term 47 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 47 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 47 leaderCommit: 267 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:267 
term 47 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266} {518299468515836349 47 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266} {518299468515836349 47 267}]
------------------------------------------------------
flag 42106 term 47 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 47 leaderCommit: 267 
------------------------------------------------------
flag 1247 term 47 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 47 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 47 leaderCommit: 267 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266} {518299468515836349 47 267}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266} {518299468515836349 47 267}]
------------------------------------------------------
flag 63921 term 47 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 47 leaderCommit: 267 
------------------------------------------------------
flag 88154 term 47 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 47 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 47 leaderCommit: 267 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266} {518299468515836349 47 267}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266} {518299468515836349 47 267}]
------------------------------------------------------
flag 54406 term 47 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 47 leaderCommit: 267 
------------------------------------------------------
flag 72641 term 47 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 47 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 47 leaderCommit: 267 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266} {518299468515836349 47 267}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266} {518299468515836349 47 267}]
------------------------------------------------------
flag 1703 term 47 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 47 leaderCommit: 267 
------------------------------------------------------
flag 83104 term 47 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 47 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 47 leaderCommit: 267 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266} {518299468515836349 47 267}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266} {518299468515836349 47 267}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7919495404038627835 (index 268) to leader 2
flag 82148 term 47 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 47 leaderCommit: 267 
------------------------------------------------------
flag 41311 term 47 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 47 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 47 leaderCommit: 267 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266} {518299468515836349 47 267} {7919495404038627835 47 268}]
------------------------------------------------------
flag 65737 term 47 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 46636 term 47 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 47 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266} {518299468515836349 47 267} {7919495404038627835 47 268}]
------------------------------------------------------
client write log 6023509782651138447 (index 269) to leader 2
client write log 5679878778698989999 (index 270) to leader 2
client write log 2155632142599948709 (index 271) to leader 2
client write log 8928353426474126280 (index 272) to leader 2
client write log 1540961038885316793 (index 273) to leader 2
client write log 6849150238528369544 (index 274) to leader 2
client write log 9216058531510772692 (index 275) to leader 2
flag 1636 term 47 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 92258 term 47 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 47 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 47 259} {794375392288266495 47 260} {7002251703449158343 47 261} {2934130736162392033 47 262} {3404086331922548035 47 263} {8579182687052379396 47 264} {8999910719609790200 47 265} {6630934943687272008 47 266} {518299468515836349 47 267} {7919495404038627835 47 268} {6023509782651138447 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275}]
------------------------------------------------------
term 47 Server2 start snapshot! index=269
term 47 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=275
-------------------------------------------------------------
term 47 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 47
------------------------------------------------------
flag 2421 term 47 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 47 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275}]
------------------------------------------------------
term 47 Server1 start snapshot! index=269
term 47 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=275
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5549168345109301890 (index 276) to leader 2
term 47 server 2 not vote for server 0, 日志不够新
term 47 server 1 not vote for server 0, 日志不够新
term 49 server 1 vote for server 2
term 49 server 2 get vote from server 1
term 49 server 2 become leader
------------------------------------------------------
term 49 server 0 vote for server 2
term 49 server 2 get outdate rpc reply from server 0
flag 37884 term 49 leader 2 nextIndex[0]: 277  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
flag 35524 term 49 leader 2 nextIndex[1]: 277  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
term 49 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 277->276
------------------------------------------------------
term 49 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 277->276
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 2 nextIndex[0]: 268  matchIndex[0]: 0
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 47
------------------------------------------------------
flag 93862 term 49 leader 2 nextIndex[1]: 276  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
term 49 server 0 InstallSnapshot success
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 270 matchIndex[0] 269 
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 47 rf.commitIndex 269 rf.lastApplied 269
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44900 term 49 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 49 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
flag 56445 term 49 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
flag 69657 term 49 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
flag 37290 term 49 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
term 49 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70711 term 49 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
flag 45084 term 49 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
flag 84585 term 49 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
flag 96561 term 49 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60348 term 49 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
flag 54972 term 49 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
flag 10658 term 49 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
flag 89451 term 49 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueterm 49 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
update nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
flag 13877 term 49 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
flag 63828 term 49 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
flag 69896 term 49 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
flag 52817 term 49 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27019 term 49 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
flag 64602 term 49 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75147 term 49 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
flag 31539 term 49 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
flag 15927 term 49 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
flag 45741 term 49 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
flag 30060 term 49 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
flag 95090 term 49 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
flag 91654 term 49 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
flag 86136 term 49 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
flag 52376 term 49 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
flag 57323 term 49 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78915 term 49 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
flag 43297 term 49 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
flag 99475 term 49 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
flag 79591 term 49 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
flag 27010 term 49 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
flag 12266 term 49 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276}]
------------------------------------------------------
client write log 5549168345109301890 (index 277) to leader 2
flag 15 term 49 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
flag 33157 term 49 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 49 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 47 leaderCommit: 275 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276} {5549168345109301890 49 277}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276} {5549168345109301890 49 277}]
------------------------------------------------------
flag 33160 term 49 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
flag 8308 term 49 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 49 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276} {5549168345109301890 49 277}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276} {5549168345109301890 49 277}]
------------------------------------------------------
flag 99841 term 49 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
flag 92799 term 49 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 49 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276} {5549168345109301890 49 277}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276} {5549168345109301890 49 277}]
------------------------------------------------------
flag 77736 term 49 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
flag 40592 term 49 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 49 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276} {5549168345109301890 49 277}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276} {5549168345109301890 49 277}]
------------------------------------------------------
flag 45589 term 49 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
flag 47585 term 49 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 49 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276} {5549168345109301890 49 277}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276} {5549168345109301890 49 277}]
------------------------------------------------------
flag 16490 term 49 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
flag 65051 term 49 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 49 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276} {5549168345109301890 49 277}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276} {5549168345109301890 49 277}]
------------------------------------------------------
term 49 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 346 term 49 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
flag 3611 term 49 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 49 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276} {5549168345109301890 49 277}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276} {5549168345109301890 49 277}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3668614374387460270 (index 278) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75146 term 49 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
flag 31814 term 49 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 49 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276} {5549168345109301890 49 277} {3668614374387460270 49 278}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79058 term 49 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 58434 term 49 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 49 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276} {5549168345109301890 49 277} {3668614374387460270 49 278}]
------------------------------------------------------
client write log 4873511251003106536 (index 279) to leader 2
client write log 7304000168650736668 (index 280) to leader 2
client write log 3760512618372458979 (index 281) to leader 2
client write log 4925374968903226003 (index 282) to leader 2
client write log 3346755977270469178 (index 283) to leader 2
client write log 4167548463542088662 (index 284) to leader 2
client write log 1643122931489731825 (index 285) to leader 2
client write log 7633111122194634145 (index 286) to leader 2
client write log 1574897167088207123 (index 287) to leader 2
client write log 5096574841890385793 (index 288) to leader 2
client write log 3809962824686907345 (index 289) to leader 2
client write log 3721081611817131330 (index 290) to leader 2
client write log 8384705276446477633 (index 291) to leader 2
term 49 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82215 term 49 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 34269 term 49 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 49 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 47 269} {5679878778698989999 47 270} {2155632142599948709 47 271} {8928353426474126280 47 272} {1540961038885316793 47 273} {6849150238528369544 47 274} {9216058531510772692 47 275} {5549168345109301890 47 276} {5549168345109301890 49 277} {3668614374387460270 49 278} {4873511251003106536 49 279} {7304000168650736668 49 280} {3760512618372458979 49 281} {4925374968903226003 49 282} {3346755977270469178 49 283} {4167548463542088662 49 284} {1643122931489731825 49 285} {7633111122194634145 49 286} {1574897167088207123 49 287} {5096574841890385793 49 288} {3809962824686907345 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291}]
------------------------------------------------------
term 49 Server2 start snapshot! index=279
term 49 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=291
-------------------------------------------------------------
term 49 Server2 start snapshot! index=289
term 49 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=291
-------------------------------------------------------------
term 49 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 49
------------------------------------------------------
flag 98181 term 49 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 49 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291}]
------------------------------------------------------
term 49 Server1 start snapshot! index=279
term 49 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=291
-------------------------------------------------------------
term 49 Server1 start snapshot! index=289
term 49 server1 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=291
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6112865539778591474 (index 292) to leader 2
term 49 server 2 not vote for server 0, 日志不够新
term 49 server 1 not vote for server 0, 日志不够新
term 51 server 1 vote for server 2
term 51 server 0 vote for server 2
term 51 server 2 get vote from server 1
term 51 server 2 become leader
------------------------------------------------------
term 51 server 2 get outdate rpc reply from server 0
flag 8279 term 51 leader 2 nextIndex[0]: 293  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 30938 term 51 leader 2 nextIndex[1]: 293  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 293->292
------------------------------------------------------
term 51 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 293->292
------------------------------------------------------
term 51 leader 2 nextIndex[0]: 278  matchIndex[0]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 49
------------------------------------------------------
flag 4681 term 51 leader 2 nextIndex[1]: 292  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
term 51 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 49 rf.commitIndex 289 rf.lastApplied 289
term 51 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
flag 64188 term 51 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 51 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 26917 term 51 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
flag 20212 term 51 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 6745 term 51 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
flag 49392 term 51 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 59865 term 51 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
flag 52241 term 51 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 72383 term 51 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35864 term 51 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 66713 term 51 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
flag 60005 term 51 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 67556 term 51 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
flag 26711 term 51 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 93020 term 51 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
flag 45423 term 51 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 98028 term 51 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
flag 70986 term 51 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 63442 term 51 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
flag 11553 term 51 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 89499 term 51 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
flag 88408 term 51 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 39987 term 51 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18322 term 51 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 51686 term 51 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
flag 50243 term 51 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 74798 term 51 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
flag 91782 term 51 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 18691 term 51 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
flag 37331 term 51 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 87806 term 51 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
flag 7573 term 51 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 87568 term 51 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
flag 87938 term 51 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 47538 term 51 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
flag 55003 term 51 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 23610 term 51 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292}]
------------------------------------------------------
client write log 6112865539778591474 (index 293) to leader 2
flag 19207 term 51 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 93345 term 51 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 51 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293}]
------------------------------------------------------
flag 20696 term 51 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
flag 90001 term 51 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293}]
------------------------------------------------------
flag 1938 term 51 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
flag 69233 term 51 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293}]
------------------------------------------------------
flag 9107 term 51 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
flag 1649 term 51 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293}]
------------------------------------------------------
flag 38680 term 51 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
flag 85611 term 51 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293}]
------------------------------------------------------
flag 61755 term 51 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
flag 47026 term 51 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 7 term 51 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
flag 76349 term 51 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14811 term 51 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
flag 84032 term 51 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6565 term 51 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
flag 60030 term 51 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
flag 93770 term 51 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
flag 58540 term 51 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
term 52 server 0 vote for server 1
term 52 server 1 get vote from server 0
term 52 server 1 become leader
------------------------------------------------------
flag 32239 term 52 leader 1 nextIndex[0]: 294  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
flag 34728 term 52 leader 1 nextIndex[2]: 294  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293}]
------------------------------------------------------
client write log 9176710818863028701 (index 294) to leader 1
flag 67562 term 51 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
flag 41166 term 51 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
flag 82509 term 52 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 52 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
flag 41911 term 52 leader 1 nextIndex[2]: 294  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293} {9176710818863028701 52 294}]
------------------------------------------------------
flag 59064 term 51 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
flag 9185 term 51 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
flag 31361 term 52 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 52 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 52 leaderCommit: 294 
------------------------------------------------------
flag 53234 term 52 leader 1 nextIndex[2]: 294  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293} {9176710818863028701 52 294}]
------------------------------------------------------
client write log 6275690025146417808 (index 295) to leader 1
flag 20768 term 51 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
flag 82471 term 51 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
flag 86838 term 52 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 52 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 52 leaderCommit: 294 
------------------------------------------------------
flag 98773 term 52 leader 1 nextIndex[2]: 294  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293} {9176710818863028701 52 294} {6275690025146417808 52 295}]
------------------------------------------------------
flag 83215 term 51 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
flag 33608 term 51 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
flag 71456 term 52 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 52 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 52 leaderCommit: 295 
------------------------------------------------------
flag 92522 term 52 leader 1 nextIndex[2]: 294  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 295 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293} {9176710818863028701 52 294} {6275690025146417808 52 295}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 294->293
------------------------------------------------------
!!!!!!connect server 2
client write log 7301674144900123577 (index 296) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
flag 60712 term 51 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
flag 81451 term 51 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 51 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
term 52 server 1 AppendEntries false 领导者任期过期 args.Term 51
------------------------------------------------------
term 52 server 0 AppendEntries false 领导者任期过期 args.Term 51
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53815 term 52 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 52 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 52 leaderCommit: 295 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 49
------------------------------------------------------
term 52 server 2 InstallSnapshot fail
rf.commitIndex 293 args.LastIncludedIndex 289
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 290 matchIndex[2] 289 
------------------------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293} {9176710818863028701 52 294} {6275690025146417808 52 295} {7301674144900123577 52 296}]
------------------------------------------------------
flag 35215 term 52 leader 1 nextIndex[0]: 297  matchIndex[0]: 296
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 52 leaderCommit: 296 
------------------------------------------------------
flag 78628 term 52 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 52 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 49 leaderCommit: 296 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293} {9176710818863028701 52 294} {6275690025146417808 52 295} {7301674144900123577 52 296}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293} {9176710818863028701 52 294} {6275690025146417808 52 295} {7301674144900123577 52 296}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 297->296
------------------------------------------------------
flag 93707 term 52 leader 1 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 52 leaderCommit: 296 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 0  matchIndex[2]: 296
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 49
------------------------------------------------------
term 52 server 2 InstallSnapshot fail
rf.commitIndex 293 args.LastIncludedIndex 289
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 290 matchIndex[2] 289 
------------------------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293} {9176710818863028701 52 294} {6275690025146417808 52 295} {7301674144900123577 52 296}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90833 term 52 leader 1 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 52 leaderCommit: 296 
------------------------------------------------------
flag 25990 term 52 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 52 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 49 leaderCommit: 296 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293} {9176710818863028701 52 294} {6275690025146417808 52 295} {7301674144900123577 52 296}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293} {9176710818863028701 52 294} {6275690025146417808 52 295} {7301674144900123577 52 296}]
------------------------------------------------------
flag 18578 term 52 leader 1 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 52 leaderCommit: 296 
------------------------------------------------------
flag 31260 term 52 leader 1 nextIndex[2]: 297  matchIndex[2]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 52 leaderCommit: 296 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293} {9176710818863028701 52 294} {6275690025146417808 52 295} {7301674144900123577 52 296}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293} {9176710818863028701 52 294} {6275690025146417808 52 295} {7301674144900123577 52 296}]
------------------------------------------------------
flag 3688 term 52 leader 1 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 52 leaderCommit: 296 
------------------------------------------------------
flag 21881 term 52 leader 1 nextIndex[2]: 297  matchIndex[2]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 52 leaderCommit: 296 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293} {9176710818863028701 52 294} {6275690025146417808 52 295} {7301674144900123577 52 296}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293} {9176710818863028701 52 294} {6275690025146417808 52 295} {7301674144900123577 52 296}]
------------------------------------------------------
flag 66621 term 52 leader 1 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 52 leaderCommit: 296 
------------------------------------------------------
flag 17669 term 52 leader 1 nextIndex[2]: 297  matchIndex[2]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 52 leaderCommit: 296 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293} {9176710818863028701 52 294} {6275690025146417808 52 295} {7301674144900123577 52 296}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293} {9176710818863028701 52 294} {6275690025146417808 52 295} {7301674144900123577 52 296}]
------------------------------------------------------
flag 69259 term 52 leader 1 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 52 leaderCommit: 296 
------------------------------------------------------
flag 81187 term 52 leader 1 nextIndex[2]: 297  matchIndex[2]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 52 leaderCommit: 296 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293} {9176710818863028701 52 294} {6275690025146417808 52 295} {7301674144900123577 52 296}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293} {9176710818863028701 52 294} {6275690025146417808 52 295} {7301674144900123577 52 296}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1159576969998653264 (index 297) to leader 1
flag 27606 term 52 leader 1 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 52 leaderCommit: 296 
------------------------------------------------------
flag 10589 term 52 leader 1 nextIndex[2]: 297  matchIndex[2]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 52 leaderCommit: 296 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293} {9176710818863028701 52 294} {6275690025146417808 52 295} {7301674144900123577 52 296} {1159576969998653264 52 297}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27199 term 52 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 52 leaderCommit: 297 
------------------------------------------------------
flag 26578 term 52 leader 1 nextIndex[2]: 297  matchIndex[2]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 52 leaderCommit: 297 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293} {9176710818863028701 52 294} {6275690025146417808 52 295} {7301674144900123577 52 296} {1159576969998653264 52 297}]
------------------------------------------------------
client write log 5336662051569442926 (index 298) to leader 1
client write log 340133842888871606 (index 299) to leader 1
client write log 7285698669563742445 (index 300) to leader 1
client write log 2077010189708252942 (index 301) to leader 1
client write log 5462260176701014979 (index 302) to leader 1
client write log 7472294319577974783 (index 303) to leader 1
client write log 7890500003148877386 (index 304) to leader 1
client write log 516553715163712895 (index 305) to leader 1
client write log 598558053305408330 (index 306) to leader 1
client write log 6164652565231473159 (index 307) to leader 1
client write log 7114937991169430753 (index 308) to leader 1
client write log 7112055750999545336 (index 309) to leader 1
client write log 4389432483654549230 (index 310) to leader 1
client write log 3968023310266462491 (index 311) to leader 1
flag 59627 term 52 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 52 leaderCommit: 297 
------------------------------------------------------
flag 54680 term 52 leader 1 nextIndex[2]: 297  matchIndex[2]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 52 leaderCommit: 297 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 289} {3721081611817131330 49 290} {8384705276446477633 49 291} {6112865539778591474 49 292} {6112865539778591474 51 293} {9176710818863028701 52 294} {6275690025146417808 52 295} {7301674144900123577 52 296} {1159576969998653264 52 297} {5336662051569442926 52 298} {340133842888871606 52 299} {7285698669563742445 52 300} {2077010189708252942 52 301} {5462260176701014979 52 302} {7472294319577974783 52 303} {7890500003148877386 52 304} {516553715163712895 52 305} {598558053305408330 52 306} {6164652565231473159 52 307} {7114937991169430753 52 308} {7112055750999545336 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311}]
------------------------------------------------------
term 52 Server1 start snapshot! index=299
term 52 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=311
-------------------------------------------------------------
term 52 Server1 start snapshot! index=309
term 52 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=311
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39442 term 52 leader 1 nextIndex[0]: 312  matchIndex[0]: 311
term 52 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 297  matchIndex[2]: 296
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311}]
------------------------------------------------------
term 52 Server0 start snapshot! index=299
term 52 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=311
-------------------------------------------------------------
term 52 Server0 start snapshot! index=309
term 52 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=311
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3721732986491106619 (index 312) to leader 1
flag 71844 term 52 leader 1 nextIndex[0]: 312  matchIndex[0]: 311
term 52 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 297  matchIndex[2]: 296
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 52
------------------------------------------------------
term 53 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 server 0 vote for server 1
term 54 server 2 vote for server 1
term 54 server 1 get vote from server 0
term 54 server 1 become leader
------------------------------------------------------
term 54 server 1 get outdate rpc reply from server 2
flag 42346 term 54 leader 1 nextIndex[0]: 313  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
flag 50999 term 54 leader 1 nextIndex[2]: 313  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
term 54 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 313->312
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
flag 6737 term 54 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 297  matchIndex[2]: 0
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 52
------------------------------------------------------
term 54 server 2 InstallSnapshot success
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 52 rf.commitIndex 309 rf.lastApplied 309
term 54 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
flag 33884 term 54 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
flag 74612 term 54 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 54 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
term 54 server 0 not vote for server 2, 任期不够新
term 54 server 2 get outdate rpc reply from server 0
flag 31245 term 54 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
flag 9268 term 54 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2824 term 54 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
flag 6696 term 54 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
flag 73730 term 54 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
flag 10057 term 54 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
flag 60919 term 54 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
flag 76667 term 54 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
flag 50681 term 54 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
flag 95041 term 54 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9687 term 54 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
flag 65718 term 54 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7093 term 54 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
flag 93555 term 54 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
flag 42083 term 54 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
flag 80457 term 54 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
flag 77481 term 54 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
flag 65664 term 54 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
flag 77327 term 54 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
flag 7100 term 54 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
flag 34952 term 54 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
flag 30215 term 54 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
flag 64738 term 54 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
flag 20563 term 54 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
flag 68040 term 54 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
flag 1770 term 54 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
flag 56494 term 54 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
flag 29218 term 54 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
flag 8162 term 54 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
flag 67746 term 54 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 3721732986491106619 (index 313) to leader 1
flag 6328 term 54 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
flag 7309 term 54 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 54 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312} {3721732986491106619 54 313}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312} {3721732986491106619 54 313}]
------------------------------------------------------
flag 94614 term 54 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 54 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 54 leaderCommit: 313 
------------------------------------------------------
flag 37290 term 54 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 54 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 54 leaderCommit: 313 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312} {3721732986491106619 54 313}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312} {3721732986491106619 54 313}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63289 term 54 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 54 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 54 leaderCommit: 313 
------------------------------------------------------
flag 64020 term 54 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 54 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 54 leaderCommit: 313 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312} {3721732986491106619 54 313}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312} {3721732986491106619 54 313}]
------------------------------------------------------
flag 13666 term 54 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 54 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 54 leaderCommit: 313 
------------------------------------------------------
flag 73301 term 54 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 54 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 54 leaderCommit: 313 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312} {3721732986491106619 54 313}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312} {3721732986491106619 54 313}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32681 term 54 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 54 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 54 leaderCommit: 313 
------------------------------------------------------
flag 58250 term 54 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 54 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 54 leaderCommit: 313 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312} {3721732986491106619 54 313}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312} {3721732986491106619 54 313}]
------------------------------------------------------
term 54 server 2 not vote for server 1, 任期不够新
term 54 server 1 get outdate rpc reply from server 2
flag 68838 term 54 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 54 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 54 leaderCommit: 313 
------------------------------------------------------
flag 23635 term 54 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 54 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 54 leaderCommit: 313 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312} {3721732986491106619 54 313}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 52 309} {4389432483654549230 52 310} {3968023310266462491 52 311} {3721732986491106619 52 312} {3721732986491106619 54 313}]
------------------------------------------------------
  ... Passed --  77.4  3 1766  760892  313
--- PASS: TestSnapshotInstall2D (77.39s)
PASS
