=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 0 vote for server 2
term 1 server 2 get vote from server 0
term 1 server 2 become leader
------------------------------------------------------
term 1 server 1 vote for server 2
term 1 server 2 get outdate rpc reply from server 1
flag 16038 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 2074 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 275012371422197438 (index 1) to leader 2
flag 9335 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 65914 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {275012371422197438 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {275012371422197438 1 1}]
------------------------------------------------------
flag 46890 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 64951 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {275012371422197438 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {275012371422197438 1 1}]
------------------------------------------------------
flag 99944 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 763 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {275012371422197438 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {275012371422197438 1 1}]
------------------------------------------------------
flag 67186 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 74295 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {275012371422197438 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {275012371422197438 1 1}]
------------------------------------------------------
flag 38317 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 87504 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {275012371422197438 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {275012371422197438 1 1}]
------------------------------------------------------
flag 2903 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 10280 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {275012371422197438 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {275012371422197438 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5089849214847627929 (index 2) to leader 2
flag 5675 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 13474 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {275012371422197438 1 1} {5089849214847627929 1 2}]
------------------------------------------------------
flag 80120 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 2022 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {275012371422197438 1 1} {5089849214847627929 1 2}]
------------------------------------------------------
client write log 5021141084979990198 (index 3) to leader 2
client write log 3649725254900324138 (index 4) to leader 2
client write log 7937329302798486019 (index 5) to leader 2
client write log 5537988567024739459 (index 6) to leader 2
client write log 7070805386436623742 (index 7) to leader 2
client write log 6856653390737377825 (index 8) to leader 2
client write log 6771888616508299270 (index 9) to leader 2
client write log 5565333384142078284 (index 10) to leader 2
flag 33375 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 1381 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {275012371422197438 1 1} {5089849214847627929 1 2} {5021141084979990198 1 3} {3649725254900324138 1 4} {7937329302798486019 1 5} {5537988567024739459 1 6} {7070805386436623742 1 7} {6856653390737377825 1 8} {6771888616508299270 1 9} {5565333384142078284 1 10}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 97861 term 1 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 1 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5565333384142078284 1 10}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5237326777414815279 (index 11) to leader 2
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 46130 term 1 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 1 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 2 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5565333384142078284 1 10} {5237326777414815279 1 11}]
------------------------------------------------------
term 1 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 3 server 1 vote for server 2
term 3 server 0 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 2 get outdate rpc reply from server 0
flag 69799 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 11458 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5565333384142078284 1 10} {5237326777414815279 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 12->11
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 45546 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5565333384142078284 1 10} {5237326777414815279 1 11}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
flag 95469 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 99075 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5565333384142078284 1 10} {5237326777414815279 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5565333384142078284 1 10} {5237326777414815279 1 11}]
------------------------------------------------------
flag 44268 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 24842 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5565333384142078284 1 10} {5237326777414815279 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5565333384142078284 1 10} {5237326777414815279 1 11}]
------------------------------------------------------
flag 38863 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 38929 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5565333384142078284 1 10} {5237326777414815279 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5565333384142078284 1 10} {5237326777414815279 1 11}]
------------------------------------------------------
flag 93155 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 72969 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5565333384142078284 1 10} {5237326777414815279 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5565333384142078284 1 10} {5237326777414815279 1 11}]
------------------------------------------------------
flag 43047 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 17386 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5565333384142078284 1 10} {5237326777414815279 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5565333384142078284 1 10} {5237326777414815279 1 11}]
------------------------------------------------------
flag 14856 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 955 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5565333384142078284 1 10} {5237326777414815279 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5565333384142078284 1 10} {5237326777414815279 1 11}]
------------------------------------------------------
flag 3340 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 64508 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5565333384142078284 1 10} {5237326777414815279 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5565333384142078284 1 10} {5237326777414815279 1 11}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 89759 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 42612 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 85663 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 71458 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 35865 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 27454 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 12->11
------------------------------------------------------
term 4 server 1 vote for server 0
term 4 server 0 get vote from server 1
term 4 server 0 become leader
------------------------------------------------------
flag 77891 term 4 leader 0 nextIndex[1]: 12  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 59915 term 4 leader 0 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5565333384142078284 1 10} {5237326777414815279 1 11}]
------------------------------------------------------
client write log 5775512131897550640 (index 12) to leader 0
flag 88441 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 11
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 9539 term 4 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 4 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 17718 term 4 leader 0 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5565333384142078284 1 10} {5237326777414815279 1 11} {5775512131897550640 4 12}]
------------------------------------------------------
flag 9589 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 11
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 12->11
------------------------------------------------------
flag 66585 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 95072 term 4 leader 0 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5565333384142078284 1 10} {5237326777414815279 1 11} {5775512131897550640 4 12}]
------------------------------------------------------
client write log 8758315213534391013 (index 13) to leader 0
client write log 6045758190104478058 (index 14) to leader 0
client write log 5323339330343209167 (index 15) to leader 0
client write log 8605845110214460840 (index 16) to leader 0
client write log 1195938960177679463 (index 17) to leader 0
client write log 7236810073338337636 (index 18) to leader 0
client write log 5874785461713072487 (index 19) to leader 0
client write log 8672082377180713099 (index 20) to leader 0
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 11
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 11
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
flag 82591 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 31413 term 4 leader 0 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 1 9} {5565333384142078284 1 10} {5237326777414815279 1 11} {5775512131897550640 4 12} {8758315213534391013 4 13} {6045758190104478058 4 14} {5323339330343209167 4 15} {8605845110214460840 4 16} {1195938960177679463 4 17} {7236810073338337636 4 18} {5874785461713072487 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=20
-------------------------------------------------------------
term 3 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 11
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 83608 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 91361 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=20
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4115002534520194848 (index 12) to leader 2
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 11
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 81131 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 4 server 1 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 4 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81016 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot success
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
flag 87634 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 46771 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
flag 47489 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 39654 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
flag 98777 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 37469 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29680 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 85018 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
flag 4494 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 45160 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
flag 46628 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 55922 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
flag 61636 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 37127 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 server 1 not vote for server 0, 任期不够新
term 4 server 0 get outdate rpc reply from server 1
flag 52482 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 20528 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
flag 91481 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 85499 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
flag 83590 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 14705 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
flag 61510 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 86652 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
flag 69558 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 30596 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
flag 48039 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 23941 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
flag 11117 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 32726 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
flag 95762 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 15183 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
flag 14162 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 82319 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
flag 2600 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 62632 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
flag 31329 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 85757 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
flag 43739 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 22975 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {8672082377180713099 4 20}]
------------------------------------------------------
client write log 4115002534520194848 (index 21) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49212 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 13688 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {8672082377180713099 4 20} {4115002534520194848 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {8672082377180713099 4 20} {4115002534520194848 4 21}]
------------------------------------------------------
flag 14341 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 28601 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {8672082377180713099 4 20} {4115002534520194848 4 21}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {8672082377180713099 4 20} {4115002534520194848 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 22->21
------------------------------------------------------
flag 72543 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 21
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 21 args.LastIncludedIndex 19
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {8672082377180713099 4 20} {4115002534520194848 4 21}]
------------------------------------------------------
flag 53889 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 75270 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {8672082377180713099 4 20} {4115002534520194848 4 21}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {8672082377180713099 4 20} {4115002534520194848 4 21}]
------------------------------------------------------
flag 21822 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 37213 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {8672082377180713099 4 20} {4115002534520194848 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {8672082377180713099 4 20} {4115002534520194848 4 21}]
------------------------------------------------------
flag 62394 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 24840 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {8672082377180713099 4 20} {4115002534520194848 4 21}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {8672082377180713099 4 20} {4115002534520194848 4 21}]
------------------------------------------------------
flag 28972 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 41174 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {8672082377180713099 4 20} {4115002534520194848 4 21}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {8672082377180713099 4 20} {4115002534520194848 4 21}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 169558768158873842 (index 22) to leader 0
flag 92393 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 87097 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {8672082377180713099 4 20} {4115002534520194848 4 21} {169558768158873842 4 22}]
------------------------------------------------------
flag 71091 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 40892 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {8672082377180713099 4 20} {4115002534520194848 4 21} {169558768158873842 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 3515099360104040954 (index 23) to leader 0
client write log 8319256391519996164 (index 24) to leader 0
client write log 9047890781423105307 (index 25) to leader 0
client write log 1851486695197064240 (index 26) to leader 0
client write log 549322736250759368 (index 27) to leader 0
client write log 7190546978501296210 (index 28) to leader 0
client write log 4765915470809035314 (index 29) to leader 0
client write log 7457342685625149867 (index 30) to leader 0
client write log 4651982571768445623 (index 31) to leader 0
client write log 5786197439223766084 (index 32) to leader 0
client write log 7586545149416569668 (index 33) to leader 0
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14542 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 3393 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 19} {8672082377180713099 4 20} {4115002534520194848 4 21} {169558768158873842 4 22} {3515099360104040954 4 23} {8319256391519996164 4 24} {9047890781423105307 4 25} {1851486695197064240 4 26} {549322736250759368 4 27} {7190546978501296210 4 28} {4765915470809035314 4 29} {7457342685625149867 4 30} {4651982571768445623 4 31} {5786197439223766084 4 32} {7586545149416569668 4 33}]
------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=33
-------------------------------------------------------------
term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 94615 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {7457342685625149867 4 30} {4651982571768445623 4 31} {5786197439223766084 4 32} {7586545149416569668 4 33}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=33
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1233424407643617971 (index 34) to leader 0
term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 91150 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {7457342685625149867 4 30} {4651982571768445623 4 31} {5786197439223766084 4 32} {7586545149416569668 4 33} {1233424407643617971 4 34}]
------------------------------------------------------
term 5 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 2 vote for server 0
term 6 server 1 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 0 get outdate rpc reply from server 1
flag 44123 term 6 leader 0 nextIndex[1]: 35  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 46227 term 6 leader 0 nextIndex[2]: 35  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {7457342685625149867 4 30} {4651982571768445623 4 31} {5786197439223766084 4 32} {7586545149416569668 4 33} {1233424407643617971 4 34}]
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 35->34
------------------------------------------------------
term 6 server 2 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 22  matchIndex[1]: 0
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 68685 term 6 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 InstallSnapshot success
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
[{snapshot 4 29} {7457342685625149867 4 30} {4651982571768445623 4 31} {5786197439223766084 4 32} {7586545149416569668 4 33} {1233424407643617971 4 34}]
------------------------------------------------------
flag 86969 term 6 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 1749 term 6 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {7457342685625149867 4 30} {4651982571768445623 4 31} {5786197439223766084 4 32} {7586545149416569668 4 33} {1233424407643617971 4 34}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {7457342685625149867 4 30} {4651982571768445623 4 31} {5786197439223766084 4 32} {7586545149416569668 4 33} {1233424407643617971 4 34}]
------------------------------------------------------
flag 93714 term 6 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 80352 term 6 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {7457342685625149867 4 30} {4651982571768445623 4 31} {5786197439223766084 4 32} {7586545149416569668 4 33} {1233424407643617971 4 34}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {7457342685625149867 4 30} {4651982571768445623 4 31} {5786197439223766084 4 32} {7586545149416569668 4 33} {1233424407643617971 4 34}]
------------------------------------------------------
flag 33178 term 6 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 45493 term 6 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {7457342685625149867 4 30} {4651982571768445623 4 31} {5786197439223766084 4 32} {7586545149416569668 4 33} {1233424407643617971 4 34}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {7457342685625149867 4 30} {4651982571768445623 4 31} {5786197439223766084 4 32} {7586545149416569668 4 33} {1233424407643617971 4 34}]
------------------------------------------------------
flag 56541 term 6 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 22600 term 6 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {7457342685625149867 4 30} {4651982571768445623 4 31} {5786197439223766084 4 32} {7586545149416569668 4 33} {1233424407643617971 4 34}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {7457342685625149867 4 30} {4651982571768445623 4 31} {5786197439223766084 4 32} {7586545149416569668 4 33} {1233424407643617971 4 34}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88263 term 6 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 75992 term 6 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {7457342685625149867 4 30} {4651982571768445623 4 31} {5786197439223766084 4 32} {7586545149416569668 4 33} {1233424407643617971 4 34}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {7457342685625149867 4 30} {4651982571768445623 4 31} {5786197439223766084 4 32} {7586545149416569668 4 33} {1233424407643617971 4 34}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29974 term 6 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 60464 term 6 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {7457342685625149867 4 30} {4651982571768445623 4 31} {5786197439223766084 4 32} {7586545149416569668 4 33} {1233424407643617971 4 34}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {7457342685625149867 4 30} {4651982571768445623 4 31} {5786197439223766084 4 32} {7586545149416569668 4 33} {1233424407643617971 4 34}]
------------------------------------------------------
flag 11236 term 6 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 31804 term 6 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {7457342685625149867 4 30} {4651982571768445623 4 31} {5786197439223766084 4 32} {7586545149416569668 4 33} {1233424407643617971 4 34}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {7457342685625149867 4 30} {4651982571768445623 4 31} {5786197439223766084 4 32} {7586545149416569668 4 33} {1233424407643617971 4 34}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8080247345486706645 (index 35) to leader 0
flag 72341 term 6 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 8089 term 6 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {7457342685625149867 4 30} {4651982571768445623 4 31} {5786197439223766084 4 32} {7586545149416569668 4 33} {1233424407643617971 4 34} {8080247345486706645 6 35}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35399 term 6 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 90374 term 6 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {7457342685625149867 4 30} {4651982571768445623 4 31} {5786197439223766084 4 32} {7586545149416569668 4 33} {1233424407643617971 4 34} {8080247345486706645 6 35}]
------------------------------------------------------
client write log 2481305958848305420 (index 36) to leader 0
client write log 2534028011602987454 (index 37) to leader 0
client write log 6185337142248841177 (index 38) to leader 0
client write log 3360624878703833668 (index 39) to leader 0
client write log 9084807224284573934 (index 40) to leader 0
client write log 4321822287006253485 (index 41) to leader 0
client write log 8698361337265983316 (index 42) to leader 0
client write log 8280945332460319558 (index 43) to leader 0
client write log 2001611393751865043 (index 44) to leader 0
client write log 4770634322309717237 (index 45) to leader 0
client write log 7430124676904282653 (index 46) to leader 0
client write log 3153891762492039115 (index 47) to leader 0
client write log 2514348919988770451 (index 48) to leader 0
client write log 4676797831451551414 (index 49) to leader 0
client write log 2192666478659379133 (index 50) to leader 0
flag 22145 term 6 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 96299 term 6 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 4 29} {7457342685625149867 4 30} {4651982571768445623 4 31} {5786197439223766084 4 32} {7586545149416569668 4 33} {1233424407643617971 4 34} {8080247345486706645 6 35} {2481305958848305420 6 36} {2534028011602987454 6 37} {6185337142248841177 6 38} {3360624878703833668 6 39} {9084807224284573934 6 40} {4321822287006253485 6 41} {8698361337265983316 6 42} {8280945332460319558 6 43} {2001611393751865043 6 44} {4770634322309717237 6 45} {7430124676904282653 6 46} {3153891762492039115 6 47} {2514348919988770451 6 48} {4676797831451551414 6 49} {2192666478659379133 6 50}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=50
-------------------------------------------------------------
term 6 Server0 start snapshot! index=49
term 6 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=50
-------------------------------------------------------------
term 6 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 28855 term 6 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 6 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=50
-------------------------------------------------------------
term 6 Server2 start snapshot! index=49
term 6 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=50
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3657599045999209815 (index 51) to leader 0
term 6 server 2 not vote for server 1, 日志不够新
term 6 server 0 not vote for server 1, 日志不够新
term 8 server 2 vote for server 0
term 8 server 0 get vote from server 2
term 8 server 1 vote for server 0
term 8 server 0 become leader
------------------------------------------------------
term 8 server 0 get outdate rpc reply from server 1
flag 98711 term 8 leader 0 nextIndex[1]: 52  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 97390 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 52->51
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 52->51
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 56347 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 1 InstallSnapshot success
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 6 rf.commitIndex 49 rf.lastApplied 49
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16498 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 66708 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
flag 24360 term 8 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 53701 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68279 term 8 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 63398 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
flag 84774 term 8 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 29424 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
flag 55026 term 8 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 75686 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 2 not vote for server 0, 任期不够新
term 8 server 0 get outdate rpc reply from server 2
flag 14159 term 8 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 13222 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84859 term 8 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 4017 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
flag 25885 term 8 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 80473 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29235 term 8 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 94210 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
flag 41056 term 8 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 5304 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
flag 18376 term 8 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 11358 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
flag 66910 term 8 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 34948 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
flag 36932 term 8 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 82032 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
flag 25837 term 8 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 89701 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
flag 46699 term 8 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 94073 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
flag 4662 term 8 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 90369 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69165 term 8 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 25139 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
flag 88523 term 8 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 56628 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51}]
------------------------------------------------------
client write log 3657599045999209815 (index 52) to leader 0
flag 89530 term 8 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 39780 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51} {3657599045999209815 8 52}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51} {3657599045999209815 8 52}]
------------------------------------------------------
flag 33967 term 8 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 8 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 45468 term 8 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51} {3657599045999209815 8 52}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51} {3657599045999209815 8 52}]
------------------------------------------------------
term 8 server 2 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 2
flag 8838 term 8 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 8 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 4220 term 8 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51} {3657599045999209815 8 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51} {3657599045999209815 8 52}]
------------------------------------------------------
flag 75611 term 8 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 8 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 1392 term 8 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51} {3657599045999209815 8 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51} {3657599045999209815 8 52}]
------------------------------------------------------
flag 66579 term 8 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 8 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 21689 term 8 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51} {3657599045999209815 8 52}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51} {3657599045999209815 8 52}]
------------------------------------------------------
flag 9441 term 8 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 8 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 10800 term 8 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51} {3657599045999209815 8 52}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51} {3657599045999209815 8 52}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37964 term 8 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 8 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 926 term 8 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51} {3657599045999209815 8 52}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51} {3657599045999209815 8 52}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 40305 term 8 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 8 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 64122 term 8 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47111 term 8 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 8 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 67220 term 8 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 23514 term 8 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 8 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 94241 term 8 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 85843 term 8 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 8 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 36777 term 8 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 vote for server 1
term 9 server 1 get vote from server 2
term 9 server 1 become leader
------------------------------------------------------
flag 3133 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 21487 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51} {3657599045999209815 8 52}]
------------------------------------------------------
flag 75651 term 8 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 8 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 83872 term 8 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
client write log 4967957728928337740 (index 53) to leader 1
flag 26053 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 45354 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51} {3657599045999209815 8 52} {4967957728928337740 9 53}]
------------------------------------------------------
flag 60602 term 8 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 8 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 84514 term 8 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 53->52
------------------------------------------------------
flag 60251 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 5848 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51} {3657599045999209815 8 52} {4967957728928337740 9 53}]
------------------------------------------------------
client write log 8238673806661706009 (index 54) to leader 1
client write log 3730480947898465774 (index 55) to leader 1
client write log 7592090283122291205 (index 56) to leader 1
client write log 5092955458241832673 (index 57) to leader 1
client write log 6045225074735635959 (index 58) to leader 1
client write log 1316242532028878479 (index 59) to leader 1
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 52
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 33623 term 8 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
flag 42785 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 12701 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 6 49} {2192666478659379133 6 50} {3657599045999209815 6 51} {3657599045999209815 8 52} {4967957728928337740 9 53} {8238673806661706009 9 54} {3730480947898465774 9 55} {7592090283122291205 9 56} {5092955458241832673 9 57} {6045225074735635959 9 58} {1316242532028878479 9 59}]
------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 52
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 55814 term 8 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 91220 term 9 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 9 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
!!!!!!connect server 0
client write log 958481286718462286 (index 60) to leader 1
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 52
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 91277 term 8 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 9 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 78469 term 9 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 9 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {958481286718462286 9 60}]
------------------------------------------------------
term 9 server 0 InstallSnapshot success
------------------------------------------------------
term 9 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
flag 92071 term 9 leader 1 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 78498 term 9 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {958481286718462286 9 60}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {958481286718462286 9 60}]
------------------------------------------------------
flag 45286 term 9 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 96008 term 9 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {958481286718462286 9 60}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {958481286718462286 9 60}]
------------------------------------------------------
flag 36710 term 9 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 24123 term 9 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {958481286718462286 9 60}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {958481286718462286 9 60}]
------------------------------------------------------
flag 79339 term 9 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 17568 term 9 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {958481286718462286 9 60}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {958481286718462286 9 60}]
------------------------------------------------------
flag 39552 term 9 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 35227 term 9 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {958481286718462286 9 60}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {958481286718462286 9 60}]
------------------------------------------------------
flag 74476 term 9 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 2067 term 9 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {958481286718462286 9 60}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {958481286718462286 9 60}]
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71396 term 9 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 10086 term 9 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {958481286718462286 9 60}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {958481286718462286 9 60}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6032778542553182525 (index 61) to leader 1
flag 14313 term 9 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 18930 term 9 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 61->60
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74063 term 9 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 9 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 60
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61}]
------------------------------------------------------
client write log 6776127623497253736 (index 62) to leader 1
client write log 6437290119508243542 (index 63) to leader 1
client write log 3649824665913406900 (index 64) to leader 1
client write log 3157064074668828001 (index 65) to leader 1
client write log 6128729471838537896 (index 66) to leader 1
client write log 6329468541890780008 (index 67) to leader 1
client write log 1226188883404192066 (index 68) to leader 1
flag 38321 term 9 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 9 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 60
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68}]
------------------------------------------------------
flag 44512 term 9 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 9 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 60
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68}]
------------------------------------------------------
!!!!!!connect server 2
client write log 4579484526991002973 (index 69) to leader 1
flag 40424 term 9 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 9 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 60
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 10 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 2 vote for server 1
term 11 server 0 vote for server 1
term 11 server 1 get vote from server 2
term 11 server 1 become leader
------------------------------------------------------
term 11 server 1 get outdate rpc reply from server 0
flag 26613 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 74620 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 70->69
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
flag 27410 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 4732 term 11 leader 1 nextIndex[2]: 61  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
term 11 server 0 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36517 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 61086 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
flag 83893 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 41106 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
flag 1536 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 96814 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
flag 39277 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 94913 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91266 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 49335 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
flag 11103 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 10360 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40023 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 46905 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
flag 14614 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 9563 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
flag 58161 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 21767 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
flag 41254 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 40580 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83229 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 74078 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87077 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 27589 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59750 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 9411 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
flag 68835 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 69556 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
flag 97656 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 53969 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
flag 83022 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 39666 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
flag 49563 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 33826 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69}]
------------------------------------------------------
client write log 4579484526991002973 (index 70) to leader 1
flag 63781 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 45385 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69} {4579484526991002973 11 70}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 59} {958481286718462286 9 60} {6032778542553182525 9 61} {6776127623497253736 9 62} {6437290119508243542 9 63} {3649824665913406900 9 64} {3157064074668828001 9 65} {6128729471838537896 9 66} {6329468541890780008 9 67} {1226188883404192066 9 68} {4579484526991002973 9 69} {4579484526991002973 11 70}]
------------------------------------------------------
term 11 Server1 start snapshot! index=69
term 11 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
flag 13691 term 11 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 94133 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {4579484526991002973 11 70}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {4579484526991002973 11 70}]
------------------------------------------------------
term 11 Server2 start snapshot! index=69
term 11 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
flag 22112 term 11 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 55776 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {4579484526991002973 11 70}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {4579484526991002973 11 70}]
------------------------------------------------------
term 11 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 server 0 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 0
flag 1243 term 11 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 80415 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {4579484526991002973 11 70}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {4579484526991002973 11 70}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93967 term 11 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 6323 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {4579484526991002973 11 70}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {4579484526991002973 11 70}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18377 term 11 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 88088 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {4579484526991002973 11 70}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {4579484526991002973 11 70}]
------------------------------------------------------
flag 16691 term 11 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 12547 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {4579484526991002973 11 70}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {4579484526991002973 11 70}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3251190508286940780 (index 71) to leader 1
flag 1128 term 11 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 83794 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {4579484526991002973 11 70} {3251190508286940780 11 71}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32057 term 11 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 51097 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {4579484526991002973 11 70} {3251190508286940780 11 71}]
------------------------------------------------------
client write log 293376368988900146 (index 72) to leader 1
client write log 6828935190192210702 (index 73) to leader 1
client write log 52051375745942539 (index 74) to leader 1
client write log 6685307454659600624 (index 75) to leader 1
client write log 160991584536028686 (index 76) to leader 1
client write log 1548834131862943972 (index 77) to leader 1
client write log 6683082823797304608 (index 78) to leader 1
client write log 8871579533580201353 (index 79) to leader 1
client write log 5148903039106851914 (index 80) to leader 1
client write log 2138164044363782882 (index 81) to leader 1
client write log 8269188269159521823 (index 82) to leader 1
client write log 7178838487807796921 (index 83) to leader 1
client write log 6233060114957159272 (index 84) to leader 1
client write log 1022031436072664622 (index 85) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10962 term 11 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 14210 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 9 69} {4579484526991002973 11 70} {3251190508286940780 11 71} {293376368988900146 11 72} {6828935190192210702 11 73} {52051375745942539 11 74} {6685307454659600624 11 75} {160991584536028686 11 76} {1548834131862943972 11 77} {6683082823797304608 11 78} {8871579533580201353 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85}]
------------------------------------------------------
term 11 Server1 start snapshot! index=79
term 11 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=85
-------------------------------------------------------------
flag 3164 term 11 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 11 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85}]
------------------------------------------------------
term 11 Server0 start snapshot! index=79
term 11 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=85
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 2
client write log 8730497126430725276 (index 86) to leader 1
term 11 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 80 matchIndex[2] 79 
------------------------------------------------------------------------
flag 45964 term 11 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 11 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 31608 term 11 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 11 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 12 server 2 AppendEntries false 领导者任期过期 args.Term 11
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 12 server 1 not vote for server 2, 日志不够新
term 11 server 0 not vote for server 2, 日志不够新
term 14 server 2 vote for server 0
term 14 server 0 get vote from server 2
term 14 server 0 become leader
------------------------------------------------------
term 14 server 1 vote for server 0
term 14 server 0 get outdate rpc reply from server 1
flag 91739 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 71719 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 87->86
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
flag 27192 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 71  matchIndex[2]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
term 14 server 2 InstallSnapshot success
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 80 matchIndex[2] 79 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 11 rf.commitIndex 79 rf.lastApplied 79
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
flag 61507 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 25888 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92929 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 38854 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
term 14 server 1 not vote for server 2, 任期不够新
term 14 server 2 get outdate rpc reply from server 1
flag 32613 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 23969 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
flag 53468 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 94907 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
term 14 server 0 not vote for server 2, 任期不够新
term 14 server 2 get outdate rpc reply from server 0
flag 4484 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 57475 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
flag 59470 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 81837 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
flag 21599 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 65740 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
flag 12611 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 51783 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
flag 27890 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 12658 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
flag 65524 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 40102 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
flag 36978 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 25104 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98175 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 96291 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37472 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 68134 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26680 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 98204 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86}]
------------------------------------------------------
client write log 8730497126430725276 (index 87) to leader 0
flag 88859 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 26508 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86} {8730497126430725276 14 87}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86} {8730497126430725276 14 87}]
------------------------------------------------------
flag 58018 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 5040 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86} {8730497126430725276 14 87}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86} {8730497126430725276 14 87}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75237 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 40327 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86} {8730497126430725276 14 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86} {8730497126430725276 14 87}]
------------------------------------------------------
flag 54638 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 74294 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86} {8730497126430725276 14 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86} {8730497126430725276 14 87}]
------------------------------------------------------
flag 20168 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 40855 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86} {8730497126430725276 14 87}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86} {8730497126430725276 14 87}]
------------------------------------------------------
flag 66556 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 64855 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86} {8730497126430725276 14 87}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86} {8730497126430725276 14 87}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 44440 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 18345 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 85836 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 21243 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47532 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 56484 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 15 server 2 vote for server 1
term 15 server 1 get vote from server 2
term 15 server 1 become leader
------------------------------------------------------
flag 81778 term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 33788 term 15 leader 1 nextIndex[2]: 88  matchIndex[2]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86} {8730497126430725276 14 87}]
------------------------------------------------------
client write log 6398409517195606403 (index 88) to leader 1
flag 9593 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 7548 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 63900 term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 69982 term 15 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86} {8730497126430725276 14 87} {6398409517195606403 15 88}]
------------------------------------------------------
flag 94689 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 67128 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 43873 term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 21771 term 15 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86} {8730497126430725276 14 87} {6398409517195606403 15 88}]
------------------------------------------------------
flag 78579 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 44971 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
client write log 7308838544161100595 (index 89) to leader 1
client write log 3749280186597565791 (index 90) to leader 1
client write log 3415327939169521949 (index 91) to leader 1
client write log 4651474402146839231 (index 92) to leader 1
client write log 2804323950911213197 (index 93) to leader 1
client write log 7857695296941228651 (index 94) to leader 1
client write log 7085281011020468431 (index 95) to leader 1
client write log 1472695787435385559 (index 96) to leader 1
client write log 2821812064689535469 (index 97) to leader 1
flag 37648 term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 36261 term 15 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 79} {5148903039106851914 11 80} {2138164044363782882 11 81} {8269188269159521823 11 82} {7178838487807796921 11 83} {6233060114957159272 11 84} {1022031436072664622 11 85} {8730497126430725276 11 86} {8730497126430725276 14 87} {6398409517195606403 15 88} {7308838544161100595 15 89} {3749280186597565791 15 90} {3415327939169521949 15 91} {4651474402146839231 15 92} {2804323950911213197 15 93} {7857695296941228651 15 94} {7085281011020468431 15 95} {1472695787435385559 15 96} {2821812064689535469 15 97}]
------------------------------------------------------
term 15 Server1 start snapshot! index=89
term 15 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=97
-------------------------------------------------------------
flag 41258 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 52483 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 0
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 15
------------------------------------------------------
flag 89528 term 15 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 15 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 15 leaderCommit: 97 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 15 89} {3749280186597565791 15 90} {3415327939169521949 15 91} {4651474402146839231 15 92} {2804323950911213197 15 93} {7857695296941228651 15 94} {7085281011020468431 15 95} {1472695787435385559 15 96} {2821812064689535469 15 97}]
------------------------------------------------------
term 15 Server2 start snapshot! index=89
term 15 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=97
-------------------------------------------------------------
flag 70264 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 56837 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
!!!!!!connect server 0
client write log 6760952963606233321 (index 98) to leader 1
term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 0
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 15
------------------------------------------------------
flag 77693 term 15 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 15 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 15 leaderCommit: 97 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3749280186597565791 15 90} {3415327939169521949 15 91} {4651474402146839231 15 92} {2804323950911213197 15 93} {7857695296941228651 15 94} {7085281011020468431 15 95} {1472695787435385559 15 96} {2821812064689535469 15 97} {6760952963606233321 15 98}]
------------------------------------------------------
term 15 server 0 InstallSnapshot success
------------------------------------------------------
term 15 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 15 rf.commitIndex 89 rf.lastApplied 89
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71875 term 15 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 15 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 293 term 15 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 15 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3749280186597565791 15 90} {3415327939169521949 15 91} {4651474402146839231 15 92} {2804323950911213197 15 93} {7857695296941228651 15 94} {7085281011020468431 15 95} {1472695787435385559 15 96} {2821812064689535469 15 97} {6760952963606233321 15 98}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3749280186597565791 15 90} {3415327939169521949 15 91} {4651474402146839231 15 92} {2804323950911213197 15 93} {7857695296941228651 15 94} {7085281011020468431 15 95} {1472695787435385559 15 96} {2821812064689535469 15 97} {6760952963606233321 15 98}]
------------------------------------------------------
flag 17936 term 15 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 15 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 27664 term 15 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 15 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3749280186597565791 15 90} {3415327939169521949 15 91} {4651474402146839231 15 92} {2804323950911213197 15 93} {7857695296941228651 15 94} {7085281011020468431 15 95} {1472695787435385559 15 96} {2821812064689535469 15 97} {6760952963606233321 15 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3749280186597565791 15 90} {3415327939169521949 15 91} {4651474402146839231 15 92} {2804323950911213197 15 93} {7857695296941228651 15 94} {7085281011020468431 15 95} {1472695787435385559 15 96} {2821812064689535469 15 97} {6760952963606233321 15 98}]
------------------------------------------------------
flag 18472 term 15 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 15 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 19705 term 15 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 15 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3749280186597565791 15 90} {3415327939169521949 15 91} {4651474402146839231 15 92} {2804323950911213197 15 93} {7857695296941228651 15 94} {7085281011020468431 15 95} {1472695787435385559 15 96} {2821812064689535469 15 97} {6760952963606233321 15 98}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3749280186597565791 15 90} {3415327939169521949 15 91} {4651474402146839231 15 92} {2804323950911213197 15 93} {7857695296941228651 15 94} {7085281011020468431 15 95} {1472695787435385559 15 96} {2821812064689535469 15 97} {6760952963606233321 15 98}]
------------------------------------------------------
flag 90110 term 15 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 15 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 48557 term 15 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 15 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3749280186597565791 15 90} {3415327939169521949 15 91} {4651474402146839231 15 92} {2804323950911213197 15 93} {7857695296941228651 15 94} {7085281011020468431 15 95} {1472695787435385559 15 96} {2821812064689535469 15 97} {6760952963606233321 15 98}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3749280186597565791 15 90} {3415327939169521949 15 91} {4651474402146839231 15 92} {2804323950911213197 15 93} {7857695296941228651 15 94} {7085281011020468431 15 95} {1472695787435385559 15 96} {2821812064689535469 15 97} {6760952963606233321 15 98}]
------------------------------------------------------
flag 30620 term 15 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 15 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 83864 term 15 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 15 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3749280186597565791 15 90} {3415327939169521949 15 91} {4651474402146839231 15 92} {2804323950911213197 15 93} {7857695296941228651 15 94} {7085281011020468431 15 95} {1472695787435385559 15 96} {2821812064689535469 15 97} {6760952963606233321 15 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3749280186597565791 15 90} {3415327939169521949 15 91} {4651474402146839231 15 92} {2804323950911213197 15 93} {7857695296941228651 15 94} {7085281011020468431 15 95} {1472695787435385559 15 96} {2821812064689535469 15 97} {6760952963606233321 15 98}]
------------------------------------------------------
flag 15852 term 15 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 15 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 13170 term 15 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 15 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3749280186597565791 15 90} {3415327939169521949 15 91} {4651474402146839231 15 92} {2804323950911213197 15 93} {7857695296941228651 15 94} {7085281011020468431 15 95} {1472695787435385559 15 96} {2821812064689535469 15 97} {6760952963606233321 15 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3749280186597565791 15 90} {3415327939169521949 15 91} {4651474402146839231 15 92} {2804323950911213197 15 93} {7857695296941228651 15 94} {7085281011020468431 15 95} {1472695787435385559 15 96} {2821812064689535469 15 97} {6760952963606233321 15 98}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1451438614291903880 (index 99) to leader 1
flag 64065 term 15 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 15 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 66531 term 15 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 15 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 15 89} {3749280186597565791 15 90} {3415327939169521949 15 91} {4651474402146839231 15 92} {2804323950911213197 15 93} {7857695296941228651 15 94} {7085281011020468431 15 95} {1472695787435385559 15 96} {2821812064689535469 15 97} {6760952963606233321 15 98} {1451438614291903880 15 99}]
------------------------------------------------------
term 15 Server1 start snapshot! index=99
term 15 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
flag 70444 term 15 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 15 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 99 
------------------------------------------------------
term 15 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 15 99}]
------------------------------------------------------
term 15 Server0 start snapshot! index=99
term 15 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
client write log 3827009631123764823 (index 100) to leader 1
client write log 7378676453703022205 (index 101) to leader 1
client write log 8976134651165349315 (index 102) to leader 1
client write log 8066307506091020980 (index 103) to leader 1
client write log 6613225915905493204 (index 104) to leader 1
client write log 7267825987473204636 (index 105) to leader 1
client write log 2076431258201180596 (index 106) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 100->99
------------------------------------------------------
term 15 leader 1 nextIndex[0]: 0  matchIndex[0]: 99
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 15
------------------------------------------------------
term 15 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 0 InstallSnapshot fail
rf.commitIndex 99 args.LastIncludedIndex 99
------------------------------------------------------
term 15 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 100 matchIndex[0] 99 
------------------------------------------------------------------------
flag 98242 term 15 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 15 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 99 
------------------------------------------------------
term 15 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 15 99} {3827009631123764823 15 100} {7378676453703022205 15 101} {8976134651165349315 15 102} {8066307506091020980 15 103} {6613225915905493204 15 104} {7267825987473204636 15 105} {2076431258201180596 15 106}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55554 term 15 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 15 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 15 leaderCommit: 106 
------------------------------------------------------
term 15 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 15 99} {3827009631123764823 15 100} {7378676453703022205 15 101} {8976134651165349315 15 102} {8066307506091020980 15 103} {6613225915905493204 15 104} {7267825987473204636 15 105} {2076431258201180596 15 106}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1987755728107783708 (index 107) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82823 term 15 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 15 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 15 leaderCommit: 106 
------------------------------------------------------
term 15 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 15 99} {3827009631123764823 15 100} {7378676453703022205 15 101} {8976134651165349315 15 102} {8066307506091020980 15 103} {6613225915905493204 15 104} {7267825987473204636 15 105} {2076431258201180596 15 106} {1987755728107783708 15 107}]
------------------------------------------------------
term 16 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 15 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 17 server 2 vote for server 1
term 17 server 0 vote for server 1
term 17 server 1 get vote from server 2
term 17 server 1 become leader
------------------------------------------------------
term 17 server 1 get outdate rpc reply from server 0
flag 2561 term 17 leader 1 nextIndex[0]: 108  matchIndex[0]: 0
term 17 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 15 leaderCommit: 107 
------------------------------------------------------
flag 22609 term 17 leader 1 nextIndex[2]: 108  matchIndex[2]: 0
term 17 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 15 leaderCommit: 107 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 15 99} {3827009631123764823 15 100} {7378676453703022205 15 101} {8976134651165349315 15 102} {8066307506091020980 15 103} {6613225915905493204 15 104} {7267825987473204636 15 105} {2076431258201180596 15 106} {1987755728107783708 15 107}]
term 17 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 108->107
------------------------------------------------------
flag 51531 term 17 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 17 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 15 leaderCommit: 107 
------------------------------------------------------
term 17 leader 1 nextIndex[2]: 99  matchIndex[2]: 0
term 17 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 15
------------------------------------------------------
term 17 server 2 InstallSnapshot success
------------------------------------------------------
term 17 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 15 rf.commitIndex 99 rf.lastApplied 99
term 17 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 15 99} {3827009631123764823 15 100} {7378676453703022205 15 101} {8976134651165349315 15 102} {8066307506091020980 15 103} {6613225915905493204 15 104} {7267825987473204636 15 105} {2076431258201180596 15 106} {1987755728107783708 15 107}]
------------------------------------------------------
term 17 server 1 not vote for server 2, 任期不够新
term 17 server 2 get outdate rpc reply from server 1
flag 26932 term 17 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 17 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 15 leaderCommit: 107 
------------------------------------------------------
flag 19517 term 17 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 17 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 107 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 15 99} {3827009631123764823 15 100} {7378676453703022205 15 101} {8976134651165349315 15 102} {8066307506091020980 15 103} {6613225915905493204 15 104} {7267825987473204636 15 105} {2076431258201180596 15 106} {1987755728107783708 15 107}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 15 99} {3827009631123764823 15 100} {7378676453703022205 15 101} {8976134651165349315 15 102} {8066307506091020980 15 103} {6613225915905493204 15 104} {7267825987473204636 15 105} {2076431258201180596 15 106} {1987755728107783708 15 107}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52345 term 17 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 17 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 15 leaderCommit: 107 
------------------------------------------------------
flag 89182 term 17 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 17 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 15 leaderCommit: 107 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 15 99} {3827009631123764823 15 100} {7378676453703022205 15 101} {8976134651165349315 15 102} {8066307506091020980 15 103} {6613225915905493204 15 104} {7267825987473204636 15 105} {2076431258201180596 15 106} {1987755728107783708 15 107}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 15 99} {3827009631123764823 15 100} {7378676453703022205 15 101} {8976134651165349315 15 102} {8066307506091020980 15 103} {6613225915905493204 15 104} {7267825987473204636 15 105} {2076431258201180596 15 106} {1987755728107783708 15 107}]
------------------------------------------------------
flag 42522 term 17 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 17 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 15 leaderCommit: 107 
------------------------------------------------------
flag 73828 term 17 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 17 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 15 leaderCommit: 107 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 15 99} {3827009631123764823 15 100} {7378676453703022205 15 101} {8976134651165349315 15 102} {8066307506091020980 15 103} {6613225915905493204 15 104} {7267825987473204636 15 105} {2076431258201180596 15 106} {1987755728107783708 15 107}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 15 99} {3827009631123764823 15 100} {7378676453703022205 15 101} {8976134651165349315 15 102} {8066307506091020980 15 103} {6613225915905493204 15 104} {7267825987473204636 15 105} {2076431258201180596 15 106} {1987755728107783708 15 107}]
------------------------------------------------------
term 17 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91446 term 17 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 17 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 15 leaderCommit: 107 
------------------------------------------------------
flag 67114 term 17 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 17 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 15 leaderCommit: 107 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 15 99} {3827009631123764823 15 100} {7378676453703022205 15 101} {8976134651165349315 15 102} {8066307506091020980 15 103} {6613225915905493204 15 104} {7267825987473204636 15 105} {2076431258201180596 15 106} {1987755728107783708 15 107}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 15 99} {3827009631123764823 15 100} {7378676453703022205 15 101} {8976134651165349315 15 102} {8066307506091020980 15 103} {6613225915905493204 15 104} {7267825987473204636 15 105} {2076431258201180596 15 106} {1987755728107783708 15 107}]
------------------------------------------------------
term 17 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94158 term 17 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 17 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 15 leaderCommit: 107 
------------------------------------------------------
flag 56869 term 17 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 17 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 15 leaderCommit: 107 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 15 99} {3827009631123764823 15 100} {7378676453703022205 15 101} {8976134651165349315 15 102} {8066307506091020980 15 103} {6613225915905493204 15 104} {7267825987473204636 15 105} {2076431258201180596 15 106} {1987755728107783708 15 107}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 15 99} {3827009631123764823 15 100} {7378676453703022205 15 101} {8976134651165349315 15 102} {8066307506091020980 15 103} {6613225915905493204 15 104} {7267825987473204636 15 105} {2076431258201180596 15 106} {1987755728107783708 15 107}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82554 term 17 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 17 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 15 leaderCommit: 107 
------------------------------------------------------
flag 64399 term 17 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 17 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 15 leaderCommit: 107 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 15 99} {3827009631123764823 15 100} {7378676453703022205 15 101} {8976134651165349315 15 102} {8066307506091020980 15 103} {6613225915905493204 15 104} {7267825987473204636 15 105} {2076431258201180596 15 106} {1987755728107783708 15 107}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 15 99} {3827009631123764823 15 100} {7378676453703022205 15 101} {8976134651165349315 15 102} {8066307506091020980 15 103} {6613225915905493204 15 104} {7267825987473204636 15 105} {2076431258201180596 15 106} {1987755728107783708 15 107}]
------------------------------------------------------
flag 72252 term 17 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 17 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 15 leaderCommit: 107 
------------------------------------------------------
flag 60372 term 17 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 17 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 15 leaderCommit: 107 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 15 99} {3827009631123764823 15 100} {7378676453703022205 15 101} {8976134651165349315 15 102} {8066307506091020980 15 103} {6613225915905493204 15 104} {7267825987473204636 15 105} {2076431258201180596 15 106} {1987755728107783708 15 107}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 15 99} {3827009631123764823 15 100} {7378676453703022205 15 101} {8976134651165349315 15 102} {8066307506091020980 15 103} {6613225915905493204 15 104} {7267825987473204636 15 105} {2076431258201180596 15 106} {1987755728107783708 15 107}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4801397479059489435 (index 108) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92676 term 17 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 17 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 15 leaderCommit: 107 
------------------------------------------------------
flag 26697 term 17 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 17 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 15 leaderCommit: 107 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 15 99} {3827009631123764823 15 100} {7378676453703022205 15 101} {8976134651165349315 15 102} {8066307506091020980 15 103} {6613225915905493204 15 104} {7267825987473204636 15 105} {2076431258201180596 15 106} {1987755728107783708 15 107} {4801397479059489435 17 108}]
------------------------------------------------------
term 17 server 0 not vote for server 1, 任期不够新
term 17 server 1 get outdate rpc reply from server 0
flag 42418 term 17 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 17 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 108 
------------------------------------------------------
flag 60491 term 17 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 17 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 15 leaderCommit: 108 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 15 99} {3827009631123764823 15 100} {7378676453703022205 15 101} {8976134651165349315 15 102} {8066307506091020980 15 103} {6613225915905493204 15 104} {7267825987473204636 15 105} {2076431258201180596 15 106} {1987755728107783708 15 107} {4801397479059489435 17 108}]
------------------------------------------------------
client write log 6792470350368428607 (index 109) to leader 1
client write log 8212102239065251830 (index 110) to leader 1
client write log 3604044728489746333 (index 111) to leader 1
client write log 3732432632662009244 (index 112) to leader 1
client write log 2699063901405380764 (index 113) to leader 1
client write log 4222775559805335633 (index 114) to leader 1
client write log 5559157296362065730 (index 115) to leader 1
client write log 4100264760018706373 (index 116) to leader 1
flag 92744 term 17 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 17 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 108 
------------------------------------------------------
flag 41805 term 17 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 17 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 15 leaderCommit: 108 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 15 99} {3827009631123764823 15 100} {7378676453703022205 15 101} {8976134651165349315 15 102} {8066307506091020980 15 103} {6613225915905493204 15 104} {7267825987473204636 15 105} {2076431258201180596 15 106} {1987755728107783708 15 107} {4801397479059489435 17 108} {6792470350368428607 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116}]
------------------------------------------------------
term 17 Server1 start snapshot! index=109
term 17 server1 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=116
-------------------------------------------------------------
flag 60945 term 17 leader 1 nextIndex[0]: 117  matchIndex[0]: 116
term 17 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 17 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 17 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116}]
------------------------------------------------------
term 17 Server0 start snapshot! index=109
term 17 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=116
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6541515887452352985 (index 117) to leader 1
term 17 server 1 not vote for server 2, 日志不够新
term 17 server 0 not vote for server 2, 日志不够新
term 19 server 2 vote for server 1
term 19 server 1 get vote from server 2
term 19 server 1 become leader
------------------------------------------------------
term 19 server 0 vote for server 1
term 19 server 1 get outdate rpc reply from server 0
flag 8267 term 19 leader 1 nextIndex[0]: 118  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 73591 term 19 leader 1 nextIndex[2]: 118  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 19 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 118->117
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 118->117
------------------------------------------------------
flag 48036 term 19 leader 1 nextIndex[0]: 117  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 108  matchIndex[2]: 0
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
term 19 server 2 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 17 rf.commitIndex 109 rf.lastApplied 109
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72913 term 19 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 36178 term 19 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
flag 17458 term 19 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 71282 term 19 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
flag 73048 term 19 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 41412 term 19 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13469 term 19 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 56120 term 19 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
flag 95808 term 19 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 77761 term 19 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40292 term 19 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 94800 term 19 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59084 term 19 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 88670 term 19 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
flag 66037 term 19 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 86096 term 19 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
flag 84603 term 19 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 38371 term 19 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
flag 84417 term 19 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 36217 term 19 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88840 term 19 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 64624 term 19 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
flag 65532 term 19 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 27607 term 19 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38820 term 19 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 45517 term 19 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
flag 10419 term 19 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 5129 term 19 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
flag 580 term 19 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 17394 term 19 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61327 term 19 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 93550 term 19 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96306 term 19 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 88301 term 19 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17587 term 19 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 49841 term 19 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117}]
------------------------------------------------------
client write log 6541515887452352985 (index 118) to leader 1
flag 43078 term 19 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 62371 term 19 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117} {6541515887452352985 19 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117} {6541515887452352985 19 118}]
------------------------------------------------------
flag 44399 term 19 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 60703 term 19 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117} {6541515887452352985 19 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117} {6541515887452352985 19 118}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5326 term 19 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 88320 term 19 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117} {6541515887452352985 19 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117} {6541515887452352985 19 118}]
------------------------------------------------------
flag 10954 term 19 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 63376 term 19 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117} {6541515887452352985 19 118}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117} {6541515887452352985 19 118}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21107 term 19 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 52058 term 19 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117} {6541515887452352985 19 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117} {6541515887452352985 19 118}]
------------------------------------------------------
flag 13080 term 19 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 71189 term 19 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117} {6541515887452352985 19 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117} {6541515887452352985 19 118}]
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 server 1 not vote for server 2, 任期不够新
term 19 server 2 get outdate rpc reply from server 1
!!!!!!diconnect server 1
flag 23038 term 19 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 99035 term 19 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 66855 term 19 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 57400 term 19 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25861 term 19 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 72519 term 19 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27065 term 19 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 57048 term 19 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 vote for server 0
term 20 server 0 get vote from server 2
term 20 server 0 become leader
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92605 term 20 leader 0 nextIndex[1]: 119  matchIndex[1]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 5362 term 20 leader 0 nextIndex[2]: 119  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117} {6541515887452352985 19 118}]
------------------------------------------------------
client write log 7028307777144953578 (index 119) to leader 0
flag 61003 term 19 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 23600 term 19 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 29700 term 20 leader 0 nextIndex[1]: 119  matchIndex[1]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 15600 term 20 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 17 109} {8212102239065251830 17 110} {3604044728489746333 17 111} {3732432632662009244 17 112} {2699063901405380764 17 113} {4222775559805335633 17 114} {5559157296362065730 17 115} {4100264760018706373 17 116} {6541515887452352985 17 117} {6541515887452352985 19 118} {7028307777144953578 20 119}]
------------------------------------------------------
term 20 Server0 start snapshot! index=119
term 20 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 55298 term 19 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 92036 term 19 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 20 leader 0 nextIndex[1]: 119  matchIndex[1]: 0
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 20
------------------------------------------------------
flag 22112 term 20 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 20 119}]
------------------------------------------------------
term 20 Server2 start snapshot! index=119
term 20 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
client write log 7616589305013606761 (index 120) to leader 0
flag 2148 term 19 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 7157 term 19 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 20 leader 0 nextIndex[1]: 119  matchIndex[1]: 0
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 20
------------------------------------------------------
flag 35401 term 20 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
flag 36701 term 19 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 977 term 19 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 20 leader 0 nextIndex[1]: 119  matchIndex[1]: 0
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 20
------------------------------------------------------
flag 80965 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
!!!!!!connect server 1
client write log 1457645146300894712 (index 119) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 119->118
------------------------------------------------------
term 19 leader 1 nextIndex[0]: 0  matchIndex[0]: 118
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
flag 3230 term 19 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 AppendEntries false 领导者任期过期 args.Term 19
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 20 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 20 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 20 leader 0 nextIndex[1]: 119  matchIndex[1]: 0
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 20
------------------------------------------------------
flag 36930 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 20 rf.commitIndex 119 rf.lastApplied 119
term 20 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 20 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
flag 95902 term 20 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
flag 92399 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92729 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
flag 73714 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
term 20 server 1 not vote for server 0, 日志不够新
term 20 server 0 get outdate rpc reply from server 1
flag 73343 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
flag 88133 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61416 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
flag 24760 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 0 not vote for server 2, 任期不够新
term 20 server 2 get outdate rpc reply from server 0
flag 49848 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
flag 92151 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 121->120
------------------------------------------------------
term 20 leader 0 nextIndex[1]: 0  matchIndex[1]: 120
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 20
------------------------------------------------------
flag 39085 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 20 server 1 InstallSnapshot fail
rf.commitIndex 120 args.LastIncludedIndex 119
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
term 20 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
flag 5085 term 20 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
flag 55744 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27956 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
flag 99302 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
flag 52489 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
flag 94832 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
flag 34600 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
flag 90442 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
flag 8235 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
flag 48646 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
flag 8917 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
flag 3018 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
term 20 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
flag 60201 term 20 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
flag 50484 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
flag 46954 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
flag 47343 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 121->120
------------------------------------------------------
term 20 leader 0 nextIndex[1]: 0  matchIndex[1]: 120
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 20
------------------------------------------------------
flag 7670 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 20 server 1 InstallSnapshot fail
rf.commitIndex 120 args.LastIncludedIndex 119
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
term 20 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
flag 14408 term 20 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
flag 3726 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
flag 41193 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
flag 54088 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
flag 84459 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
flag 74534 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {7616589305013606761 20 120}]
------------------------------------------------------
term 20 server 0 not vote for server 2, 任期不够新
term 20 server 2 get outdate rpc reply from server 0
client write log 1457645146300894712 (index 121) to leader 0
flag 73811 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
flag 88099 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 20 119} {7616589305013606761 20 120} {1457645146300894712 20 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 20 119} {7616589305013606761 20 120} {1457645146300894712 20 121}]
------------------------------------------------------
flag 29929 term 20 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 73171 term 20 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 20 119} {7616589305013606761 20 120} {1457645146300894712 20 121}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 20 119} {7616589305013606761 20 120} {1457645146300894712 20 121}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99471 term 20 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 64647 term 20 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 20 119} {7616589305013606761 20 120} {1457645146300894712 20 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 20 119} {7616589305013606761 20 120} {1457645146300894712 20 121}]
------------------------------------------------------
flag 86739 term 20 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 37361 term 20 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 20 119} {7616589305013606761 20 120} {1457645146300894712 20 121}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 20 119} {7616589305013606761 20 120} {1457645146300894712 20 121}]
------------------------------------------------------
term 20 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
flag 23398 term 20 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 70363 term 20 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 20 119} {7616589305013606761 20 120} {1457645146300894712 20 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 20 119} {7616589305013606761 20 120} {1457645146300894712 20 121}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66574 term 20 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 61981 term 20 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 20 119} {7616589305013606761 20 120} {1457645146300894712 20 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 20 119} {7616589305013606761 20 120} {1457645146300894712 20 121}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 965775880379965110 (index 122) to leader 0
flag 38077 term 20 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 9690 term 20 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 20 119} {7616589305013606761 20 120} {1457645146300894712 20 121} {965775880379965110 20 122}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21647 term 20 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 122 
------------------------------------------------------
flag 83757 term 20 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 20 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 20 leaderCommit: 122 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 20 119} {7616589305013606761 20 120} {1457645146300894712 20 121} {965775880379965110 20 122}]
------------------------------------------------------
client write log 7619275845940301637 (index 123) to leader 0
client write log 2330600197934966211 (index 124) to leader 0
client write log 8179398389676787040 (index 125) to leader 0
client write log 3632932809447387940 (index 126) to leader 0
client write log 5497978440570437646 (index 127) to leader 0
client write log 5288320415062361780 (index 128) to leader 0
client write log 3299119539109676010 (index 129) to leader 0
client write log 245322531355909243 (index 130) to leader 0
client write log 6235979509309705225 (index 131) to leader 0
client write log 8404689308331356597 (index 132) to leader 0
flag 80264 term 20 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 122 
------------------------------------------------------
flag 7542 term 20 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 20 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 20 leaderCommit: 122 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 119} {7616589305013606761 20 120} {1457645146300894712 20 121} {965775880379965110 20 122} {7619275845940301637 20 123} {2330600197934966211 20 124} {8179398389676787040 20 125} {3632932809447387940 20 126} {5497978440570437646 20 127} {5288320415062361780 20 128} {3299119539109676010 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132}]
------------------------------------------------------
term 20 Server0 start snapshot! index=129
term 20 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=132
-------------------------------------------------------------
term 20 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
flag 73002 term 20 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 20 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132}]
------------------------------------------------------
term 20 Server2 start snapshot! index=129
term 20 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=132
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8566596389577685348 (index 133) to leader 0
term 20 server 2 not vote for server 1, 日志不够新
term 20 server 0 not vote for server 1, 日志不够新
term 22 server 2 vote for server 0
term 22 server 0 get vote from server 2
term 22 server 1 vote for server 0
term 22 server 0 become leader
------------------------------------------------------
term 22 server 0 get outdate rpc reply from server 1
flag 23825 term 22 leader 0 nextIndex[1]: 134  matchIndex[1]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
flag 22957 term 22 leader 0 nextIndex[2]: 134  matchIndex[2]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
term 22 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 22 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 134->133
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 134->133
------------------------------------------------------
term 22 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 22 leader 0 nextIndex[1]: 122  matchIndex[1]: 0
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
flag 30323 term 22 leader 0 nextIndex[2]: 133  matchIndex[2]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 22 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
term 22 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 20 rf.commitIndex 129 rf.lastApplied 129
flag 56340 term 22 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 22 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
flag 37628 term 22 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
term 22 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89195 term 22 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
flag 25449 term 22 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
term 22 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
flag 26274 term 22 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
flag 97058 term 22 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
flag 54877 term 22 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
flag 22701 term 22 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
flag 3933 term 22 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
flag 87798 term 22 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
flag 51156 term 22 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
flag 12585 term 22 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66281 term 22 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
flag 87759 term 22 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
flag 30559 term 22 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
flag 33589 term 22 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
flag 37611 term 22 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
flag 18746 term 22 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
flag 37238 term 22 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
flag 33882 term 22 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
term 22 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75859 term 22 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
flag 76762 term 22 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
flag 77891 term 22 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
flag 28038 term 22 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76727 term 22 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
flag 32519 term 22 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72551 term 22 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
flag 67054 term 22 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
flag 71823 term 22 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
flag 99882 term 22 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
flag 3961 term 22 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
flag 5838 term 22 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
flag 81965 term 22 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
flag 24570 term 22 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
flag 58626 term 22 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
flag 78306 term 22 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133}]
------------------------------------------------------
client write log 8566596389577685348 (index 134) to leader 0
flag 43450 term 22 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
flag 22072 term 22 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 22 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 132 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133} {8566596389577685348 22 134}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133} {8566596389577685348 22 134}]
------------------------------------------------------
flag 86113 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
flag 39613 term 22 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133} {8566596389577685348 22 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133} {8566596389577685348 22 134}]
------------------------------------------------------
flag 89736 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
flag 4328 term 22 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133} {8566596389577685348 22 134}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133} {8566596389577685348 22 134}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76823 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
flag 68894 term 22 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133} {8566596389577685348 22 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133} {8566596389577685348 22 134}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15634 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
flag 32277 term 22 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133} {8566596389577685348 22 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133} {8566596389577685348 22 134}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81209 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
flag 31009 term 22 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133} {8566596389577685348 22 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133} {8566596389577685348 22 134}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 369473612091718420 (index 135) to leader 0
flag 99242 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
flag 60491 term 22 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133} {8566596389577685348 22 134} {369473612091718420 22 135}]
------------------------------------------------------
flag 14955 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 135 
------------------------------------------------------
flag 83822 term 22 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 22 leaderCommit: 135 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133} {8566596389577685348 22 134} {369473612091718420 22 135}]
------------------------------------------------------
client write log 8847728341455084586 (index 136) to leader 0
client write log 1367527239073571558 (index 137) to leader 0
client write log 2050716972094670114 (index 138) to leader 0
client write log 7972405867465052543 (index 139) to leader 0
client write log 4337169411327860504 (index 140) to leader 0
client write log 3619575016972203627 (index 141) to leader 0
client write log 5149620859529298678 (index 142) to leader 0
client write log 8454545670991629207 (index 143) to leader 0
client write log 2815244179948430897 (index 144) to leader 0
client write log 5322478821867414014 (index 145) to leader 0
flag 17837 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 135 
------------------------------------------------------
flag 20185 term 22 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 22 leaderCommit: 135 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 20 129} {245322531355909243 20 130} {6235979509309705225 20 131} {8404689308331356597 20 132} {8566596389577685348 20 133} {8566596389577685348 22 134} {369473612091718420 22 135} {8847728341455084586 22 136} {1367527239073571558 22 137} {2050716972094670114 22 138} {7972405867465052543 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145}]
------------------------------------------------------
term 22 Server0 start snapshot! index=139
term 22 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=145
-------------------------------------------------------------
term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
flag 20714 term 22 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 22 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145}]
------------------------------------------------------
term 22 Server2 start snapshot! index=139
term 22 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=145
-------------------------------------------------------------
!!!!!!connect server 1
client write log 424218392953905087 (index 146) to leader 0
term 22 server 2 not vote for server 1, 日志不够新
term 22 server 0 not vote for server 1, 日志不够新
term 24 server 2 vote for server 0
term 24 server 1 vote for server 0
term 24 server 0 get vote from server 2
term 24 server 0 become leader
------------------------------------------------------
term 24 server 0 get outdate rpc reply from server 1
flag 83787 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
flag 42083 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
term 24 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 147->146
------------------------------------------------------
term 24 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 147->146
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 135  matchIndex[1]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
flag 23873 term 24 leader 0 nextIndex[2]: 146  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
term 24 server 1 InstallSnapshot success
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 22 rf.commitIndex 139 rf.lastApplied 139
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11141 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
flag 79168 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
flag 67099 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
flag 23265 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3441 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
flag 27141 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
flag 26789 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
flag 56472 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
flag 97178 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
flag 87276 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2901 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
flag 5611 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
flag 1505 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
flag 47952 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
flag 32133 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
flag 10146 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
flag 7004 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
flag 12503 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
flag 14941 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
flag 60298 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
flag 77083 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
flag 45489 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
flag 34597 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
flag 9985 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
flag 97844 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
flag 96752 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
flag 76789 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
flag 37892 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
flag 50179 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
flag 57776 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
flag 10719 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
flag 36839 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
flag 68635 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
flag 86611 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
flag 37953 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
flag 94172 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146}]
------------------------------------------------------
client write log 424218392953905087 (index 147) to leader 0
flag 87705 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
flag 77610 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146} {424218392953905087 24 147}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146} {424218392953905087 24 147}]
------------------------------------------------------
flag 68516 term 24 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
flag 99045 term 24 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146} {424218392953905087 24 147}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146} {424218392953905087 24 147}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69015 term 24 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
flag 39224 term 24 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146} {424218392953905087 24 147}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146} {424218392953905087 24 147}]
------------------------------------------------------
flag 62987 term 24 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
flag 59119 term 24 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146} {424218392953905087 24 147}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146} {424218392953905087 24 147}]
------------------------------------------------------
flag 26316 term 24 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
flag 11089 term 24 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146} {424218392953905087 24 147}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146} {424218392953905087 24 147}]
------------------------------------------------------
flag 35740 term 24 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
flag 58990 term 24 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146} {424218392953905087 24 147}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146} {424218392953905087 24 147}]
------------------------------------------------------
flag 70276 term 24 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
flag 38571 term 24 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146} {424218392953905087 24 147}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146} {424218392953905087 24 147}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 36487 term 24 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
flag 3944 term 24 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2638 term 24 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
flag 20492 term 24 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
flag 84560 term 24 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
flag 98139 term 24 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
flag 24791 term 24 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
flag 18915 term 24 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 25 server 1 vote for server 2
term 25 server 2 get vote from server 1
term 25 server 2 become leader
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 148->147
------------------------------------------------------
client write log 8851802263264389766 (index 148) to leader 2
flag 84191 term 25 leader 2 nextIndex[0]: 148  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
flag 64600 term 25 leader 2 nextIndex[1]: 148  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146} {424218392953905087 24 147} {8851802263264389766 25 148}]
------------------------------------------------------
flag 64611 term 24 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 0  matchIndex[2]: 147
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
flag 80787 term 25 leader 2 nextIndex[0]: 148  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 148 
------------------------------------------------------
flag 75265 term 25 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 25 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 148 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146} {424218392953905087 24 147} {8851802263264389766 25 148}]
------------------------------------------------------
client write log 3770438035229558769 (index 149) to leader 2
flag 26232 term 24 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 0  matchIndex[2]: 147
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
flag 90684 term 25 leader 2 nextIndex[0]: 148  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 148 
------------------------------------------------------
flag 54267 term 25 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 25 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 148 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 22 139} {4337169411327860504 22 140} {3619575016972203627 22 141} {5149620859529298678 22 142} {8454545670991629207 22 143} {2815244179948430897 22 144} {5322478821867414014 22 145} {424218392953905087 22 146} {424218392953905087 24 147} {8851802263264389766 25 148} {3770438035229558769 25 149}]
------------------------------------------------------
term 25 Server2 start snapshot! index=149
term 25 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
flag 17023 term 24 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 0  matchIndex[2]: 147
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
term 25 leader 2 nextIndex[0]: 148  matchIndex[0]: 0
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
flag 13538 term 25 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 25 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 25 149}]
------------------------------------------------------
term 25 Server1 start snapshot! index=149
term 25 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6933127942116737294 (index 150) to leader 2
flag 23635 term 24 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 0  matchIndex[2]: 147
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
term 25 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 server 1 AppendEntries false 领导者任期过期 args.Term 24
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 leader 2 nextIndex[0]: 148  matchIndex[0]: 0
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
flag 49335 term 25 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 25 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {6933127942116737294 25 150}]
------------------------------------------------------
term 25 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 25 rf.commitIndex 149 rf.lastApplied 149
term 25 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
term 25 server 1 not vote for server 0, 日志不够新
term 25 server 2 not vote for server 0, 日志不够新
term 27 server 0 vote for server 2
term 27 server 2 get vote from server 0
term 27 server 2 become leader
------------------------------------------------------
term 27 server 1 vote for server 2
term 27 server 2 get outdate rpc reply from server 1
flag 45058 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 79336 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {6933127942116737294 25 150}]
------------------------------------------------------
term 27 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 151->150
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50448 term 27 leader 2 nextIndex[0]: 150  matchIndex[0]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 6516 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {6933127942116737294 25 150}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {6933127942116737294 25 150}]
------------------------------------------------------
flag 43780 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 19974 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {6933127942116737294 25 150}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {6933127942116737294 25 150}]
------------------------------------------------------
flag 33301 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 27182 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {6933127942116737294 25 150}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {6933127942116737294 25 150}]
------------------------------------------------------
flag 1293 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 48933 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {6933127942116737294 25 150}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {6933127942116737294 25 150}]
------------------------------------------------------
flag 35019 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 6175 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {6933127942116737294 25 150}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {6933127942116737294 25 150}]
------------------------------------------------------
flag 38703 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 40529 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {6933127942116737294 25 150}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {6933127942116737294 25 150}]
------------------------------------------------------
flag 78997 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 87542 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {6933127942116737294 25 150}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {6933127942116737294 25 150}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 65091289540790397 (index 151) to leader 2
flag 87772 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 95691 term 27 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {6933127942116737294 25 150} {65091289540790397 27 151}]
------------------------------------------------------
flag 46131 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
flag 12085 term 27 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 151 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {6933127942116737294 25 150} {65091289540790397 27 151}]
------------------------------------------------------
client write log 6330336363211980373 (index 152) to leader 2
client write log 8183986562460667540 (index 153) to leader 2
client write log 982409474972237961 (index 154) to leader 2
client write log 4158577793353569091 (index 155) to leader 2
client write log 4021463914910578924 (index 156) to leader 2
client write log 8280294221207327146 (index 157) to leader 2
client write log 8423073521392215432 (index 158) to leader 2
client write log 8701202919881817468 (index 159) to leader 2
client write log 1593702981835687471 (index 160) to leader 2
client write log 1724210709957235913 (index 161) to leader 2
client write log 5726562543009026044 (index 162) to leader 2
client write log 4148682352825185612 (index 163) to leader 2
client write log 8846661037372426510 (index 164) to leader 2
client write log 6049323490714809740 (index 165) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99282 term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
flag 94928 term 27 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 151 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 149} {6933127942116737294 25 150} {65091289540790397 27 151} {6330336363211980373 27 152} {8183986562460667540 27 153} {982409474972237961 27 154} {4158577793353569091 27 155} {4021463914910578924 27 156} {8280294221207327146 27 157} {8423073521392215432 27 158} {8701202919881817468 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165}]
------------------------------------------------------
term 27 Server2 start snapshot! index=159
term 27 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=165
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 27
------------------------------------------------------
flag 13607 term 27 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 27 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165}]
------------------------------------------------------
term 27 Server1 start snapshot! index=159
term 27 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=165
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1659979721851757024 (index 166) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 151->150
------------------------------------------------------
term 27 leader 2 nextIndex[0]: 0  matchIndex[0]: 150
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 27
------------------------------------------------------
flag 90539 term 27 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 27 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 28 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 server 0 vote for server 2
term 29 server 1 vote for server 2
term 29 server 2 get vote from server 0
term 29 server 2 become leader
------------------------------------------------------
term 29 server 2 get outdate rpc reply from server 1
flag 68181 term 29 leader 2 nextIndex[0]: 167  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 25359 term 29 leader 2 nextIndex[1]: 167  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
term 29 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 167->166
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 leader 2 nextIndex[0]: 151  matchIndex[0]: 0
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 27
------------------------------------------------------
flag 28775 term 29 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 29 server 0 InstallSnapshot success
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 27 rf.commitIndex 159 rf.lastApplied 159
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8506 term 29 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 29 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 75237 term 29 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
flag 15072 term 29 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 1687 term 29 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
flag 86582 term 29 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 85355 term 29 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
flag 56034 term 29 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 82975 term 29 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
flag 97240 term 29 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 68453 term 29 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
flag 1528 term 29 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 51827 term 29 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66042 term 29 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 30398 term 29 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79543 term 29 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 51167 term 29 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
flag 9833 term 29 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 82331 term 29 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42073 term 29 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 90138 term 29 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
flag 79954 term 29 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 70297 term 29 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
term 29 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
term 29 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16373 term 29 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 69003 term 29 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
flag 21285 term 29 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 40595 term 29 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
flag 49036 term 29 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 75891 term 29 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
term 29 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
flag 22476 term 29 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 6868 term 29 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
term 29 server 0 not vote for server 2, 任期不够新
term 29 server 2 get outdate rpc reply from server 0
flag 28694 term 29 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 55734 term 29 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
flag 30827 term 29 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 22605 term 29 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166}]
------------------------------------------------------
client write log 1659979721851757024 (index 167) to leader 2
flag 24318 term 29 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 23329 term 29 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166} {1659979721851757024 29 167}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166} {1659979721851757024 29 167}]
------------------------------------------------------
flag 50213 term 29 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 167 
------------------------------------------------------
flag 75894 term 29 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 29 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166} {1659979721851757024 29 167}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166} {1659979721851757024 29 167}]
------------------------------------------------------
term 29 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 55785 term 29 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 167 
------------------------------------------------------
flag 21821 term 29 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 29 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 167 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166} {1659979721851757024 29 167}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166} {1659979721851757024 29 167}]
------------------------------------------------------
flag 89586 term 29 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 167 
------------------------------------------------------
flag 15252 term 29 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 29 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166} {1659979721851757024 29 167}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166} {1659979721851757024 29 167}]
------------------------------------------------------
flag 10420 term 29 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 167 
------------------------------------------------------
flag 89646 term 29 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 29 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166} {1659979721851757024 29 167}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166} {1659979721851757024 29 167}]
------------------------------------------------------
flag 86881 term 29 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 167 
------------------------------------------------------
flag 58753 term 29 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 29 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166} {1659979721851757024 29 167}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166} {1659979721851757024 29 167}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4274815470936027849 (index 168) to leader 2
flag 38387 term 29 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 167 
------------------------------------------------------
flag 49133 term 29 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 29 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166} {1659979721851757024 29 167} {4274815470936027849 29 168}]
------------------------------------------------------
flag 73458 term 29 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 49087 term 29 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166} {1659979721851757024 29 167} {4274815470936027849 29 168}]
------------------------------------------------------
client write log 5121632967201039191 (index 169) to leader 2
client write log 1737337875675369218 (index 170) to leader 2
client write log 8826932755980665518 (index 171) to leader 2
client write log 2006899388555167789 (index 172) to leader 2
client write log 2023904890730947009 (index 173) to leader 2
client write log 4613061787483485601 (index 174) to leader 2
client write log 2905365895226758941 (index 175) to leader 2
client write log 8378567131724869867 (index 176) to leader 2
client write log 2410495188883961091 (index 177) to leader 2
client write log 7886996544660732478 (index 178) to leader 2
client write log 5556491038077410721 (index 179) to leader 2
client write log 3636092579708897830 (index 180) to leader 2
client write log 1117494576877862944 (index 181) to leader 2
client write log 7941778641441791286 (index 182) to leader 2
client write log 4048053010537566513 (index 183) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71491 term 29 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 17644 term 29 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 27 159} {1593702981835687471 27 160} {1724210709957235913 27 161} {5726562543009026044 27 162} {4148682352825185612 27 163} {8846661037372426510 27 164} {6049323490714809740 27 165} {1659979721851757024 27 166} {1659979721851757024 29 167} {4274815470936027849 29 168} {5121632967201039191 29 169} {1737337875675369218 29 170} {8826932755980665518 29 171} {2006899388555167789 29 172} {2023904890730947009 29 173} {4613061787483485601 29 174} {2905365895226758941 29 175} {8378567131724869867 29 176} {2410495188883961091 29 177} {7886996544660732478 29 178} {5556491038077410721 29 179} {3636092579708897830 29 180} {1117494576877862944 29 181} {7941778641441791286 29 182} {4048053010537566513 29 183}]
------------------------------------------------------
term 29 Server2 start snapshot! index=169
term 29 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=183
-------------------------------------------------------------
term 29 Server2 start snapshot! index=179
term 29 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=183
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 87911 term 29 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 29 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {3636092579708897830 29 180} {1117494576877862944 29 181} {7941778641441791286 29 182} {4048053010537566513 29 183}]
------------------------------------------------------
term 29 Server1 start snapshot! index=169
term 29 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=183
-------------------------------------------------------------
term 29 Server1 start snapshot! index=179
term 29 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=183
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4952096651706140442 (index 184) to leader 2
term 29 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 92578 term 29 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 29 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {3636092579708897830 29 180} {1117494576877862944 29 181} {7941778641441791286 29 182} {4048053010537566513 29 183} {4952096651706140442 29 184}]
------------------------------------------------------
term 30 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 1 vote for server 2
term 31 server 2 get vote from server 1
term 31 server 2 become leader
------------------------------------------------------
term 31 server 0 vote for server 2
term 31 server 2 get outdate rpc reply from server 0
flag 39918 term 31 leader 2 nextIndex[0]: 185  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 71088 term 31 leader 2 nextIndex[1]: 185  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {3636092579708897830 29 180} {1117494576877862944 29 181} {7941778641441791286 29 182} {4048053010537566513 29 183} {4952096651706140442 29 184}]
------------------------------------------------------
term 31 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 185->184
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 2 nextIndex[0]: 168  matchIndex[0]: 0
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 84517 term 31 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 31 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 29 rf.commitIndex 179 rf.lastApplied 179
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 180 matchIndex[0] 179 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {3636092579708897830 29 180} {1117494576877862944 29 181} {7941778641441791286 29 182} {4048053010537566513 29 183} {4952096651706140442 29 184}]
------------------------------------------------------
flag 85490 term 31 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 31 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 8476 term 31 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {3636092579708897830 29 180} {1117494576877862944 29 181} {7941778641441791286 29 182} {4048053010537566513 29 183} {4952096651706140442 29 184}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {3636092579708897830 29 180} {1117494576877862944 29 181} {7941778641441791286 29 182} {4048053010537566513 29 183} {4952096651706140442 29 184}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1158 term 31 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 97263 term 31 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {3636092579708897830 29 180} {1117494576877862944 29 181} {7941778641441791286 29 182} {4048053010537566513 29 183} {4952096651706140442 29 184}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {3636092579708897830 29 180} {1117494576877862944 29 181} {7941778641441791286 29 182} {4048053010537566513 29 183} {4952096651706140442 29 184}]
------------------------------------------------------
flag 19658 term 31 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 88945 term 31 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
term 31 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
[{snapshot 29 179} {3636092579708897830 29 180} {1117494576877862944 29 181} {7941778641441791286 29 182} {4048053010537566513 29 183} {4952096651706140442 29 184}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {3636092579708897830 29 180} {1117494576877862944 29 181} {7941778641441791286 29 182} {4048053010537566513 29 183} {4952096651706140442 29 184}]
------------------------------------------------------
term 31 server 1 not vote for server 0, 任期不够新
term 31 server 0 get outdate rpc reply from server 1
flag 73607 term 31 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 75206 term 31 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {3636092579708897830 29 180} {1117494576877862944 29 181} {7941778641441791286 29 182} {4048053010537566513 29 183} {4952096651706140442 29 184}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {3636092579708897830 29 180} {1117494576877862944 29 181} {7941778641441791286 29 182} {4048053010537566513 29 183} {4952096651706140442 29 184}]
------------------------------------------------------
term 31 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61238 term 31 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 84689 term 31 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {3636092579708897830 29 180} {1117494576877862944 29 181} {7941778641441791286 29 182} {4048053010537566513 29 183} {4952096651706140442 29 184}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {3636092579708897830 29 180} {1117494576877862944 29 181} {7941778641441791286 29 182} {4048053010537566513 29 183} {4952096651706140442 29 184}]
------------------------------------------------------
flag 38333 term 31 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 29353 term 31 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {3636092579708897830 29 180} {1117494576877862944 29 181} {7941778641441791286 29 182} {4048053010537566513 29 183} {4952096651706140442 29 184}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {3636092579708897830 29 180} {1117494576877862944 29 181} {7941778641441791286 29 182} {4048053010537566513 29 183} {4952096651706140442 29 184}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81506 term 31 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 67553 term 31 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {3636092579708897830 29 180} {1117494576877862944 29 181} {7941778641441791286 29 182} {4048053010537566513 29 183} {4952096651706140442 29 184}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {3636092579708897830 29 180} {1117494576877862944 29 181} {7941778641441791286 29 182} {4048053010537566513 29 183} {4952096651706140442 29 184}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 84368 term 31 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 89676 term 31 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 45662 term 31 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 9682 term 31 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49972 term 31 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 98023 term 31 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 vote for server 0
term 32 server 0 get vote from server 1
term 32 server 0 become leader
------------------------------------------------------
flag 69276 term 32 leader 0 nextIndex[1]: 185  matchIndex[1]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 47034 term 32 leader 0 nextIndex[2]: 185  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {3636092579708897830 29 180} {1117494576877862944 29 181} {7941778641441791286 29 182} {4048053010537566513 29 183} {4952096651706140442 29 184}]
------------------------------------------------------
flag 80461 term 31 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 12844 term 31 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
client write log 8225297188386633197 (index 185) to leader 0
flag 22827 term 32 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 32 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 41556 term 32 leader 0 nextIndex[2]: 185  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {3636092579708897830 29 180} {1117494576877862944 29 181} {7941778641441791286 29 182} {4048053010537566513 29 183} {4952096651706140442 29 184} {8225297188386633197 32 185}]
------------------------------------------------------
flag 71569 term 31 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 39590 term 31 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 26730 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 96615 term 32 leader 0 nextIndex[2]: 185  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {3636092579708897830 29 180} {1117494576877862944 29 181} {7941778641441791286 29 182} {4048053010537566513 29 183} {4952096651706140442 29 184} {8225297188386633197 32 185}]
------------------------------------------------------
client write log 8295935031318882979 (index 186) to leader 0
client write log 3708640980783770311 (index 187) to leader 0
client write log 8558711300394170488 (index 188) to leader 0
client write log 8575874908988199039 (index 189) to leader 0
client write log 2488305498355962517 (index 190) to leader 0
client write log 7294862521250245236 (index 191) to leader 0
flag 93150 term 31 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 78484 term 31 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 185->184
------------------------------------------------------
flag 84918 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 11705 term 32 leader 0 nextIndex[2]: 185  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 179} {3636092579708897830 29 180} {1117494576877862944 29 181} {7941778641441791286 29 182} {4048053010537566513 29 183} {4952096651706140442 29 184} {8225297188386633197 32 185} {8295935031318882979 32 186} {3708640980783770311 32 187} {8558711300394170488 32 188} {8575874908988199039 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
term 32 Server0 start snapshot! index=189
term 32 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=191
-------------------------------------------------------------
term 31 leader 2 nextIndex[0]: 0  matchIndex[0]: 184
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 4162 term 31 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 71349 term 32 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 32 leader 0 nextIndex[2]: 185  matchIndex[2]: 0
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
term 32 Server1 start snapshot! index=189
term 32 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=191
-------------------------------------------------------------
!!!!!!connect server 2
term 31 leader 2 nextIndex[0]: 0  matchIndex[0]: 184
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 93596 term 31 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
client write log 2776237771612055616 (index 185) to leader 2
term 32 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 32 server 1 AppendEntries false 领导者任期过期 args.Term 31
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61735 term 32 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 32 leader 0 nextIndex[2]: 185  matchIndex[2]: 0
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 2 InstallSnapshot success
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
term 32 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 32 rf.commitIndex 189 rf.lastApplied 189
term 32 server 1 not vote for server 2, 日志不够新
term 32 server 0 not vote for server 2, 日志不够新
term 34 server 2 vote for server 0
term 34 server 0 get vote from server 2
term 34 server 0 become leader
------------------------------------------------------
term 34 server 1 vote for server 0
term 34 server 0 get outdate rpc reply from server 1
flag 5554 term 34 leader 0 nextIndex[1]: 192  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 38091 term 34 leader 0 nextIndex[2]: 192  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
term 34 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 192->191
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70619 term 34 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 33442 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77906 term 34 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 1944 term 34 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
flag 60668 term 34 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 77933 term 34 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
flag 46085 term 34 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 81538 term 34 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41340 term 34 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 613 term 34 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1365 term 34 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 27736 term 34 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
flag 45591 term 34 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 71237 term 34 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
flag 62598 term 34 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 66871 term 34 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
flag 90140 term 34 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 1620 term 34 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98097 term 34 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 43111 term 34 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64067 term 34 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 19102 term 34 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21521 term 34 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 23088 term 34 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
flag 50412 term 34 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 97123 term 34 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 34 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
update nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
flag 39226 term 34 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 23719 term 34 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
flag 93377 term 34 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 6964 term 34 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
flag 19723 term 34 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 57849 term 34 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
flag 77796 term 34 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 31906 term 34 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191}]
------------------------------------------------------
client write log 2776237771612055616 (index 192) to leader 0
flag 41181 term 34 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 98038 term 34 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191} {2776237771612055616 34 192}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191} {2776237771612055616 34 192}]
------------------------------------------------------
flag 18645 term 34 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 34 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 34 leaderCommit: 192 
------------------------------------------------------
flag 86042 term 34 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 34 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 34 leaderCommit: 192 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191} {2776237771612055616 34 192}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191} {2776237771612055616 34 192}]
------------------------------------------------------
flag 9548 term 34 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 34 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 34 leaderCommit: 192 
------------------------------------------------------
flag 37897 term 34 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 34 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 34 leaderCommit: 192 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191} {2776237771612055616 34 192}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191} {2776237771612055616 34 192}]
------------------------------------------------------
flag 36919 term 34 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 34 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 34 leaderCommit: 192 
------------------------------------------------------
flag 72873 term 34 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 34 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 34 leaderCommit: 192 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191} {2776237771612055616 34 192}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191} {2776237771612055616 34 192}]
------------------------------------------------------
flag 30245 term 34 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 34 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 34 leaderCommit: 192 
------------------------------------------------------
flag 23253 term 34 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 34 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 34 leaderCommit: 192 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191} {2776237771612055616 34 192}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191} {2776237771612055616 34 192}]
------------------------------------------------------
flag 47255 term 34 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 34 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 34 leaderCommit: 192 
------------------------------------------------------
flag 6110 term 34 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 34 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 34 leaderCommit: 192 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191} {2776237771612055616 34 192}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191} {2776237771612055616 34 192}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 182886788688785451 (index 193) to leader 0
flag 87042 term 34 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 34 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 34 leaderCommit: 192 
------------------------------------------------------
flag 23152 term 34 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 34 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 34 leaderCommit: 192 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191} {2776237771612055616 34 192} {182886788688785451 34 193}]
------------------------------------------------------
flag 49376 term 34 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 34 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 34 leaderCommit: 193 
------------------------------------------------------
flag 53256 term 34 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 34 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 34 leaderCommit: 193 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191} {2776237771612055616 34 192} {182886788688785451 34 193}]
------------------------------------------------------
client write log 9194002986405440591 (index 194) to leader 0
client write log 991047889487903683 (index 195) to leader 0
client write log 7543851295949849106 (index 196) to leader 0
client write log 2163673771734309010 (index 197) to leader 0
client write log 6463281159709613774 (index 198) to leader 0
client write log 8492030634865002347 (index 199) to leader 0
client write log 5621831441470339382 (index 200) to leader 0
flag 92323 term 34 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 34 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 34 leaderCommit: 193 
------------------------------------------------------
flag 25659 term 34 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 34 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 34 leaderCommit: 193 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 32 189} {2488305498355962517 32 190} {7294862521250245236 32 191} {2776237771612055616 34 192} {182886788688785451 34 193} {9194002986405440591 34 194} {991047889487903683 34 195} {7543851295949849106 34 196} {2163673771734309010 34 197} {6463281159709613774 34 198} {8492030634865002347 34 199} {5621831441470339382 34 200}]
------------------------------------------------------
term 34 Server0 start snapshot! index=199
term 34 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=200
-------------------------------------------------------------
term 34 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 34
------------------------------------------------------
flag 98895 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {5621831441470339382 34 200}]
------------------------------------------------------
term 34 Server2 start snapshot! index=199
term 34 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=200
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5300978685781583719 (index 201) to leader 0
term 34 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 34
------------------------------------------------------
flag 48602 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 34 199} {5621831441470339382 34 200} {5300978685781583719 34 201}]
------------------------------------------------------
term 35 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 2 vote for server 0
term 36 server 0 get vote from server 2
term 36 server 1 vote for server 0
term 36 server 0 become leader
------------------------------------------------------
term 36 server 0 get outdate rpc reply from server 1
flag 4790 term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
flag 65880 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
term 36 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 34 199} {5621831441470339382 34 200} {5300978685781583719 34 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 202->201
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 193  matchIndex[1]: 0
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 34
------------------------------------------------------
flag 92163 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 34 199} {5621831441470339382 34 200} {5300978685781583719 34 201}]
------------------------------------------------------
term 36 server 1 InstallSnapshot success
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 34 rf.commitIndex 199 rf.lastApplied 199
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 0 not vote for server 1, 任期不够新
term 36 server 1 get outdate rpc reply from server 0
flag 72352 term 36 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 36 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
flag 59058 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 34 199} {5621831441470339382 34 200} {5300978685781583719 34 201}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 34 199} {5621831441470339382 34 200} {5300978685781583719 34 201}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 241 term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
flag 58355 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
term 36 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
[{snapshot 34 199} {5621831441470339382 34 200} {5300978685781583719 34 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 34 199} {5621831441470339382 34 200} {5300978685781583719 34 201}]
------------------------------------------------------
term 36 server 1 not vote for server 0, 任期不够新
term 36 server 0 get outdate rpc reply from server 1
flag 32863 term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
flag 9887 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 34 199} {5621831441470339382 34 200} {5300978685781583719 34 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 34 199} {5621831441470339382 34 200} {5300978685781583719 34 201}]
------------------------------------------------------
flag 19565 term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
flag 72399 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 34 199} {5621831441470339382 34 200} {5300978685781583719 34 201}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 34 199} {5621831441470339382 34 200} {5300978685781583719 34 201}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70641 term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
flag 24307 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 34 199} {5621831441470339382 34 200} {5300978685781583719 34 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 34 199} {5621831441470339382 34 200} {5300978685781583719 34 201}]
------------------------------------------------------
flag 20134 term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
flag 55162 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:201 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
------------------------------------------------------
[{snapshot 34 199} {5621831441470339382 34 200} {5300978685781583719 34 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 34 199} {5621831441470339382 34 200} {5300978685781583719 34 201}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3106243392135940692 (index 202) to leader 0
flag 10375 term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
flag 13488 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {5621831441470339382 34 200} {5300978685781583719 34 201} {3106243392135940692 36 202}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61598 term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 202 
------------------------------------------------------
flag 47675 term 36 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 36 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {5621831441470339382 34 200} {5300978685781583719 34 201} {3106243392135940692 36 202}]
------------------------------------------------------
client write log 2671972179673120030 (index 203) to leader 0
client write log 6443021875884948658 (index 204) to leader 0
client write log 5611252133276832678 (index 205) to leader 0
client write log 1497109281447541370 (index 206) to leader 0
client write log 2531176554393544741 (index 207) to leader 0
client write log 7347490141094328268 (index 208) to leader 0
flag 7519 term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 202 
------------------------------------------------------
flag 31796 term 36 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 36 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 34 199} {5621831441470339382 34 200} {5300978685781583719 34 201} {3106243392135940692 36 202} {2671972179673120030 36 203} {6443021875884948658 36 204} {5611252133276832678 36 205} {1497109281447541370 36 206} {2531176554393544741 36 207} {7347490141094328268 36 208}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 202->201
------------------------------------------------------
term 36 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 201
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 34
------------------------------------------------------
flag 55590 term 36 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 36 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 36 leaderCommit: 208 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 34 199} {5621831441470339382 34 200} {5300978685781583719 34 201} {3106243392135940692 36 202} {2671972179673120030 36 203} {6443021875884948658 36 204} {5611252133276832678 36 205} {1497109281447541370 36 206} {2531176554393544741 36 207} {7347490141094328268 36 208}]
------------------------------------------------------
!!!!!!connect server 1
client write log 7852227254877420503 (index 209) to leader 0
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 201
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 34
------------------------------------------------------
flag 16903 term 36 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 36 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 36 leaderCommit: 208 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 199} {5621831441470339382 34 200} {5300978685781583719 34 201} {3106243392135940692 36 202} {2671972179673120030 36 203} {6443021875884948658 36 204} {5611252133276832678 36 205} {1497109281447541370 36 206} {2531176554393544741 36 207} {7347490141094328268 36 208} {7852227254877420503 36 209}]
------------------------------------------------------
term 37 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 37 Server0 start snapshot! index=209
term 37 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
term 38 server 2 vote for server 0
term 38 server 1 vote for server 0
term 38 server 0 get vote from server 2
term 38 server 0 become leader
------------------------------------------------------
term 38 server 0 get outdate rpc reply from server 1
flag 84576 term 38 leader 0 nextIndex[1]: 210  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 82109 term 38 leader 0 nextIndex[2]: 210  matchIndex[2]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 38 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 36 209}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 210->209
------------------------------------------------------
term 38 Server2 start snapshot! index=209
term 38 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
term 38 server 2 not vote for server 0, 任期不够新
term 38 server 0 get outdate rpc reply from server 2
term 38 leader 0 nextIndex[1]: 202  matchIndex[1]: 0
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
flag 93487 term 38 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 38 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 36 209}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 36 rf.commitIndex 209 rf.lastApplied 209
term 38 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
flag 25651 term 38 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 17763 term 38 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 36 209}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 36 209}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26083 term 38 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 52607 term 38 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 36 209}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 36 209}]
------------------------------------------------------
flag 88721 term 38 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 95769 term 38 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 36 209}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 36 209}]
------------------------------------------------------
term 38 server 2 not vote for server 1, 任期不够新
term 38 server 1 get outdate rpc reply from server 2
flag 95050 term 38 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 3613 term 38 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 36 209}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 36 209}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61011 term 38 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 52977 term 38 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:209 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 36 209}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 36 209}]
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 0
flag 9104 term 38 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 65763 term 38 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 7381 term 38 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 81009 term 38 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81896 term 38 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 56150 term 38 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 75514 term 38 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 51091 term 38 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 39 server 2 vote for server 1
term 39 server 1 get vote from server 2
term 39 server 1 become leader
------------------------------------------------------
flag 69123 term 39 leader 1 nextIndex[0]: 210  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 24580 term 39 leader 1 nextIndex[2]: 210  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 36 209}]
------------------------------------------------------
client write log 3517964941345341124 (index 210) to leader 1
flag 71404 term 38 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 61742 term 38 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 88971 term 39 leader 1 nextIndex[0]: 210  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 53240 term 39 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 39 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {3517964941345341124 39 210}]
------------------------------------------------------
flag 60445 term 38 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 91854 term 38 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 61670 term 39 leader 1 nextIndex[0]: 210  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
flag 94464 term 39 leader 1 nextIndex[2]: 211  matchIndex[2]: 210
term 39 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 39 leaderCommit: 210 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {3517964941345341124 39 210}]
------------------------------------------------------
client write log 130324205645959863 (index 211) to leader 1
client write log 8364276011268493796 (index 212) to leader 1
client write log 906324428616533318 (index 213) to leader 1
client write log 8987909570573541350 (index 214) to leader 1
client write log 8041351596553005417 (index 215) to leader 1
client write log 5592430372753273081 (index 216) to leader 1
client write log 1249078061635721744 (index 217) to leader 1
client write log 4792721099780533612 (index 218) to leader 1
client write log 5192152884910495353 (index 219) to leader 1
client write log 7805226980495994028 (index 220) to leader 1
client write log 2493411287406279082 (index 221) to leader 1
client write log 1063917478657735852 (index 222) to leader 1
client write log 2159906233877091370 (index 223) to leader 1
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 210->209
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 0  matchIndex[1]: 209
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
flag 61523 term 38 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 71037 term 39 leader 1 nextIndex[0]: 210  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
flag 99222 term 39 leader 1 nextIndex[2]: 211  matchIndex[2]: 210
term 39 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 39 leaderCommit: 210 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 36 209} {3517964941345341124 39 210} {130324205645959863 39 211} {8364276011268493796 39 212} {906324428616533318 39 213} {8987909570573541350 39 214} {8041351596553005417 39 215} {5592430372753273081 39 216} {1249078061635721744 39 217} {4792721099780533612 39 218} {5192152884910495353 39 219} {7805226980495994028 39 220} {2493411287406279082 39 221} {1063917478657735852 39 222} {2159906233877091370 39 223}]
------------------------------------------------------
term 39 Server1 start snapshot! index=219
term 39 server1 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=223
-------------------------------------------------------------
term 38 leader 0 nextIndex[1]: 0  matchIndex[1]: 209
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
flag 29345 term 38 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 39 leader 1 nextIndex[0]: 210  matchIndex[0]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 39
------------------------------------------------------
flag 10004 term 39 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 39 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 39 leaderCommit: 223 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 39 219} {7805226980495994028 39 220} {2493411287406279082 39 221} {1063917478657735852 39 222} {2159906233877091370 39 223}]
------------------------------------------------------
term 39 Server2 start snapshot! index=219
term 39 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=223
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 210->209
------------------------------------------------------
!!!!!!connect server 0
client write log 348180277681303612 (index 224) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 0  matchIndex[1]: 209
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 38 leader 0 nextIndex[2]: 0  matchIndex[2]: 209
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 39 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 39 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 39 leader 1 nextIndex[0]: 210  matchIndex[0]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 39
------------------------------------------------------
flag 5146 term 39 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 39 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 39 leaderCommit: 223 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
term 39 server 0 InstallSnapshot success
------------------------------------------------------
term 39 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 39 rf.commitIndex 219 rf.lastApplied 219
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 39 219} {7805226980495994028 39 220} {2493411287406279082 39 221} {1063917478657735852 39 222} {2159906233877091370 39 223} {348180277681303612 39 224}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 server 2 not vote for server 0, 日志不够新
term 39 server 1 not vote for server 0, 日志不够新
term 40 server 2 not vote for server 0, 任期不够新
term 40 server 0 get outdate rpc reply from server 2
term 41 server 2 vote for server 1
term 41 server 0 vote for server 1
term 41 server 1 get vote from server 2
term 41 server 1 become leader
------------------------------------------------------
term 41 server 1 get outdate rpc reply from server 0
flag 31849 term 41 leader 1 nextIndex[0]: 225  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 39 leaderCommit: 224 
------------------------------------------------------
flag 63606 term 41 leader 1 nextIndex[2]: 225  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 39 leaderCommit: 224 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 39 219} {7805226980495994028 39 220} {2493411287406279082 39 221} {1063917478657735852 39 222} {2159906233877091370 39 223} {348180277681303612 39 224}]
------------------------------------------------------
term 41 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 225->224
------------------------------------------------------
flag 96395 term 41 leader 1 nextIndex[0]: 220  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 39 leaderCommit: 224 
------------------------------------------------------
flag 82605 term 41 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 41 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 39 leaderCommit: 224 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 39 219} {7805226980495994028 39 220} {2493411287406279082 39 221} {1063917478657735852 39 222} {2159906233877091370 39 223} {348180277681303612 39 224}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 39 219} {7805226980495994028 39 220} {2493411287406279082 39 221} {1063917478657735852 39 222} {2159906233877091370 39 223} {348180277681303612 39 224}]
------------------------------------------------------
flag 3199 term 41 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 41 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 39 leaderCommit: 224 
------------------------------------------------------
flag 26515 term 41 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 41 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 39 leaderCommit: 224 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 39 219} {7805226980495994028 39 220} {2493411287406279082 39 221} {1063917478657735852 39 222} {2159906233877091370 39 223} {348180277681303612 39 224}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 39 219} {7805226980495994028 39 220} {2493411287406279082 39 221} {1063917478657735852 39 222} {2159906233877091370 39 223} {348180277681303612 39 224}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16028 term 41 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 41 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 39 leaderCommit: 224 
------------------------------------------------------
flag 55426 term 41 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 41 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 39 leaderCommit: 224 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 39 219} {7805226980495994028 39 220} {2493411287406279082 39 221} {1063917478657735852 39 222} {2159906233877091370 39 223} {348180277681303612 39 224}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 39 219} {7805226980495994028 39 220} {2493411287406279082 39 221} {1063917478657735852 39 222} {2159906233877091370 39 223} {348180277681303612 39 224}]
------------------------------------------------------
term 41 server 2 not vote for server 0, 任期不够新
term 41 server 0 get outdate rpc reply from server 2
flag 16243 term 41 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 41 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 39 leaderCommit: 224 
------------------------------------------------------
flag 20624 term 41 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 41 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 39 leaderCommit: 224 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 39 219} {7805226980495994028 39 220} {2493411287406279082 39 221} {1063917478657735852 39 222} {2159906233877091370 39 223} {348180277681303612 39 224}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 39 219} {7805226980495994028 39 220} {2493411287406279082 39 221} {1063917478657735852 39 222} {2159906233877091370 39 223} {348180277681303612 39 224}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12407 term 41 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 41 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 39 leaderCommit: 224 
------------------------------------------------------
flag 4597 term 41 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 41 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 39 leaderCommit: 224 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 39 219} {7805226980495994028 39 220} {2493411287406279082 39 221} {1063917478657735852 39 222} {2159906233877091370 39 223} {348180277681303612 39 224}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 39 219} {7805226980495994028 39 220} {2493411287406279082 39 221} {1063917478657735852 39 222} {2159906233877091370 39 223} {348180277681303612 39 224}]
------------------------------------------------------
flag 64264 term 41 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 41 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 39 leaderCommit: 224 
------------------------------------------------------
flag 25416 term 41 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 41 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 39 leaderCommit: 224 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:224 
term 41 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 39 219} {7805226980495994028 39 220} {2493411287406279082 39 221} {1063917478657735852 39 222} {2159906233877091370 39 223} {348180277681303612 39 224}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 39 219} {7805226980495994028 39 220} {2493411287406279082 39 221} {1063917478657735852 39 222} {2159906233877091370 39 223} {348180277681303612 39 224}]
------------------------------------------------------
flag 66449 term 41 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 41 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 39 leaderCommit: 224 
------------------------------------------------------
flag 54537 term 41 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 41 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 39 leaderCommit: 224 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 39 219} {7805226980495994028 39 220} {2493411287406279082 39 221} {1063917478657735852 39 222} {2159906233877091370 39 223} {348180277681303612 39 224}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 39 219} {7805226980495994028 39 220} {2493411287406279082 39 221} {1063917478657735852 39 222} {2159906233877091370 39 223} {348180277681303612 39 224}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6610622050025264716 (index 225) to leader 1
flag 54833 term 41 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 41 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 39 leaderCommit: 224 
------------------------------------------------------
flag 69850 term 41 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 41 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 39 leaderCommit: 224 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {7805226980495994028 39 220} {2493411287406279082 39 221} {1063917478657735852 39 222} {2159906233877091370 39 223} {348180277681303612 39 224} {6610622050025264716 41 225}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58188 term 41 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 41 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 225 
------------------------------------------------------
flag 6972 term 41 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 41 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {7805226980495994028 39 220} {2493411287406279082 39 221} {1063917478657735852 39 222} {2159906233877091370 39 223} {348180277681303612 39 224} {6610622050025264716 41 225}]
------------------------------------------------------
client write log 144820053605742223 (index 226) to leader 1
client write log 4036073051237586321 (index 227) to leader 1
client write log 7272763784576353152 (index 228) to leader 1
client write log 8940092222653848226 (index 229) to leader 1
client write log 4366499697082461556 (index 230) to leader 1
client write log 8450577463078344201 (index 231) to leader 1
flag 68411 term 41 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 41 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 225 
------------------------------------------------------
flag 76776 term 41 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 41 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 39 219} {7805226980495994028 39 220} {2493411287406279082 39 221} {1063917478657735852 39 222} {2159906233877091370 39 223} {348180277681303612 39 224} {6610622050025264716 41 225} {144820053605742223 41 226} {4036073051237586321 41 227} {7272763784576353152 41 228} {8940092222653848226 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231}]
------------------------------------------------------
term 41 Server1 start snapshot! index=229
term 41 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=231
-------------------------------------------------------------
flag 1862 term 41 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 41 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231}]
------------------------------------------------------
term 41 Server0 start snapshot! index=229
term 41 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=231
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7816668380633182477 (index 232) to leader 1
term 41 server 0 not vote for server 1, 任期不够新
term 41 server 1 not vote for server 2, 日志不够新
term 42 server 1 get outdate rpc reply from server 0
term 41 server 0 not vote for server 2, 日志不够新
term 43 server 2 vote for server 1
term 43 server 0 vote for server 1
term 43 server 1 get vote from server 2
term 43 server 1 become leader
------------------------------------------------------
term 43 server 1 get outdate rpc reply from server 0
flag 46027 term 43 leader 1 nextIndex[0]: 233  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
flag 31470 term 43 leader 1 nextIndex[2]: 233  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 233->232
------------------------------------------------------
term 43 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 233->232
------------------------------------------------------
flag 34774 term 43 leader 1 nextIndex[0]: 232  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 225  matchIndex[2]: 0
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 41
------------------------------------------------------
term 43 server 2 InstallSnapshot success
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 230 matchIndex[2] 229 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 41 rf.commitIndex 229 rf.lastApplied 229
term 43 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38225 term 43 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
flag 59392 term 43 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 43 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
flag 72615 term 43 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
flag 39099 term 43 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
flag 79577 term 43 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
flag 11900 term 43 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
flag 74932 term 43 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
flag 64449 term 43 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
term 43 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
term 43 server 0 not vote for server 1, 任期不够新
term 43 server 1 get outdate rpc reply from server 0
flag 97763 term 43 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
flag 46653 term 43 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
flag 5074 term 43 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
flag 41943 term 43 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
flag 13222 term 43 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
flag 89564 term 43 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
flag 78769 term 43 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
flag 3669 term 43 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10307 term 43 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
flag 47903 term 43 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
flag 93347 term 43 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
flag 24860 term 43 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
flag 68274 term 43 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
flag 14624 term 43 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
term 43 server 2 not vote for server 1, 任期不够新
term 43 server 1 get outdate rpc reply from server 2
flag 30508 term 43 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
flag 50589 term 43 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
flag 39937 term 43 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
flag 99779 term 43 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
flag 58815 term 43 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
flag 63925 term 43 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
flag 89168 term 43 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
flag 47524 term 43 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55307 term 43 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
flag 37787 term 43 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5324 term 43 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
flag 46784 term 43 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
flag 63169 term 43 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
flag 209 term 43 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232}]
------------------------------------------------------
client write log 7816668380633182477 (index 233) to leader 1
flag 1358 term 43 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
flag 57555 term 43 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 43 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232} {7816668380633182477 43 233}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232} {7816668380633182477 43 233}]
------------------------------------------------------
flag 42538 term 43 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 43 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
flag 85916 term 43 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 43 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232} {7816668380633182477 43 233}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232} {7816668380633182477 43 233}]
------------------------------------------------------
flag 6413 term 43 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 43 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
flag 92896 term 43 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 43 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232} {7816668380633182477 43 233}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232} {7816668380633182477 43 233}]
------------------------------------------------------
flag 89712 term 43 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 43 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
flag 91252 term 43 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 43 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232} {7816668380633182477 43 233}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232} {7816668380633182477 43 233}]
------------------------------------------------------
flag 54587 term 43 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 43 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
flag 1321 term 43 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 43 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232} {7816668380633182477 43 233}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232} {7816668380633182477 43 233}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32916 term 43 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 43 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
flag 65023 term 43 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 43 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232} {7816668380633182477 43 233}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232} {7816668380633182477 43 233}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 2
client write log 762069852069593374 (index 234) to leader 1
flag 42358 term 43 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 43 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
flag 75657 term 43 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 43 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232} {7816668380633182477 43 233} {762069852069593374 43 234}]
------------------------------------------------------
flag 10315 term 43 leader 1 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 234 
------------------------------------------------------
flag 96553 term 43 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 43 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 43 leaderCommit: 234 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232} {7816668380633182477 43 233} {762069852069593374 43 234}]
------------------------------------------------------
client write log 4842671269784567061 (index 235) to leader 1
client write log 5806119646625586327 (index 236) to leader 1
client write log 6645046373112821366 (index 237) to leader 1
client write log 9150073553569305826 (index 238) to leader 1
client write log 5400185114483867289 (index 239) to leader 1
client write log 3972875738983140771 (index 240) to leader 1
client write log 8962753498986883594 (index 241) to leader 1
client write log 5530852922723361333 (index 242) to leader 1
client write log 4335742682836855935 (index 243) to leader 1
client write log 3169598616910784512 (index 244) to leader 1
client write log 4849487456593366917 (index 245) to leader 1
client write log 4767531588875027602 (index 246) to leader 1
flag 92251 term 43 leader 1 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 234 
------------------------------------------------------
flag 49268 term 43 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 43 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 43 leaderCommit: 234 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 41 229} {4366499697082461556 41 230} {8450577463078344201 41 231} {7816668380633182477 41 232} {7816668380633182477 43 233} {762069852069593374 43 234} {4842671269784567061 43 235} {5806119646625586327 43 236} {6645046373112821366 43 237} {9150073553569305826 43 238} {5400185114483867289 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246}]
------------------------------------------------------
term 43 Server1 start snapshot! index=239
term 43 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=246
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88825 term 43 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 43 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246}]
------------------------------------------------------
term 43 Server0 start snapshot! index=239
term 43 server0 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=246
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3178798497332435703 (index 247) to leader 1
term 43 server 1 not vote for server 2, 日志不够新
term 43 server 0 not vote for server 2, 日志不够新
term 45 server 2 vote for server 1
term 45 server 0 vote for server 1
term 45 server 1 get vote from server 2
term 45 server 1 become leader
------------------------------------------------------
term 45 server 1 get outdate rpc reply from server 0
flag 77953 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 57983 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 248->247
------------------------------------------------------
term 45 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 248->247
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94627 term 45 leader 1 nextIndex[0]: 247  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 234  matchIndex[2]: 0
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 43
------------------------------------------------------
term 45 server 2 InstallSnapshot success
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 43 rf.commitIndex 239 rf.lastApplied 239
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97212 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 86592 term 45 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 45 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 657 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 75534 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86253 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 23057 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49065 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 645 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
flag 42090 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 43984 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
flag 47494 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 4715 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8044 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 29470 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
flag 15269 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 36126 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
flag 75794 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 44496 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48144 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 57625 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
flag 27548 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 6753 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75970 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 38258 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
flag 73099 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 43841 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
flag 64895 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 15362 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
flag 27360 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 65896 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
flag 46177 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 44417 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95972 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 93059 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49439 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 3419 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247}]
------------------------------------------------------
client write log 3178798497332435703 (index 248) to leader 1
flag 93882 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 39477 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247} {3178798497332435703 45 248}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247} {3178798497332435703 45 248}]
------------------------------------------------------
flag 23111 term 45 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
flag 45993 term 45 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247} {3178798497332435703 45 248}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247} {3178798497332435703 45 248}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11337 term 45 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
flag 69799 term 45 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247} {3178798497332435703 45 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247} {3178798497332435703 45 248}]
------------------------------------------------------
flag 19718 term 45 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
flag 47878 term 45 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247} {3178798497332435703 45 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247} {3178798497332435703 45 248}]
------------------------------------------------------
flag 39982 term 45 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
flag 40464 term 45 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247} {3178798497332435703 45 248}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247} {3178798497332435703 45 248}]
------------------------------------------------------
flag 7774 term 45 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
flag 73287 term 45 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247} {3178798497332435703 45 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247} {3178798497332435703 45 248}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59195 term 45 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
flag 45522 term 45 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247} {3178798497332435703 45 248}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247} {3178798497332435703 45 248}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 33474 term 45 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
flag 82212 term 45 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
flag 90860 term 45 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
flag 44605 term 45 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
flag 18706 term 45 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
flag 13586 term 45 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3791 term 45 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
flag 62806 term 45 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
term 46 server 2 vote for server 0
term 46 server 0 get vote from server 2
term 46 server 0 become leader
------------------------------------------------------
flag 12125 term 46 leader 0 nextIndex[1]: 249  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
flag 55434 term 46 leader 0 nextIndex[2]: 249  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247} {3178798497332435703 45 248}]
------------------------------------------------------
flag 57820 term 45 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
flag 99002 term 45 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
client write log 5693671910189296789 (index 249) to leader 0
flag 51364 term 46 leader 0 nextIndex[1]: 249  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
flag 27427 term 46 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 46 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 43 239} {3972875738983140771 43 240} {8962753498986883594 43 241} {5530852922723361333 43 242} {4335742682836855935 43 243} {3169598616910784512 43 244} {4849487456593366917 43 245} {4767531588875027602 43 246} {3178798497332435703 43 247} {3178798497332435703 45 248} {5693671910189296789 46 249}]
------------------------------------------------------
term 46 Server0 start snapshot! index=249
term 46 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
flag 11108 term 45 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
flag 3740 term 45 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 249  matchIndex[1]: 0
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 46
------------------------------------------------------
flag 30630 term 46 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 46 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 46 leaderCommit: 249 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 46 249}]
------------------------------------------------------
client write log 4920398162724852558 (index 250) to leader 0
term 46 Server2 start snapshot! index=249
term 46 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
flag 42948 term 45 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
flag 65031 term 45 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 249  matchIndex[1]: 0
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 46
------------------------------------------------------
flag 79987 term 46 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 46 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 46 leaderCommit: 249 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
flag 50405 term 45 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
flag 17995 term 45 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 249  matchIndex[1]: 0
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 46
------------------------------------------------------
flag 19486 term 46 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
!!!!!!connect server 1
client write log 2625261973722401125 (index 249) to leader 1
flag 75058 term 45 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
flag 29423 term 45 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
term 46 server 2 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
term 46 server 0 AppendEntries false 领导者任期过期 args.Term 45
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 249  matchIndex[1]: 0
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 46
------------------------------------------------------
flag 26836 term 46 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 46 server 1 InstallSnapshot success
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 46 rf.commitIndex 249 rf.lastApplied 249
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46071 term 46 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 46 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 46531 term 46 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88042 term 46 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 48627 term 46 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
flag 74935 term 46 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 85822 term 46 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60750 term 46 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 73474 term 46 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25469 term 46 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 796 term 46 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
flag 36747 term 46 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 68032 term 46 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25395 term 46 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 94040 term 46 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
term 46 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36930 term 46 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 46 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 81857 term 46 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
flag 77361 term 46 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 12281 term 46 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
flag 5001 term 46 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 96340 term 46 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
flag 88022 term 46 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 62518 term 46 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
flag 61545 term 46 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 24346 term 46 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6708 term 46 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 14443 term 46 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76604 term 46 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 31811 term 46 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
flag 93443 term 46 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 81816 term 46 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
flag 84256 term 46 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 18146 term 46 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62012 term 46 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 62877 term 46 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
flag 31278 term 46 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 45834 term 46 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
flag 23809 term 46 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 46 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 78373 term 46 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4920398162724852558 46 250}]
------------------------------------------------------
client write log 2625261973722401125 (index 251) to leader 0
flag 79588 term 46 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 42149 term 46 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 46 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {4920398162724852558 46 250} {2625261973722401125 46 251}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {4920398162724852558 46 250} {2625261973722401125 46 251}]
------------------------------------------------------
flag 73691 term 46 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 46 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
flag 23358 term 46 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 46 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {4920398162724852558 46 250} {2625261973722401125 46 251}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {4920398162724852558 46 250} {2625261973722401125 46 251}]
------------------------------------------------------
flag 21254 term 46 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 46 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
flag 62359 term 46 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 46 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {4920398162724852558 46 250} {2625261973722401125 46 251}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {4920398162724852558 46 250} {2625261973722401125 46 251}]
------------------------------------------------------
flag 2130 term 46 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 46 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
flag 56705 term 46 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 46 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {4920398162724852558 46 250} {2625261973722401125 46 251}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {4920398162724852558 46 250} {2625261973722401125 46 251}]
------------------------------------------------------
flag 62996 term 46 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 46 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
flag 12428 term 46 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 46 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {4920398162724852558 46 250} {2625261973722401125 46 251}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {4920398162724852558 46 250} {2625261973722401125 46 251}]
------------------------------------------------------
flag 95887 term 46 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 46 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
flag 48190 term 46 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 46 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {4920398162724852558 46 250} {2625261973722401125 46 251}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {4920398162724852558 46 250} {2625261973722401125 46 251}]
------------------------------------------------------
flag 44024 term 46 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 46 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
flag 48086 term 46 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 46 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {4920398162724852558 46 250} {2625261973722401125 46 251}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {4920398162724852558 46 250} {2625261973722401125 46 251}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1548653758505750569 (index 252) to leader 0
flag 95974 term 46 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 46 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
flag 98370 term 46 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 46 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 46 249} {4920398162724852558 46 250} {2625261973722401125 46 251} {1548653758505750569 46 252}]
------------------------------------------------------
flag 32441 term 46 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 46 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 252 
------------------------------------------------------
flag 37126 term 46 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 46 leaderCommit: 252 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 46 249} {4920398162724852558 46 250} {2625261973722401125 46 251} {1548653758505750569 46 252}]
------------------------------------------------------
client write log 320774862259658606 (index 253) to leader 0
client write log 4907192090193203972 (index 254) to leader 0
client write log 1814771300168479668 (index 255) to leader 0
client write log 6626589569783126624 (index 256) to leader 0
client write log 8146129773950443150 (index 257) to leader 0
client write log 8523212285691786063 (index 258) to leader 0
client write log 1857910167753657103 (index 259) to leader 0
client write log 4119318740099489170 (index 260) to leader 0
client write log 8853110405628097739 (index 261) to leader 0
client write log 2838145466953875878 (index 262) to leader 0
client write log 6632717336036427401 (index 263) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34587 term 46 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 46 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 252 
------------------------------------------------------
flag 23456 term 46 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 46 leaderCommit: 252 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 46 249} {4920398162724852558 46 250} {2625261973722401125 46 251} {1548653758505750569 46 252} {320774862259658606 46 253} {4907192090193203972 46 254} {1814771300168479668 46 255} {6626589569783126624 46 256} {8146129773950443150 46 257} {8523212285691786063 46 258} {1857910167753657103 46 259} {4119318740099489170 46 260} {8853110405628097739 46 261} {2838145466953875878 46 262} {6632717336036427401 46 263}]
------------------------------------------------------
term 46 Server0 start snapshot! index=259
term 46 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=263
-------------------------------------------------------------
term 46 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
flag 87346 term 46 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 46 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 46 leaderCommit: 263 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 46 259} {4119318740099489170 46 260} {8853110405628097739 46 261} {2838145466953875878 46 262} {6632717336036427401 46 263}]
------------------------------------------------------
term 46 Server2 start snapshot! index=259
term 46 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=263
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6574028669987352758 (index 264) to leader 0
term 46 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
flag 80155 term 46 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 46 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 46 leaderCommit: 263 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 46 259} {4119318740099489170 46 260} {8853110405628097739 46 261} {2838145466953875878 46 262} {6632717336036427401 46 263} {6574028669987352758 46 264}]
------------------------------------------------------
term 47 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 server 2 vote for server 0
term 48 server 1 vote for server 0
term 48 server 0 get vote from server 2
term 48 server 0 become leader
------------------------------------------------------
term 48 server 0 get outdate rpc reply from server 1
flag 91218 term 48 leader 0 nextIndex[1]: 265  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 46 leaderCommit: 264 
------------------------------------------------------
flag 10198 term 48 leader 0 nextIndex[2]: 265  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 46 leaderCommit: 264 
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 265->264
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 46 259} {4119318740099489170 46 260} {8853110405628097739 46 261} {2838145466953875878 46 262} {6632717336036427401 46 263} {6574028669987352758 46 264}]
------------------------------------------------------
term 48 leader 0 nextIndex[1]: 252  matchIndex[1]: 0
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
flag 88669 term 48 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 48 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 46 leaderCommit: 264 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 46 259} {4119318740099489170 46 260} {8853110405628097739 46 261} {2838145466953875878 46 262} {6632717336036427401 46 263} {6574028669987352758 46 264}]
------------------------------------------------------
term 48 server 1 InstallSnapshot success
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 46 rf.commitIndex 259 rf.lastApplied 259
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63029 term 48 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 264 
------------------------------------------------------
flag 17873 term 48 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 48 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 46 leaderCommit: 264 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 46 259} {4119318740099489170 46 260} {8853110405628097739 46 261} {2838145466953875878 46 262} {6632717336036427401 46 263} {6574028669987352758 46 264}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 46 259} {4119318740099489170 46 260} {8853110405628097739 46 261} {2838145466953875878 46 262} {6632717336036427401 46 263} {6574028669987352758 46 264}]
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58036 term 48 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 48 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 46 leaderCommit: 264 
------------------------------------------------------
flag 52817 term 48 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 48 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 46 leaderCommit: 264 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 46 259} {4119318740099489170 46 260} {8853110405628097739 46 261} {2838145466953875878 46 262} {6632717336036427401 46 263} {6574028669987352758 46 264}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 46 259} {4119318740099489170 46 260} {8853110405628097739 46 261} {2838145466953875878 46 262} {6632717336036427401 46 263} {6574028669987352758 46 264}]
------------------------------------------------------
flag 69910 term 48 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 48 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 46 leaderCommit: 264 
------------------------------------------------------
flag 25426 term 48 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 48 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 46 leaderCommit: 264 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 46 259} {4119318740099489170 46 260} {8853110405628097739 46 261} {2838145466953875878 46 262} {6632717336036427401 46 263} {6574028669987352758 46 264}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 46 259} {4119318740099489170 46 260} {8853110405628097739 46 261} {2838145466953875878 46 262} {6632717336036427401 46 263} {6574028669987352758 46 264}]
------------------------------------------------------
flag 77868 term 48 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 48 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 46 leaderCommit: 264 
------------------------------------------------------
flag 65561 term 48 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 48 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 46 leaderCommit: 264 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 46 259} {4119318740099489170 46 260} {8853110405628097739 46 261} {2838145466953875878 46 262} {6632717336036427401 46 263} {6574028669987352758 46 264}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 46 259} {4119318740099489170 46 260} {8853110405628097739 46 261} {2838145466953875878 46 262} {6632717336036427401 46 263} {6574028669987352758 46 264}]
------------------------------------------------------
flag 81537 term 48 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 48 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 46 leaderCommit: 264 
------------------------------------------------------
flag 95286 term 48 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 48 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 46 leaderCommit: 264 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 46 259} {4119318740099489170 46 260} {8853110405628097739 46 261} {2838145466953875878 46 262} {6632717336036427401 46 263} {6574028669987352758 46 264}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 46 259} {4119318740099489170 46 260} {8853110405628097739 46 261} {2838145466953875878 46 262} {6632717336036427401 46 263} {6574028669987352758 46 264}]
------------------------------------------------------
flag 29648 term 48 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 48 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 46 leaderCommit: 264 
------------------------------------------------------
flag 3052 term 48 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 48 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 46 leaderCommit: 264 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 46 259} {4119318740099489170 46 260} {8853110405628097739 46 261} {2838145466953875878 46 262} {6632717336036427401 46 263} {6574028669987352758 46 264}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 46 259} {4119318740099489170 46 260} {8853110405628097739 46 261} {2838145466953875878 46 262} {6632717336036427401 46 263} {6574028669987352758 46 264}]
------------------------------------------------------
flag 8586 term 48 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 48 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 46 leaderCommit: 264 
------------------------------------------------------
flag 86925 term 48 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 48 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 46 leaderCommit: 264 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 46 259} {4119318740099489170 46 260} {8853110405628097739 46 261} {2838145466953875878 46 262} {6632717336036427401 46 263} {6574028669987352758 46 264}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 46 259} {4119318740099489170 46 260} {8853110405628097739 46 261} {2838145466953875878 46 262} {6632717336036427401 46 263} {6574028669987352758 46 264}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2008471203386682137 (index 265) to leader 0
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89431 term 48 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 48 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 46 leaderCommit: 264 
------------------------------------------------------
flag 54856 term 48 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 48 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 46 leaderCommit: 264 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {4119318740099489170 46 260} {8853110405628097739 46 261} {2838145466953875878 46 262} {6632717336036427401 46 263} {6574028669987352758 46 264} {2008471203386682137 48 265}]
------------------------------------------------------
flag 72958 term 48 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 48 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 3741 term 48 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 48 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {4119318740099489170 46 260} {8853110405628097739 46 261} {2838145466953875878 46 262} {6632717336036427401 46 263} {6574028669987352758 46 264} {2008471203386682137 48 265}]
------------------------------------------------------
client write log 706158563227128342 (index 266) to leader 0
client write log 2577386321735739589 (index 267) to leader 0
client write log 341407146775330981 (index 268) to leader 0
client write log 7607685187658276003 (index 269) to leader 0
client write log 5064107678401037090 (index 270) to leader 0
client write log 7363037012098955682 (index 271) to leader 0
client write log 4932218285697941867 (index 272) to leader 0
client write log 1901393465585903915 (index 273) to leader 0
client write log 5292351652133542752 (index 274) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1719 term 48 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 48 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 63164 term 48 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 48 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 259} {4119318740099489170 46 260} {8853110405628097739 46 261} {2838145466953875878 46 262} {6632717336036427401 46 263} {6574028669987352758 46 264} {2008471203386682137 48 265} {706158563227128342 48 266} {2577386321735739589 48 267} {341407146775330981 48 268} {7607685187658276003 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274}]
------------------------------------------------------
term 48 Server0 start snapshot! index=269
term 48 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=274
-------------------------------------------------------------
term 48 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
flag 3233 term 48 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 48 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274}]
------------------------------------------------------
term 48 Server2 start snapshot! index=269
term 48 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=274
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6716818221902294493 (index 275) to leader 0
term 48 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
flag 80230 term 48 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 48 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 49 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 1 vote for server 0
term 50 server 0 get vote from server 1
term 50 server 0 become leader
------------------------------------------------------
term 50 server 2 vote for server 0
term 50 server 0 get outdate rpc reply from server 2
flag 95374 term 50 leader 0 nextIndex[1]: 276  matchIndex[1]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 37111 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 50 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 276->275
------------------------------------------------------
term 50 leader 0 nextIndex[1]: 265  matchIndex[1]: 0
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
flag 28385 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
term 50 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 48 rf.commitIndex 269 rf.lastApplied 269
term 50 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
flag 42614 term 50 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 50 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 3038 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
flag 26820 term 50 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 85586 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
flag 21545 term 50 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 59277 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71863 term 50 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 135 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85531 term 50 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 74738 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
flag 21596 term 50 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 82667 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
flag 81169 term 50 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 71595 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
flag 45225 term 50 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 60916 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
term 50 server 1 not vote for server 0, 任期不够新
term 50 server 0 get outdate rpc reply from server 1
flag 6778 term 50 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 32906 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
term 50 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1348 term 50 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 55065 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
flag 95855 term 50 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 49182 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
flag 13591 term 50 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 29951 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
flag 78192 term 50 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 92094 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
flag 1256 term 50 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 48322 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17818 term 50 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 24804 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87048 term 50 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 41648 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
term 50 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
flag 83145 term 50 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 43923 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275}]
------------------------------------------------------
client write log 6716818221902294493 (index 276) to leader 0
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58082 term 50 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 84822 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275} {6716818221902294493 50 276}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275} {6716818221902294493 50 276}]
------------------------------------------------------
flag 8522 term 50 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 13902 term 50 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275} {6716818221902294493 50 276}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275} {6716818221902294493 50 276}]
------------------------------------------------------
flag 87919 term 50 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 40173 term 50 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275} {6716818221902294493 50 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275} {6716818221902294493 50 276}]
------------------------------------------------------
flag 74132 term 50 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 30631 term 50 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275} {6716818221902294493 50 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275} {6716818221902294493 50 276}]
------------------------------------------------------
flag 91074 term 50 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 19898 term 50 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275} {6716818221902294493 50 276}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275} {6716818221902294493 50 276}]
------------------------------------------------------
flag 66271 term 50 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 54972 term 50 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275} {6716818221902294493 50 276}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275} {6716818221902294493 50 276}]
------------------------------------------------------
term 50 server 0 not vote for server 1, 任期不够新
term 50 server 1 get outdate rpc reply from server 0
flag 77729 term 50 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 29428 term 50 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275} {6716818221902294493 50 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275} {6716818221902294493 50 276}]
------------------------------------------------------
!!!!!!diconnect server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39585 term 50 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 31975 term 50 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 78803 term 50 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 33139 term 50 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 80237 term 50 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 2482 term 50 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 5321 term 50 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 91210 term 50 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 51 server 2 vote for server 1
term 51 server 1 get vote from server 2
term 51 server 1 become leader
------------------------------------------------------
client write log 8034184709512414719 (index 277) to leader 1
flag 29731 term 51 leader 1 nextIndex[0]: 277  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 10646 term 51 leader 1 nextIndex[2]: 277  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275} {6716818221902294493 50 276} {8034184709512414719 51 277}]
------------------------------------------------------
flag 648 term 50 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 42579 term 50 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 53472 term 51 leader 1 nextIndex[0]: 277  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 277 
------------------------------------------------------
flag 27958 term 51 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 51 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 51 leaderCommit: 277 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275} {6716818221902294493 50 276} {8034184709512414719 51 277}]
------------------------------------------------------
client write log 4493327781692801931 (index 278) to leader 1
client write log 9191336677503702560 (index 279) to leader 1
client write log 6227407590182931635 (index 280) to leader 1
client write log 9177061826944931836 (index 281) to leader 1
client write log 6729072430045777792 (index 282) to leader 1
client write log 9149391845035111918 (index 283) to leader 1
client write log 4291080429999376910 (index 284) to leader 1
client write log 4766854949295146102 (index 285) to leader 1
client write log 6241906583965154994 (index 286) to leader 1
client write log 2385707757398314020 (index 287) to leader 1
client write log 7280513220607812841 (index 288) to leader 1
flag 9144 term 50 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 34420 term 50 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 56914 term 51 leader 1 nextIndex[0]: 277  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 277 
------------------------------------------------------
flag 90130 term 51 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 51 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 51 leaderCommit: 277 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 48 269} {5064107678401037090 48 270} {7363037012098955682 48 271} {4932218285697941867 48 272} {1901393465585903915 48 273} {5292351652133542752 48 274} {6716818221902294493 48 275} {6716818221902294493 50 276} {8034184709512414719 51 277} {4493327781692801931 51 278} {9191336677503702560 51 279} {6227407590182931635 51 280} {9177061826944931836 51 281} {6729072430045777792 51 282} {9149391845035111918 51 283} {4291080429999376910 51 284} {4766854949295146102 51 285} {6241906583965154994 51 286} {2385707757398314020 51 287} {7280513220607812841 51 288}]
------------------------------------------------------
term 51 Server1 start snapshot! index=279
term 51 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=288
-------------------------------------------------------------
flag 69983 term 50 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 76913 term 50 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 51 leader 1 nextIndex[0]: 277  matchIndex[0]: 0
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 51
------------------------------------------------------
flag 59084 term 51 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 51 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 51 leaderCommit: 288 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 51 279} {6227407590182931635 51 280} {9177061826944931836 51 281} {6729072430045777792 51 282} {9149391845035111918 51 283} {4291080429999376910 51 284} {4766854949295146102 51 285} {6241906583965154994 51 286} {2385707757398314020 51 287} {7280513220607812841 51 288}]
------------------------------------------------------
term 51 Server2 start snapshot! index=279
term 51 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=288
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6060432930569099257 (index 289) to leader 1
flag 15856 term 50 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 76549 term 50 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 50 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 51 server 2 AppendEntries false 领导者任期过期 args.Term 50
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 51 server 1 AppendEntries false 领导者任期过期 args.Term 50
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 1 nextIndex[0]: 277  matchIndex[0]: 0
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 51
------------------------------------------------------
flag 85687 term 51 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 51 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 51 leaderCommit: 288 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=289
leader log:
[{snapshot 51 279} {6227407590182931635 51 280} {9177061826944931836 51 281} {6729072430045777792 51 282} {9149391845035111918 51 283} {4291080429999376910 51 284} {4766854949295146102 51 285} {6241906583965154994 51 286} {2385707757398314020 51 287} {7280513220607812841 51 288} {6060432930569099257 51 289}]
------------------------------------------------------
term 51 server 0 InstallSnapshot success
------------------------------------------------------
term 51 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 51 rf.commitIndex 279 rf.lastApplied 279
term 51 Server1 start snapshot! index=289
term 51 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
term 51 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 51
------------------------------------------------------
flag 59234 term 51 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 51 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
term 51 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=289
leader log:
[{snapshot 51 289}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 51 rf.commitIndex 289 rf.lastApplied 289
term 51 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
term 51 Server2 start snapshot! index=289
term 51 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
flag 38448 term 51 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 51 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
flag 40075 term 51 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 51 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=289
leader log:
[{snapshot 51 289}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 51 289}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 290->289
------------------------------------------------------
term 51 leader 1 nextIndex[0]: 0  matchIndex[0]: 289
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 51
------------------------------------------------------
flag 51240 term 51 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 51 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
term 51 server 0 InstallSnapshot fail
rf.commitIndex 289 args.LastIncludedIndex 289
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
term 51 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=289
leader log:
[{snapshot 51 289}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97533 term 51 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 51 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
flag 6328 term 51 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 51 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 51 289}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=289
leader log:
[{snapshot 51 289}]
------------------------------------------------------
flag 47350 term 51 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 51 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
flag 87851 term 51 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 51 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=289
leader log:
[{snapshot 51 289}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 51 289}]
------------------------------------------------------
flag 49908 term 51 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 51 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
flag 22025 term 51 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 51 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=289
leader log:
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
[{snapshot 51 289}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 51 289}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 966488796836582130 (index 290) to leader 1
flag 74123 term 51 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 51 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
flag 8479 term 51 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 51 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 51 289} {966488796836582130 51 290}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92165 term 51 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 51 leaderCommit: 290 
------------------------------------------------------
flag 11310 term 51 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 51 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 290 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 51 289} {966488796836582130 51 290}]
------------------------------------------------------
client write log 6771965367999799903 (index 291) to leader 1
client write log 800563399416633534 (index 292) to leader 1
client write log 3780161179045575029 (index 293) to leader 1
client write log 2260060601881500347 (index 294) to leader 1
client write log 2754662821577068796 (index 295) to leader 1
client write log 7167108572890556227 (index 296) to leader 1
client write log 1525142941112586807 (index 297) to leader 1
client write log 1236260303656621725 (index 298) to leader 1
client write log 5446413320088089662 (index 299) to leader 1
client write log 6293037122297527738 (index 300) to leader 1
client write log 3133558724966724541 (index 301) to leader 1
flag 28206 term 51 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 51 leaderCommit: 290 
------------------------------------------------------
flag 15755 term 51 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 51 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 290 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 51 289} {966488796836582130 51 290} {6771965367999799903 51 291} {800563399416633534 51 292} {3780161179045575029 51 293} {2260060601881500347 51 294} {2754662821577068796 51 295} {7167108572890556227 51 296} {1525142941112586807 51 297} {1236260303656621725 51 298} {5446413320088089662 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301}]
------------------------------------------------------
term 51 Server1 start snapshot! index=299
term 51 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=301
-------------------------------------------------------------
flag 80590 term 51 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 51 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301}]
------------------------------------------------------
term 51 Server0 start snapshot! index=299
term 51 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=301
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8527906297090634136 (index 302) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83530 term 51 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 51 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 51
------------------------------------------------------
term 52 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 2 vote for server 1
term 53 server 1 get vote from server 2
term 53 server 1 become leader
------------------------------------------------------
term 53 server 0 vote for server 1
term 53 server 1 get outdate rpc reply from server 0
flag 97891 term 53 leader 1 nextIndex[0]: 303  matchIndex[0]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 93698 term 53 leader 1 nextIndex[2]: 303  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 53 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 303->302
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
flag 52117 term 53 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 290  matchIndex[2]: 0
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 51
------------------------------------------------------
term 53 server 2 InstallSnapshot success
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 51 rf.commitIndex 299 rf.lastApplied 299
term 53 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
flag 48082 term 53 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 3892 term 53 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 53 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 1 not vote for server 2, 任期不够新
term 53 server 2 get outdate rpc reply from server 1
flag 76816 term 53 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 22745 term 53 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
flag 93041 term 53 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 14220 term 53 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
flag 54422 term 53 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 43024 term 53 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64647 term 53 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 97562 term 53 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
term 53 server 2 not vote for server 1, 任期不够新
term 53 server 1 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31600 term 53 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 99632 term 53 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
flag 5724 term 53 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 88759 term 53 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
flag 46583 term 53 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 95731 term 53 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
flag 91729 term 53 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 80096 term 53 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
flag 82227 term 53 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 95178 term 53 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
flag 60923 term 53 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 5106 term 53 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
flag 79395 term 53 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 71501 term 53 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85617 term 53 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 74743 term 53 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28230 term 53 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 3671 term 53 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
flag 88069 term 53 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 37256 term 53 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
flag 44779 term 53 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 88667 term 53 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31446 term 53 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 32745 term 53 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302}]
------------------------------------------------------
client write log 8527906297090634136 (index 303) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 2 not vote for server 1, 任期不够新
term 53 server 1 get outdate rpc reply from server 2
flag 3100 term 53 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 97163 term 53 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 53 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302} {8527906297090634136 53 303}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302} {8527906297090634136 53 303}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51622 term 53 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 53 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 303 
------------------------------------------------------
flag 77051 term 53 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 53 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 303 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302} {8527906297090634136 53 303}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302} {8527906297090634136 53 303}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8207 term 53 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 53 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 303 
------------------------------------------------------
flag 18802 term 53 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 53 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 303 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302} {8527906297090634136 53 303}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302} {8527906297090634136 53 303}]
------------------------------------------------------
flag 63763 term 53 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 53 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 303 
------------------------------------------------------
flag 92662 term 53 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 53 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 303 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302} {8527906297090634136 53 303}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302} {8527906297090634136 53 303}]
------------------------------------------------------
flag 32495 term 53 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 53 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 303 
------------------------------------------------------
flag 81897 term 53 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 53 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 303 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302} {8527906297090634136 53 303}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302} {8527906297090634136 53 303}]
------------------------------------------------------
flag 87746 term 53 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 53 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 303 
------------------------------------------------------
flag 18617 term 53 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 53 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 303 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302} {8527906297090634136 53 303}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302} {8527906297090634136 53 303}]
------------------------------------------------------
flag 22831 term 53 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 53 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 303 
------------------------------------------------------
flag 7070 term 53 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 53 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 303 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302} {8527906297090634136 53 303}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302} {8527906297090634136 53 303}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6506865849626191667 (index 304) to leader 1
flag 6773 term 53 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 53 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 303 
------------------------------------------------------
flag 19603 term 53 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 53 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 303 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302} {8527906297090634136 53 303} {6506865849626191667 53 304}]
------------------------------------------------------
flag 50659 term 53 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 53 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
flag 80139 term 53 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 53 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302} {8527906297090634136 53 303} {6506865849626191667 53 304}]
------------------------------------------------------
client write log 6675109862620330235 (index 305) to leader 1
client write log 3539492350657766367 (index 306) to leader 1
client write log 9089145343498138087 (index 307) to leader 1
client write log 7736138915067590365 (index 308) to leader 1
client write log 2228306756801046425 (index 309) to leader 1
client write log 621334897569712554 (index 310) to leader 1
client write log 2879621545509797957 (index 311) to leader 1
flag 84031 term 53 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 53 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
flag 52538 term 53 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 53 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 51 299} {6293037122297527738 51 300} {3133558724966724541 51 301} {8527906297090634136 51 302} {8527906297090634136 53 303} {6506865849626191667 53 304} {6675109862620330235 53 305} {3539492350657766367 53 306} {9089145343498138087 53 307} {7736138915067590365 53 308} {2228306756801046425 53 309} {621334897569712554 53 310} {2879621545509797957 53 311}]
------------------------------------------------------
term 53 Server1 start snapshot! index=309
term 53 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=311
-------------------------------------------------------------
flag 90966 term 53 leader 1 nextIndex[0]: 312  matchIndex[0]: 311
term 53 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311}]
------------------------------------------------------
term 53 Server0 start snapshot! index=309
term 53 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=311
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4585357388925681373 (index 312) to leader 1
flag 27818 term 53 leader 1 nextIndex[0]: 312  matchIndex[0]: 311
term 53 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 53
------------------------------------------------------
term 54 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 0 not vote for server 1, 任期不够新
term 54 server 1 get outdate rpc reply from server 0
term 55 server 2 vote for server 1
term 55 server 1 get vote from server 2
term 55 server 1 become leader
------------------------------------------------------
term 55 server 0 vote for server 1
term 55 server 1 get outdate rpc reply from server 0
flag 63858 term 55 leader 1 nextIndex[0]: 313  matchIndex[0]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
flag 20948 term 55 leader 1 nextIndex[2]: 313  matchIndex[2]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
term 55 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 313->312
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
flag 9300 term 55 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 304  matchIndex[2]: 0
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 53
------------------------------------------------------
term 55 server 2 InstallSnapshot success
------------------------------------------------------
term 55 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 53 rf.commitIndex 309 rf.lastApplied 309
term 55 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60825 term 55 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
flag 51969 term 55 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 55 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58722 term 55 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
flag 58049 term 55 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
flag 71836 term 55 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
flag 97256 term 55 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
flag 60287 term 55 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
flag 99897 term 55 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
flag 28992 term 55 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
flag 21968 term 55 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
flag 46756 term 55 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
flag 82621 term 55 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
term 55 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2090 term 55 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
flag 23654 term 55 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65709 term 55 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
flag 44030 term 55 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
flag 50036 term 55 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
flag 87269 term 55 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
flag 95599 term 55 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
flag 1566 term 55 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
flag 18470 term 55 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
flag 18852 term 55 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
flag 64795 term 55 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
flag 4480 term 55 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
flag 35653 term 55 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
flag 46411 term 55 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
flag 69453 term 55 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
flag 41984 term 55 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
flag 85656 term 55 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
flag 4168 term 55 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
flag 78735 term 55 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
flag 89637 term 55 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312}]
------------------------------------------------------
client write log 4585357388925681373 (index 313) to leader 1
flag 90160 term 55 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
flag 59212 term 55 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 55 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312} {4585357388925681373 55 313}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312} {4585357388925681373 55 313}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78310 term 55 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 55 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 66894 term 55 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 55 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
term 55 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312} {4585357388925681373 55 313}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312} {4585357388925681373 55 313}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43925 term 55 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 55 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 71075 term 55 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 55 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312} {4585357388925681373 55 313}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312} {4585357388925681373 55 313}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73374 term 55 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 55 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 50962 term 55 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 55 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312} {4585357388925681373 55 313}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312} {4585357388925681373 55 313}]
------------------------------------------------------
flag 24536 term 55 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 55 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 90977 term 55 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 55 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312} {4585357388925681373 55 313}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312} {4585357388925681373 55 313}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23236 term 55 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 55 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 47959 term 55 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 55 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312} {4585357388925681373 55 313}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312} {4585357388925681373 55 313}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 server 0 not vote for server 1, 任期不够新
term 55 server 1 get outdate rpc reply from server 0
flag 66224 term 55 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 55 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 11921 term 55 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 55 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312} {4585357388925681373 55 313}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312} {4585357388925681373 55 313}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 59487 term 55 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 55 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 19958 term 55 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 55 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 55 server 0 not vote for server 2, 任期不够新
term 55 server 2 get outdate rpc reply from server 0
flag 13283 term 55 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 55 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 70539 term 55 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 55 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 314->313
------------------------------------------------------
flag 55782 term 55 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 55 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 0  matchIndex[2]: 313
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 53
------------------------------------------------------
term 56 server 0 vote for server 2
term 56 server 2 get vote from server 0
term 56 server 2 become leader
------------------------------------------------------
client write log 39402575041670265 (index 314) to leader 2
flag 2036 term 56 leader 2 nextIndex[0]: 314  matchIndex[0]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 40708 term 56 leader 2 nextIndex[1]: 314  matchIndex[1]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312} {4585357388925681373 55 313} {39402575041670265 56 314}]
------------------------------------------------------
flag 54278 term 55 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 55 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 0  matchIndex[2]: 313
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 53
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30336 term 56 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 56 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
flag 88813 term 56 leader 2 nextIndex[1]: 314  matchIndex[1]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312} {4585357388925681373 55 313} {39402575041670265 56 314}]
------------------------------------------------------
client write log 8052455065006941515 (index 315) to leader 2
client write log 8856021963643586864 (index 316) to leader 2
client write log 1214787592644514924 (index 317) to leader 2
client write log 3098539206704888405 (index 318) to leader 2
client write log 6191732366083949821 (index 319) to leader 2
client write log 7988836706524538406 (index 320) to leader 2
flag 73255 term 55 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 55 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 0  matchIndex[2]: 313
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 53
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90546 term 56 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 56 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 56 leaderCommit: 314 
------------------------------------------------------
flag 53545 term 56 leader 2 nextIndex[1]: 314  matchIndex[1]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 309} {621334897569712554 53 310} {2879621545509797957 53 311} {4585357388925681373 53 312} {4585357388925681373 55 313} {39402575041670265 56 314} {8052455065006941515 56 315} {8856021963643586864 56 316} {1214787592644514924 56 317} {3098539206704888405 56 318} {6191732366083949821 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
term 56 Server2 start snapshot! index=319
term 56 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=320
-------------------------------------------------------------
flag 9434 term 55 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 55 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 0  matchIndex[2]: 313
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 53
------------------------------------------------------
flag 20828 term 56 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 leader 2 nextIndex[1]: 314  matchIndex[1]: 0
term 56 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 56
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
term 56 Server0 start snapshot! index=319
term 56 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=320
-------------------------------------------------------------
!!!!!!connect server 1
client write log 9114263612948786671 (index 314) to leader 1
flag 54147 term 55 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 55 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 0  matchIndex[2]: 313
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 53
------------------------------------------------------
term 56 server 0 AppendEntries false 领导者任期过期 args.Term 55
------------------------------------------------------
term 56 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 56 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83790 term 56 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 leader 2 nextIndex[1]: 314  matchIndex[1]: 0
term 56 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 56
------------------------------------------------------
term 56 server 1 InstallSnapshot success
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
term 56 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 56 rf.commitIndex 319 rf.lastApplied 319
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
flag 49039 term 56 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 78032 term 56 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 56 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53198 term 56 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 46168 term 56 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
flag 2418 term 56 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 88104 term 56 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
term 56 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27645 term 56 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 6213 term 56 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
flag 67767 term 56 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 48636 term 56 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15990 term 56 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 40190 term 56 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49063 term 56 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 18280 term 56 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 321->320
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
flag 29093 term 56 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 leader 2 nextIndex[1]: 0  matchIndex[1]: 320
term 56 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 56
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
term 56 server 1 InstallSnapshot fail
rf.commitIndex 320 args.LastIncludedIndex 319
------------------------------------------------------
term 56 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
flag 58207 term 56 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 25087 term 56 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 56 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
flag 79495 term 56 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 13913 term 56 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
flag 22052 term 56 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 75054 term 56 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
flag 8602 term 56 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 17014 term 56 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
term 56 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98004 term 56 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 68874 term 56 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
flag 69063 term 56 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 11746 term 56 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11359 term 56 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 33581 term 56 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
flag 77946 term 56 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 17477 term 56 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
flag 77044 term 56 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 91737 term 56 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 321->320
------------------------------------------------------
term 56 server 1 not vote for server 2, 任期不够新
term 56 server 2 get outdate rpc reply from server 1
flag 42006 term 56 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 leader 2 nextIndex[1]: 0  matchIndex[1]: 320
term 56 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 56
------------------------------------------------------
term 56 server 1 InstallSnapshot fail
rf.commitIndex 320 args.LastIncludedIndex 319
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
term 56 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320}]
------------------------------------------------------
term 56 server 1 not vote for server 2, 日志不够新
term 56 server 2 get outdate rpc reply from server 1
flag 49087 term 56 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 94912 term 56 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 56 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
client write log 9114263612948786671 (index 321) to leader 2
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320} {9114263612948786671 56 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {7988836706524538406 56 320} {9114263612948786671 56 321}]
------------------------------------------------------
term 56 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59272 term 56 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 69177 term 56 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 56 319} {7988836706524538406 56 320} {9114263612948786671 56 321}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 56 319} {7988836706524538406 56 320} {9114263612948786671 56 321}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16925 term 56 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 56 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 321 
------------------------------------------------------
flag 31598 term 56 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 56 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 321 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 56 319} {7988836706524538406 56 320} {9114263612948786671 56 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 56 319} {7988836706524538406 56 320} {9114263612948786671 56 321}]
------------------------------------------------------
flag 94609 term 56 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 56 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 321 
------------------------------------------------------
flag 9960 term 56 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 56 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 321 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 56 319} {7988836706524538406 56 320} {9114263612948786671 56 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 56 319} {7988836706524538406 56 320} {9114263612948786671 56 321}]
------------------------------------------------------
flag 4374 term 56 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 56 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 321 
------------------------------------------------------
flag 26343 term 56 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 56 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 321 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:321 
term 56 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 56 319} {7988836706524538406 56 320} {9114263612948786671 56 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 56 319} {7988836706524538406 56 320} {9114263612948786671 56 321}]
------------------------------------------------------
flag 66849 term 56 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 56 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 321 
------------------------------------------------------
flag 20684 term 56 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 56 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 321 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 56 319} {7988836706524538406 56 320} {9114263612948786671 56 321}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 56 319} {7988836706524538406 56 320} {9114263612948786671 56 321}]
------------------------------------------------------
flag 47678 term 56 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 56 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 321 
------------------------------------------------------
flag 64383 term 56 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 56 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 321 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 56 319} {7988836706524538406 56 320} {9114263612948786671 56 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 56 319} {7988836706524538406 56 320} {9114263612948786671 56 321}]
------------------------------------------------------
flag 90129 term 56 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 56 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 321 
------------------------------------------------------
flag 50320 term 56 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 56 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 321 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 56 319} {7988836706524538406 56 320} {9114263612948786671 56 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 56 319} {7988836706524538406 56 320} {9114263612948786671 56 321}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6942407991590106951 (index 322) to leader 2
flag 53646 term 56 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 56 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 321 
------------------------------------------------------
flag 58758 term 56 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 56 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 321 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 56 319} {7988836706524538406 56 320} {9114263612948786671 56 321} {6942407991590106951 56 322}]
------------------------------------------------------
flag 47871 term 56 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 56 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 322 
------------------------------------------------------
flag 75760 term 56 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 56 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 56 leaderCommit: 322 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 56 319} {7988836706524538406 56 320} {9114263612948786671 56 321} {6942407991590106951 56 322}]
------------------------------------------------------
client write log 6557632534602566023 (index 323) to leader 2
client write log 4481855179697468245 (index 324) to leader 2
client write log 1034231094967439261 (index 325) to leader 2
client write log 7161171514400094460 (index 326) to leader 2
client write log 4236338032633365465 (index 327) to leader 2
client write log 8692242574434538995 (index 328) to leader 2
client write log 2095956076689199506 (index 329) to leader 2
client write log 862294161229190852 (index 330) to leader 2
client write log 405411719365755983 (index 331) to leader 2
client write log 6278031229634341102 (index 332) to leader 2
client write log 996120843558187372 (index 333) to leader 2
client write log 4144530427155554638 (index 334) to leader 2
client write log 9114013836886679315 (index 335) to leader 2
client write log 6092849700367125066 (index 336) to leader 2
flag 38208 term 56 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 56 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 322 
------------------------------------------------------
flag 42178 term 56 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 56 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 56 leaderCommit: 322 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 56 319} {7988836706524538406 56 320} {9114263612948786671 56 321} {6942407991590106951 56 322} {6557632534602566023 56 323} {4481855179697468245 56 324} {1034231094967439261 56 325} {7161171514400094460 56 326} {4236338032633365465 56 327} {8692242574434538995 56 328} {2095956076689199506 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336}]
------------------------------------------------------
term 56 Server2 start snapshot! index=329
term 56 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=336
-------------------------------------------------------------
term 56 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 56 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 56
------------------------------------------------------
flag 21742 term 56 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 56 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336}]
------------------------------------------------------
term 56 Server1 start snapshot! index=329
term 56 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=336
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2215200751008023512 (index 337) to leader 2
term 56 server 1 not vote for server 0, 日志不够新
term 56 server 2 not vote for server 0, 日志不够新
term 58 server 1 vote for server 2
term 58 server 2 get vote from server 1
term 58 server 2 become leader
------------------------------------------------------
term 58 server 0 vote for server 2
term 58 server 2 get outdate rpc reply from server 0
flag 43253 term 58 leader 2 nextIndex[0]: 338  matchIndex[0]: 0
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 61691 term 58 leader 2 nextIndex[1]: 338  matchIndex[1]: 0
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 58 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 338->337
------------------------------------------------------
term 58 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 338->337
------------------------------------------------------
term 58 server 0 not vote for server 2, 任期不够新
term 58 server 2 get outdate rpc reply from server 0
term 58 leader 2 nextIndex[0]: 322  matchIndex[0]: 0
term 58 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 56
------------------------------------------------------
flag 25821 term 58 leader 2 nextIndex[1]: 337  matchIndex[1]: 0
term 58 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 58 server 0 InstallSnapshot success
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:336 
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 56 rf.commitIndex 329 rf.lastApplied 329
term 58 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 330 matchIndex[0] 329 
------------------------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
flag 33094 term 58 leader 2 nextIndex[0]: 330  matchIndex[0]: 329
term 58 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 80816 term 58 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
term 58 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56733 term 58 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 44199 term 58 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
flag 21468 term 58 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 12854 term 58 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
flag 55047 term 58 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 10433 term 58 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
flag 78952 term 58 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 52676 term 58 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
flag 69925 term 58 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 38792 term 58 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
flag 81285 term 58 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 44136 term 58 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
flag 46431 term 58 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 43234 term 58 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
flag 72483 term 58 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 76901 term 58 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
flag 81974 term 58 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 18895 term 58 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58048 term 58 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 16560 term 58 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
flag 41706 term 58 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 2183 term 58 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1414 term 58 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 57255 term 58 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
flag 12329 term 58 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 963 term 58 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
flag 40510 term 58 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 80306 term 58 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
term 58 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20566 term 58 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 27390 term 58 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
flag 53445 term 58 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 12233 term 58 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
flag 98540 term 58 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 12366 term 58 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337}]
------------------------------------------------------
client write log 2215200751008023512 (index 338) to leader 2
flag 18422 term 58 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 41475 term 58 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 58 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337} {2215200751008023512 58 338}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=339
update matchIndex[0]=338
update leader CommitIndex=338
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337} {2215200751008023512 58 338}]
------------------------------------------------------
flag 71633 term 58 leader 2 nextIndex[0]: 339  matchIndex[0]: 338
term 58 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 58 leaderCommit: 338 
------------------------------------------------------
flag 10994 term 58 leader 2 nextIndex[1]: 339  matchIndex[1]: 338
term 58 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 58 leaderCommit: 338 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337} {2215200751008023512 58 338}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=339
update matchIndex[0]=338
update leader CommitIndex=338
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337} {2215200751008023512 58 338}]
------------------------------------------------------
flag 22082 term 58 leader 2 nextIndex[0]: 339  matchIndex[0]: 338
term 58 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 58 leaderCommit: 338 
------------------------------------------------------
flag 31996 term 58 leader 2 nextIndex[1]: 339  matchIndex[1]: 338
term 58 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 58 leaderCommit: 338 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337} {2215200751008023512 58 338}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=339
update matchIndex[0]=338
update leader CommitIndex=338
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337} {2215200751008023512 58 338}]
------------------------------------------------------
flag 24080 term 58 leader 2 nextIndex[0]: 339  matchIndex[0]: 338
term 58 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 58 leaderCommit: 338 
------------------------------------------------------
flag 23488 term 58 leader 2 nextIndex[1]: 339  matchIndex[1]: 338
term 58 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 58 leaderCommit: 338 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337} {2215200751008023512 58 338}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=339
update matchIndex[0]=338
update leader CommitIndex=338
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337} {2215200751008023512 58 338}]
------------------------------------------------------
flag 69351 term 58 leader 2 nextIndex[0]: 339  matchIndex[0]: 338
term 58 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 58 leaderCommit: 338 
------------------------------------------------------
flag 8658 term 58 leader 2 nextIndex[1]: 339  matchIndex[1]: 338
term 58 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 58 leaderCommit: 338 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337} {2215200751008023512 58 338}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=339
update matchIndex[0]=338
update leader CommitIndex=338
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337} {2215200751008023512 58 338}]
------------------------------------------------------
flag 46093 term 58 leader 2 nextIndex[0]: 339  matchIndex[0]: 338
term 58 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 58 leaderCommit: 338 
------------------------------------------------------
flag 88294 term 58 leader 2 nextIndex[1]: 339  matchIndex[1]: 338
term 58 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 58 leaderCommit: 338 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=339
update matchIndex[0]=338
update leader CommitIndex=338
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337} {2215200751008023512 58 338}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337} {2215200751008023512 58 338}]
------------------------------------------------------
flag 3468 term 58 leader 2 nextIndex[0]: 339  matchIndex[0]: 338
term 58 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 58 leaderCommit: 338 
------------------------------------------------------
flag 79774 term 58 leader 2 nextIndex[1]: 339  matchIndex[1]: 338
term 58 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 58 leaderCommit: 338 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=339
update matchIndex[0]=338
update leader CommitIndex=338
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337} {2215200751008023512 58 338}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 56 329} {862294161229190852 56 330} {405411719365755983 56 331} {6278031229634341102 56 332} {996120843558187372 56 333} {4144530427155554638 56 334} {9114013836886679315 56 335} {6092849700367125066 56 336} {2215200751008023512 56 337} {2215200751008023512 58 338}]
------------------------------------------------------
  ... Passed --  75.9  3 1755  800524  338
--- PASS: TestSnapshotInstall2D (75.88s)
PASS
