=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 0 vote for server 1
term 1 server 1 get vote from server 2
term 1 server 1 become leader
------------------------------------------------------
term 1 server 1 get outdate rpc reply from server 0
flag 76410 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 24065 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 967447041792970877 (index 1) to leader 1
flag 19728 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 214 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {967447041792970877 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {967447041792970877 1 1}]
------------------------------------------------------
flag 40250 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 54122 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
[{<nil> 0 0} {967447041792970877 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {967447041792970877 1 1}]
------------------------------------------------------
flag 77310 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 18782 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {967447041792970877 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {967447041792970877 1 1}]
------------------------------------------------------
flag 77384 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 13432 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {967447041792970877 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {967447041792970877 1 1}]
------------------------------------------------------
flag 35174 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 31954 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {967447041792970877 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {967447041792970877 1 1}]
------------------------------------------------------
flag 39377 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 65073 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {967447041792970877 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {967447041792970877 1 1}]
------------------------------------------------------
flag 43996 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 61218 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {967447041792970877 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {967447041792970877 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5988535522252028602 (index 2) to leader 1
flag 77383 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 42864 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {967447041792970877 1 1} {5988535522252028602 1 2}]
------------------------------------------------------
flag 21382 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 49039 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {967447041792970877 1 1} {5988535522252028602 1 2}]
------------------------------------------------------
client write log 2489135070327127672 (index 3) to leader 1
client write log 1263315613889056448 (index 4) to leader 1
client write log 8388261813568821577 (index 5) to leader 1
client write log 3184657941726540337 (index 6) to leader 1
client write log 2468761205018372632 (index 7) to leader 1
client write log 2782401846169849853 (index 8) to leader 1
client write log 2875603010265793844 (index 9) to leader 1
client write log 288516678705876078 (index 10) to leader 1
client write log 9059040038299682283 (index 11) to leader 1
flag 22786 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 72207 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{<nil> 0 0} {967447041792970877 1 1} {5988535522252028602 1 2} {2489135070327127672 1 3} {1263315613889056448 1 4} {8388261813568821577 1 5} {3184657941726540337 1 6} {2468761205018372632 1 7} {2782401846169849853 1 8} {2875603010265793844 1 9} {288516678705876078 1 10} {9059040038299682283 1 11}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=11
-------------------------------------------------------------
flag 6824 term 1 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 1 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=11
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8768046890131566880 (index 12) to leader 1
flag 23493 term 1 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 1 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 2 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 3 server 2 vote for server 1
term 3 server 0 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 1 get outdate rpc reply from server 0
flag 97545 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 82972 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 13->12
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
flag 4095 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
flag 14016 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 97437 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
flag 75205 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 61258 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
flag 21204 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 13178 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
flag 12566 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 36829 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 3 server 0 not vote for server 2, 任期不够新
term 3 server 2 get outdate rpc reply from server 0
flag 315 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 17355 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
flag 40119 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 83439 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
flag 25868 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 29987 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45632 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 79314 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45284 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 40589 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
flag 2268 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 71656 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
flag 36153 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 3764 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
flag 3901 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 35074 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
flag 75771 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 53533 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
flag 87045 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 45023 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
flag 34155 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 78313 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
flag 15597 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 93497 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
flag 77599 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 83277 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12}]
------------------------------------------------------
client write log 8768046890131566880 (index 13) to leader 1
flag 22076 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 78322 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13}]
------------------------------------------------------
flag 48553 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 74245 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13}]
------------------------------------------------------
flag 13126 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 15984 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13}]
------------------------------------------------------
flag 90861 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 88058 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13}]
------------------------------------------------------
flag 54224 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 44319 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13}]
------------------------------------------------------
flag 6915 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 58171 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13}]
------------------------------------------------------
flag 91495 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 45135 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 87560 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 35522 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 71467 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 68750 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 82373 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 35126 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 vote for server 0
term 4 server 0 get vote from server 2
term 4 server 0 become leader
------------------------------------------------------
flag 74124 term 4 leader 0 nextIndex[1]: 14  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 20052 term 4 leader 0 nextIndex[2]: 14  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13}]
------------------------------------------------------
flag 80226 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 13925 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
client write log 6929293165763544791 (index 14) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 14->13
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 71461 term 4 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14}]
------------------------------------------------------
flag 86570 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 36281 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 63011 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14}]
------------------------------------------------------
flag 78187 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 46490 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
client write log 2677277616889491766 (index 15) to leader 0
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 89302 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
flag 50450 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 85154 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 14->13
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 34669 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 13
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 65571 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
!!!!!!connect server 1
client write log 3495883818457671814 (index 14) to leader 1
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 49133 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 13 args.LastIncludedIndex 9
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
flag 50480 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 79102 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25194 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 11 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
flag 92281 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 145 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64378 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 35459 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
flag 58512 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 15232 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78265 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 74903 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
flag 82078 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 3690 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
flag 82562 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 28799 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
flag 13955 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 76727 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
flag 17567 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 47083 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13858 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 85096 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
term 4 server 1 not vote for server 2, 任期不够新
term 4 server 2 get outdate rpc reply from server 1
flag 71872 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 19588 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
flag 21575 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 95119 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
flag 64951 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 74915 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
flag 20668 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 45852 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
flag 57932 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 75255 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
flag 19649 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 59350 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
flag 72474 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 60910 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
flag 71841 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 78559 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15}]
------------------------------------------------------
client write log 3495883818457671814 (index 16) to leader 0
flag 88353 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 46260 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15} {3495883818457671814 4 16}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15} {3495883818457671814 4 16}]
------------------------------------------------------
flag 3835 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 29387 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
update nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15} {3495883818457671814 4 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15} {3495883818457671814 4 16}]
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
flag 22908 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 55428 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15} {3495883818457671814 4 16}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15} {3495883818457671814 4 16}]
------------------------------------------------------
flag 51237 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 68577 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15} {3495883818457671814 4 16}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15} {3495883818457671814 4 16}]
------------------------------------------------------
flag 98975 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 82627 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15} {3495883818457671814 4 16}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15} {3495883818457671814 4 16}]
------------------------------------------------------
flag 29001 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 60457 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15} {3495883818457671814 4 16}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15} {3495883818457671814 4 16}]
------------------------------------------------------
flag 30744 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 20231 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15} {3495883818457671814 4 16}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15} {3495883818457671814 4 16}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7034552139773460724 (index 17) to leader 0
flag 69026 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 63916 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15} {3495883818457671814 4 16} {7034552139773460724 4 17}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39185 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 79861 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15} {3495883818457671814 4 16} {7034552139773460724 4 17}]
------------------------------------------------------
client write log 3431550179907916362 (index 18) to leader 0
client write log 5064369898647599701 (index 19) to leader 0
client write log 448493014301982856 (index 20) to leader 0
client write log 7597017598634565031 (index 21) to leader 0
client write log 7828452641074934512 (index 22) to leader 0
client write log 1952339744627461707 (index 23) to leader 0
client write log 6333752984179680037 (index 24) to leader 0
client write log 8875489066979616873 (index 25) to leader 0
client write log 6430536368870229265 (index 26) to leader 0
client write log 1184527101563337463 (index 27) to leader 0
client write log 5728031164062681621 (index 28) to leader 0
client write log 7473555692381638695 (index 29) to leader 0
client write log 8682585113100997982 (index 30) to leader 0
client write log 3829323553430823251 (index 31) to leader 0
client write log 8705197582222752830 (index 32) to leader 0
flag 51347 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 47374 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 1 9} {288516678705876078 1 10} {9059040038299682283 1 11} {8768046890131566880 1 12} {8768046890131566880 3 13} {6929293165763544791 4 14} {2677277616889491766 4 15} {3495883818457671814 4 16} {7034552139773460724 4 17} {3431550179907916362 4 18} {5064369898647599701 4 19} {448493014301982856 4 20} {7597017598634565031 4 21} {7828452641074934512 4 22} {1952339744627461707 4 23} {6333752984179680037 4 24} {8875489066979616873 4 25} {6430536368870229265 4 26} {1184527101563337463 4 27} {5728031164062681621 4 28} {7473555692381638695 4 29} {8682585113100997982 4 30} {3829323553430823251 4 31} {8705197582222752830 4 32}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=32
-------------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=32
-------------------------------------------------------------
term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 5734 term 4 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8682585113100997982 4 30} {3829323553430823251 4 31} {8705197582222752830 4 32}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=32
-------------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=32
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3150057996622197457 (index 33) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 55061 term 4 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8682585113100997982 4 30} {3829323553430823251 4 31} {8705197582222752830 4 32} {3150057996622197457 4 33}]
------------------------------------------------------
term 5 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 2 vote for server 0
term 6 server 1 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 0 get outdate rpc reply from server 1
flag 69640 term 6 leader 0 nextIndex[1]: 34  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 23559 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8682585113100997982 4 30} {3829323553430823251 4 31} {8705197582222752830 4 32} {3150057996622197457 4 33}]
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 34->33
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 17  matchIndex[1]: 0
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 30111 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
term 6 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8682585113100997982 4 30} {3829323553430823251 4 31} {8705197582222752830 4 32} {3150057996622197457 4 33}]
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
flag 59040 term 6 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 529 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8682585113100997982 4 30} {3829323553430823251 4 31} {8705197582222752830 4 32} {3150057996622197457 4 33}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8682585113100997982 4 30} {3829323553430823251 4 31} {8705197582222752830 4 32} {3150057996622197457 4 33}]
------------------------------------------------------
flag 34212 term 6 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 24219 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8682585113100997982 4 30} {3829323553430823251 4 31} {8705197582222752830 4 32} {3150057996622197457 4 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8682585113100997982 4 30} {3829323553430823251 4 31} {8705197582222752830 4 32} {3150057996622197457 4 33}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25477 term 6 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 63829 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8682585113100997982 4 30} {3829323553430823251 4 31} {8705197582222752830 4 32} {3150057996622197457 4 33}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8682585113100997982 4 30} {3829323553430823251 4 31} {8705197582222752830 4 32} {3150057996622197457 4 33}]
------------------------------------------------------
term 6 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10473 term 6 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 69419 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8682585113100997982 4 30} {3829323553430823251 4 31} {8705197582222752830 4 32} {3150057996622197457 4 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8682585113100997982 4 30} {3829323553430823251 4 31} {8705197582222752830 4 32} {3150057996622197457 4 33}]
------------------------------------------------------
flag 33125 term 6 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 32905 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8682585113100997982 4 30} {3829323553430823251 4 31} {8705197582222752830 4 32} {3150057996622197457 4 33}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8682585113100997982 4 30} {3829323553430823251 4 31} {8705197582222752830 4 32} {3150057996622197457 4 33}]
------------------------------------------------------
flag 77384 term 6 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 35343 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8682585113100997982 4 30} {3829323553430823251 4 31} {8705197582222752830 4 32} {3150057996622197457 4 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8682585113100997982 4 30} {3829323553430823251 4 31} {8705197582222752830 4 32} {3150057996622197457 4 33}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8763 term 6 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 69229 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8682585113100997982 4 30} {3829323553430823251 4 31} {8705197582222752830 4 32} {3150057996622197457 4 33}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8682585113100997982 4 30} {3829323553430823251 4 31} {8705197582222752830 4 32} {3150057996622197457 4 33}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 797307859216829759 (index 34) to leader 0
flag 68163 term 6 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 38107 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {8682585113100997982 4 30} {3829323553430823251 4 31} {8705197582222752830 4 32} {3150057996622197457 4 33} {797307859216829759 6 34}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59847 term 6 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 76100 term 6 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {8682585113100997982 4 30} {3829323553430823251 4 31} {8705197582222752830 4 32} {3150057996622197457 4 33} {797307859216829759 6 34}]
------------------------------------------------------
client write log 2208558755656584761 (index 35) to leader 0
client write log 383030343419807975 (index 36) to leader 0
client write log 6943907915760948290 (index 37) to leader 0
client write log 8560909438064768435 (index 38) to leader 0
client write log 3280908658087507826 (index 39) to leader 0
client write log 576460701577593912 (index 40) to leader 0
client write log 5832317612640965868 (index 41) to leader 0
client write log 3171159977769431104 (index 42) to leader 0
client write log 5966470189521140584 (index 43) to leader 0
flag 1776 term 6 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 60005 term 6 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 29} {8682585113100997982 4 30} {3829323553430823251 4 31} {8705197582222752830 4 32} {3150057996622197457 4 33} {797307859216829759 6 34} {2208558755656584761 6 35} {383030343419807975 6 36} {6943907915760948290 6 37} {8560909438064768435 6 38} {3280908658087507826 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=43
-------------------------------------------------------------
term 6 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 46122 term 6 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=43
-------------------------------------------------------------
!!!!!!connect server 1
client write log 481320331755408071 (index 44) to leader 0
term 6 server 2 not vote for server 1, 日志不够新
term 6 server 0 not vote for server 1, 日志不够新
term 8 server 2 vote for server 0
term 8 server 0 get vote from server 2
term 8 server 0 become leader
------------------------------------------------------
term 8 server 1 vote for server 0
term 8 server 0 get outdate rpc reply from server 1
flag 19253 term 8 leader 0 nextIndex[1]: 45  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 92748 term 8 leader 0 nextIndex[2]: 45  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 45->44
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 45->44
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 34  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 77081 term 8 leader 0 nextIndex[2]: 44  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
term 8 server 1 InstallSnapshot success
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
flag 37670 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 10293 term 8 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
term 8 server 1 not vote for server 0, 任期不够新
term 8 server 0 get outdate rpc reply from server 1
flag 95437 term 8 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 5754 term 8 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
flag 13683 term 8 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 4860 term 8 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
flag 57623 term 8 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 85445 term 8 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
flag 97582 term 8 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 14737 term 8 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
flag 45501 term 8 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 85061 term 8 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
flag 67270 term 8 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 2282 term 8 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
flag 11130 term 8 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 90943 term 8 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
flag 61778 term 8 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 91860 term 8 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
flag 28028 term 8 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 14821 term 8 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18540 term 8 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 74515 term 8 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39577 term 8 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 59901 term 8 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12351 term 8 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 71861 term 8 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
flag 99370 term 8 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 93790 term 8 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
flag 72957 term 8 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 51108 term 8 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74330 term 8 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 75437 term 8 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
flag 49370 term 8 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 13164 term 8 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
flag 10305 term 8 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 94778 term 8 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44}]
------------------------------------------------------
client write log 481320331755408071 (index 45) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34266 term 8 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 89345 term 8 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45}]
------------------------------------------------------
flag 20794 term 8 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 42602 term 8 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57136 term 8 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 1529 term 8 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45}]
------------------------------------------------------
flag 60077 term 8 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 6778 term 8 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45}]
------------------------------------------------------
flag 83550 term 8 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 44584 term 8 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45}]
------------------------------------------------------
flag 79468 term 8 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 29654 term 8 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45}]
------------------------------------------------------
flag 16181 term 8 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 60117 term 8 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 74347 term 8 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 99131 term 8 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 18405 term 8 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 96799 term 8 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 59690 term 8 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 76527 term 8 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 56588 term 8 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 26747 term 8 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 9 server 1 vote for server 2
term 9 server 2 get vote from server 1
term 9 server 2 become leader
------------------------------------------------------
flag 21965 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 99813 term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45}]
------------------------------------------------------
client write log 7559489442269288533 (index 46) to leader 2
flag 42284 term 8 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 52622 term 8 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 46->45
------------------------------------------------------
flag 61783 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 11064 term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45} {7559489442269288533 9 46}]
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 45
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 33623 term 8 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 22042 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 32286 term 9 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45} {7559489442269288533 9 46}]
------------------------------------------------------
client write log 8540712764143331254 (index 47) to leader 2
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 45
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 5411 term 8 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98049 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 50473 term 9 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45} {7559489442269288533 9 46} {8540712764143331254 9 47}]
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 45
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 55017 term 8 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 21820 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 47 
------------------------------------------------------
flag 8792 term 9 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 9 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45} {7559489442269288533 9 46} {8540712764143331254 9 47}]
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 45
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 14996 term 8 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
!!!!!!connect server 0
client write log 3195244562847662224 (index 48) to leader 2
flag 99821 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 47 
------------------------------------------------------
flag 16432 term 9 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 9 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:47 
term 9 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45} {7559489442269288533 9 46} {8540712764143331254 9 47} {3195244562847662224 9 48}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45} {7559489442269288533 9 46} {8540712764143331254 9 47} {3195244562847662224 9 48}]
------------------------------------------------------
flag 35621 term 9 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 9 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
flag 17044 term 9 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 9 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45} {7559489442269288533 9 46} {8540712764143331254 9 47} {3195244562847662224 9 48}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45} {7559489442269288533 9 46} {8540712764143331254 9 47} {3195244562847662224 9 48}]
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 49->48
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 48
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 99787 term 9 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 9 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
term 9 server 0 InstallSnapshot fail
rf.commitIndex 48 args.LastIncludedIndex 39
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
term 9 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45} {7559489442269288533 9 46} {8540712764143331254 9 47} {3195244562847662224 9 48}]
------------------------------------------------------
flag 33130 term 9 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 49450 term 9 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 9 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45} {7559489442269288533 9 46} {8540712764143331254 9 47} {3195244562847662224 9 48}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45} {7559489442269288533 9 46} {8540712764143331254 9 47} {3195244562847662224 9 48}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82279 term 9 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 9 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
flag 24757 term 9 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 9 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45} {7559489442269288533 9 46} {8540712764143331254 9 47} {3195244562847662224 9 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45} {7559489442269288533 9 46} {8540712764143331254 9 47} {3195244562847662224 9 48}]
------------------------------------------------------
flag 7826 term 9 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 9 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
flag 94542 term 9 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 9 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45} {7559489442269288533 9 46} {8540712764143331254 9 47} {3195244562847662224 9 48}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45} {7559489442269288533 9 46} {8540712764143331254 9 47} {3195244562847662224 9 48}]
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34230 term 9 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 9 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
flag 62497 term 9 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 9 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45} {7559489442269288533 9 46} {8540712764143331254 9 47} {3195244562847662224 9 48}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45} {7559489442269288533 9 46} {8540712764143331254 9 47} {3195244562847662224 9 48}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6947112983337286472 (index 49) to leader 2
term 9 server 2 not vote for server 1, 任期不够新
term 9 server 1 get outdate rpc reply from server 2
flag 12832 term 9 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 9 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
flag 84564 term 9 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 9 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 39} {576460701577593912 6 40} {5832317612640965868 6 41} {3171159977769431104 6 42} {5966470189521140584 6 43} {481320331755408071 6 44} {481320331755408071 8 45} {7559489442269288533 9 46} {8540712764143331254 9 47} {3195244562847662224 9 48} {6947112983337286472 9 49}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 9 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 99083 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 9 49}]
------------------------------------------------------
term 9 Server1 start snapshot! index=49
term 9 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 5005264434365596315 (index 50) to leader 2
client write log 8857917403019751624 (index 51) to leader 2
client write log 1623958720348605999 (index 52) to leader 2
client write log 7698659412035385723 (index 53) to leader 2
client write log 4930457650431646010 (index 54) to leader 2
client write log 3433788179196030926 (index 55) to leader 2
client write log 2575528638302892802 (index 56) to leader 2
client write log 6432949614220844500 (index 57) to leader 2
client write log 3137854395636209205 (index 58) to leader 2
client write log 1628699976781216911 (index 59) to leader 2
client write log 4200705531106699071 (index 60) to leader 2
client write log 6329821362322095046 (index 61) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 79976 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 49} {5005264434365596315 9 50} {8857917403019751624 9 51} {1623958720348605999 9 52} {7698659412035385723 9 53} {4930457650431646010 9 54} {3433788179196030926 9 55} {2575528638302892802 9 56} {6432949614220844500 9 57} {3137854395636209205 9 58} {1628699976781216911 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=61
-------------------------------------------------------------
term 9 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 68744 term 9 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61}]
------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=61
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4439508291701773914 (index 62) to leader 2
term 9 server 2 not vote for server 0, 日志不够新
term 9 server 1 not vote for server 0, 日志不够新
term 11 server 1 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 2 become leader
------------------------------------------------------
term 11 server 0 vote for server 2
term 11 server 2 get outdate rpc reply from server 0
flag 78854 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 41698 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 63->62
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 63->62
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 49  matchIndex[0]: 0
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 11366 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5698 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 81238 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66425 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 78117 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
flag 9807 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 71436 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
flag 3596 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 36400 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 0 not vote for server 2, 任期不够新
term 11 server 2 get outdate rpc reply from server 0
flag 42414 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 1538 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56409 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 49587 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81705 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 3102 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76686 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 57864 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
flag 12390 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 83561 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
flag 91214 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 65291 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
flag 91204 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 96538 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40460 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 67565 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
flag 91996 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 62248 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
flag 67472 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 96084 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
flag 80859 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 15039 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
flag 40176 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 41101 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
flag 41515 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 95620 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62}]
------------------------------------------------------
client write log 4439508291701773914 (index 63) to leader 2
term 11 server 0 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 0
flag 24257 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 23280 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62} {4439508291701773914 11 63}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62} {4439508291701773914 11 63}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68992 term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 79918 term 11 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62} {4439508291701773914 11 63}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62} {4439508291701773914 11 63}]
------------------------------------------------------
flag 59141 term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 52449 term 11 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62} {4439508291701773914 11 63}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62} {4439508291701773914 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32687 term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 98487 term 11 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62} {4439508291701773914 11 63}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62} {4439508291701773914 11 63}]
------------------------------------------------------
flag 21389 term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 53620 term 11 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62} {4439508291701773914 11 63}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62} {4439508291701773914 11 63}]
------------------------------------------------------
flag 59421 term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 46581 term 11 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62} {4439508291701773914 11 63}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62} {4439508291701773914 11 63}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8024997175444989926 (index 64) to leader 2
flag 10997 term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 71976 term 11 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62} {4439508291701773914 11 63} {8024997175444989926 11 64}]
------------------------------------------------------
flag 17541 term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 19890 term 11 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 11 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62} {4439508291701773914 11 63} {8024997175444989926 11 64}]
------------------------------------------------------
client write log 3465478541324036321 (index 65) to leader 2
client write log 3848032344985163850 (index 66) to leader 2
client write log 3518150374578183033 (index 67) to leader 2
client write log 496821661436810663 (index 68) to leader 2
client write log 2804635722700922281 (index 69) to leader 2
client write log 518861616579476049 (index 70) to leader 2
client write log 900332756892850595 (index 71) to leader 2
flag 88629 term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 88330 term 11 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 11 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 59} {4200705531106699071 9 60} {6329821362322095046 9 61} {4439508291701773914 9 62} {4439508291701773914 11 63} {8024997175444989926 11 64} {3465478541324036321 11 65} {3848032344985163850 11 66} {3518150374578183033 11 67} {496821661436810663 11 68} {2804635722700922281 11 69} {518861616579476049 11 70} {900332756892850595 11 71}]
------------------------------------------------------
term 11 Server2 start snapshot! index=69
term 11 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=71
-------------------------------------------------------------
term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 84972 term 11 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71}]
------------------------------------------------------
term 11 Server1 start snapshot! index=69
term 11 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=71
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8183737986363651130 (index 72) to leader 2
term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 19877 term 11 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
term 12 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72}]
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 server 1 vote for server 2
term 13 server 0 vote for server 2
term 13 server 2 get vote from server 1
term 13 server 2 become leader
------------------------------------------------------
term 13 server 2 get outdate rpc reply from server 0
flag 40283 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 2559 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 73->72
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 25958 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
term 13 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 11 rf.commitIndex 69 rf.lastApplied 69
term 13 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
flag 2003 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 93367 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5505 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 5484 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72}]
------------------------------------------------------
flag 82298 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 8729 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31899 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 25326 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72}]
------------------------------------------------------
flag 79891 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 29234 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72}]
------------------------------------------------------
flag 27565 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 59463 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 22001 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 55501 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 30598 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 99958 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 23014 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 4433 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
term 14 server 0 vote for server 1
term 14 server 1 get vote from server 0
term 14 server 1 become leader
------------------------------------------------------
flag 50156 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 11889 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 81551 term 14 leader 1 nextIndex[0]: 73  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 30717 term 14 leader 1 nextIndex[2]: 73  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72}]
------------------------------------------------------
client write log 6830515965156825814 (index 73) to leader 1
flag 7926 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 99142 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 34988 term 14 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 14 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 57809 term 14 leader 1 nextIndex[2]: 73  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72} {6830515965156825814 14 73}]
------------------------------------------------------
flag 37809 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 22979 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 63166 term 14 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 14 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 14 leaderCommit: 73 
------------------------------------------------------
flag 64331 term 14 leader 1 nextIndex[2]: 73  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 73 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72} {6830515965156825814 14 73}]
------------------------------------------------------
client write log 7592027308629662341 (index 74) to leader 1
flag 19573 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 25763 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 99238 term 14 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 14 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 14 leaderCommit: 73 
------------------------------------------------------
flag 15877 term 14 leader 1 nextIndex[2]: 73  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 73 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72} {6830515965156825814 14 73} {7592027308629662341 14 74}]
------------------------------------------------------
flag 21831 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 16816 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 16170 term 14 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 92481 term 14 leader 1 nextIndex[2]: 73  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72} {6830515965156825814 14 73} {7592027308629662341 14 74}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1100684331787054524 (index 75) to leader 1
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 73->72
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 0  matchIndex[0]: 72
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 43190 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
term 14 server 1 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 14 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29795 term 14 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 40783 term 14 leader 1 nextIndex[2]: 73  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=76
update matchIndex[2]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72} {6830515965156825814 14 73} {7592027308629662341 14 74} {1100684331787054524 14 75}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72} {6830515965156825814 14 73} {7592027308629662341 14 74} {1100684331787054524 14 75}]
------------------------------------------------------
flag 31328 term 14 leader 1 nextIndex[0]: 76  matchIndex[0]: 75
term 14 leader 1 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
flag 11733 term 14 leader 1 nextIndex[2]: 76  matchIndex[2]: 75
term 14 leader 1 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=76
update matchIndex[2]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72} {6830515965156825814 14 73} {7592027308629662341 14 74} {1100684331787054524 14 75}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72} {6830515965156825814 14 73} {7592027308629662341 14 74} {1100684331787054524 14 75}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13836 term 14 leader 1 nextIndex[0]: 76  matchIndex[0]: 75
term 14 leader 1 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
flag 46527 term 14 leader 1 nextIndex[2]: 76  matchIndex[2]: 75
term 14 leader 1 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=76
update matchIndex[2]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72} {6830515965156825814 14 73} {7592027308629662341 14 74} {1100684331787054524 14 75}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72} {6830515965156825814 14 73} {7592027308629662341 14 74} {1100684331787054524 14 75}]
------------------------------------------------------
flag 25241 term 14 leader 1 nextIndex[0]: 76  matchIndex[0]: 75
term 14 leader 1 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
flag 37401 term 14 leader 1 nextIndex[2]: 76  matchIndex[2]: 75
term 14 leader 1 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=76
update matchIndex[2]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72} {6830515965156825814 14 73} {7592027308629662341 14 74} {1100684331787054524 14 75}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72} {6830515965156825814 14 73} {7592027308629662341 14 74} {1100684331787054524 14 75}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 76->75
------------------------------------------------------
flag 30923 term 14 leader 1 nextIndex[0]: 76  matchIndex[0]: 75
term 14 leader 1 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 0  matchIndex[2]: 75
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 14 server 2 InstallSnapshot fail
rf.commitIndex 75 args.LastIncludedIndex 69
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72} {6830515965156825814 14 73} {7592027308629662341 14 74} {1100684331787054524 14 75}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 70->69
------------------------------------------------------
flag 47517 term 14 leader 1 nextIndex[0]: 76  matchIndex[0]: 75
term 14 leader 1 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 0  matchIndex[2]: 69
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 14 server 2 InstallSnapshot fail
rf.commitIndex 75 args.LastIncludedIndex 69
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72} {6830515965156825814 14 73} {7592027308629662341 14 74} {1100684331787054524 14 75}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67009 term 14 leader 1 nextIndex[0]: 76  matchIndex[0]: 75
term 14 leader 1 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
flag 99153 term 14 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72} {6830515965156825814 14 73} {7592027308629662341 14 74} {1100684331787054524 14 75}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=76
update matchIndex[2]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72} {6830515965156825814 14 73} {7592027308629662341 14 74} {1100684331787054524 14 75}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2842041762203732053 (index 76) to leader 1
flag 33152 term 14 leader 1 nextIndex[0]: 76  matchIndex[0]: 75
term 14 leader 1 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
flag 65468 term 14 leader 1 nextIndex[2]: 76  matchIndex[2]: 75
term 14 leader 1 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72} {6830515965156825814 14 73} {7592027308629662341 14 74} {1100684331787054524 14 75} {2842041762203732053 14 76}]
------------------------------------------------------
flag 7126 term 14 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 14 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 207 term 14 leader 1 nextIndex[2]: 76  matchIndex[2]: 75
term 14 leader 1 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72} {6830515965156825814 14 73} {7592027308629662341 14 74} {1100684331787054524 14 75} {2842041762203732053 14 76}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 7945531065722351753 (index 77) to leader 1
client write log 6538973138490465520 (index 78) to leader 1
client write log 1804446530530369464 (index 79) to leader 1
client write log 3847166037036331926 (index 80) to leader 1
client write log 2828539257581359729 (index 81) to leader 1
client write log 4965711537089645980 (index 82) to leader 1
client write log 3645157835131862674 (index 83) to leader 1
client write log 8194255149788158135 (index 84) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15161 term 14 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 14 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 80178 term 14 leader 1 nextIndex[2]: 76  matchIndex[2]: 75
term 14 leader 1 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 69} {518861616579476049 11 70} {900332756892850595 11 71} {8183737986363651130 11 72} {6830515965156825814 14 73} {7592027308629662341 14 74} {1100684331787054524 14 75} {2842041762203732053 14 76} {7945531065722351753 14 77} {6538973138490465520 14 78} {1804446530530369464 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84}]
------------------------------------------------------
term 14 Server1 start snapshot! index=79
term 14 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=84
-------------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17266 term 14 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 14 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 76  matchIndex[2]: 75
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84}]
------------------------------------------------------
term 14 Server0 start snapshot! index=79
term 14 server0 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=84
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5193797914733686957 (index 85) to leader 1
term 14 server 1 not vote for server 2, 日志不够新
term 14 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 vote for server 1
term 16 server 1 get vote from server 2
term 16 server 1 become leader
------------------------------------------------------
term 16 server 0 vote for server 1
term 16 server 1 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49296 term 16 leader 1 nextIndex[0]: 86  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 98040 term 16 leader 1 nextIndex[2]: 86  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 86->85
------------------------------------------------------
term 16 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 86->85
------------------------------------------------------
flag 84672 term 16 leader 1 nextIndex[0]: 85  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 76  matchIndex[2]: 0
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 16 server 2 InstallSnapshot success
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 80 matchIndex[2] 79 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 14 rf.commitIndex 79 rf.lastApplied 79
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
flag 28100 term 16 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 34884 term 16 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69196 term 16 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 72686 term 16 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79618 term 16 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 20267 term 16 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 758 term 16 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 97912 term 16 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
flag 35859 term 16 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 88252 term 16 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
flag 42601 term 16 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 76757 term 16 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
flag 99503 term 16 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 80136 term 16 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84309 term 16 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 9114 term 16 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
flag 43203 term 16 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 60874 term 16 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
flag 7047 term 16 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 96383 term 16 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
flag 88598 term 16 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 1349 term 16 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
flag 47569 term 16 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 33191 term 16 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
flag 17269 term 16 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 52975 term 16 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25216 term 16 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 75226 term 16 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
flag 15732 term 16 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 25250 term 16 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16427 term 16 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 95245 term 16 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
flag 71567 term 16 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 70165 term 16 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 5193797914733686957 (index 86) to leader 1
flag 26134 term 16 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 264 term 16 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85} {5193797914733686957 16 86}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85} {5193797914733686957 16 86}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62504 term 16 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 65383 term 16 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 16 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85} {5193797914733686957 16 86}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85} {5193797914733686957 16 86}]
------------------------------------------------------
flag 12704 term 16 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 74178 term 16 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 16 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85} {5193797914733686957 16 86}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85} {5193797914733686957 16 86}]
------------------------------------------------------
term 16 server 2 not vote for server 1, 任期不够新
term 16 server 1 get outdate rpc reply from server 2
flag 29802 term 16 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 91230 term 16 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 16 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85} {5193797914733686957 16 86}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85} {5193797914733686957 16 86}]
------------------------------------------------------
flag 9469 term 16 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 96972 term 16 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 16 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85} {5193797914733686957 16 86}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85} {5193797914733686957 16 86}]
------------------------------------------------------
term 16 server 1 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 1
flag 83702 term 16 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 5441 term 16 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 16 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85} {5193797914733686957 16 86}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85} {5193797914733686957 16 86}]
------------------------------------------------------
flag 81061 term 16 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 69766 term 16 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 16 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85} {5193797914733686957 16 86}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85} {5193797914733686957 16 86}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8445166232189391624 (index 87) to leader 1
flag 35917 term 16 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 73040 term 16 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 16 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85} {5193797914733686957 16 86} {8445166232189391624 16 87}]
------------------------------------------------------
flag 12894 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 87 
------------------------------------------------------
flag 76868 term 16 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 16 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 87 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85} {5193797914733686957 16 86} {8445166232189391624 16 87}]
------------------------------------------------------
client write log 6233130363452481138 (index 88) to leader 1
client write log 6942665940222614795 (index 89) to leader 1
client write log 3290722898132654415 (index 90) to leader 1
client write log 1896965624019397801 (index 91) to leader 1
client write log 2867384220055550124 (index 92) to leader 1
client write log 8675712840662005749 (index 93) to leader 1
client write log 3601153632709684893 (index 94) to leader 1
client write log 3635307569098007302 (index 95) to leader 1
client write log 2828829522908897530 (index 96) to leader 1
client write log 7571318350297237161 (index 97) to leader 1
flag 33254 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 87 
------------------------------------------------------
flag 80501 term 16 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 16 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 87 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 79} {3847166037036331926 14 80} {2828539257581359729 14 81} {4965711537089645980 14 82} {3645157835131862674 14 83} {8194255149788158135 14 84} {5193797914733686957 14 85} {5193797914733686957 16 86} {8445166232189391624 16 87} {6233130363452481138 16 88} {6942665940222614795 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97}]
------------------------------------------------------
term 16 Server1 start snapshot! index=89
term 16 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=97
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81583 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97}]
------------------------------------------------------
term 16 Server0 start snapshot! index=89
term 16 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=97
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7423635639518118548 (index 98) to leader 1
term 16 server 0 not vote for server 2, 日志不够新
term 16 server 1 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 2 vote for server 1
term 18 server 0 vote for server 1
term 18 server 1 get vote from server 2
term 18 server 1 become leader
------------------------------------------------------
term 18 server 1 get outdate rpc reply from server 0
flag 83245 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 30467 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 99->98
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 99->98
------------------------------------------------------
flag 1580 term 18 leader 1 nextIndex[0]: 98  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 87  matchIndex[2]: 0
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
term 18 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 16 rf.commitIndex 89 rf.lastApplied 89
term 18 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96851 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 92243 term 18 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 18 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6930 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 26936 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
flag 92410 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 42738 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89063 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 32011 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
flag 74980 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 29488 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89793 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 54196 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94159 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 84422 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99908 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 18698 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
term 18 server 2 not vote for server 0, 任期不够新
term 18 server 0 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43422 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 2632 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
flag 97104 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 27581 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
flag 50497 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 49849 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4655 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 10018 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16840 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 15433 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
flag 20497 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 52527 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
flag 60806 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 26940 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
flag 71669 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 28072 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
flag 7057 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 37404 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
flag 15603 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 88597 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98}]
------------------------------------------------------
client write log 7423635639518118548 (index 99) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87562 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 54910 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98} {7423635639518118548 18 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 89} {3290722898132654415 16 90} {1896965624019397801 16 91} {2867384220055550124 16 92} {8675712840662005749 16 93} {3601153632709684893 16 94} {3635307569098007302 16 95} {2828829522908897530 16 96} {7571318350297237161 16 97} {7423635639518118548 16 98} {7423635639518118548 18 99}]
------------------------------------------------------
term 18 Server1 start snapshot! index=99
term 18 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
flag 57870 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 60144 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
term 18 Server0 start snapshot! index=99
term 18 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
term 18 Server2 start snapshot! index=99
term 18 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
flag 12436 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 76606 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
flag 85782 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 73325 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5168 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 47283 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
flag 7400 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 27712 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
flag 62339 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 89470 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 70414 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 38564 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58842 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 73952 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 53213 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 43952 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 39239 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 80795 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
term 19 server 0 vote for server 2
term 19 server 2 get vote from server 0
term 19 server 2 become leader
------------------------------------------------------
flag 80000 term 19 leader 2 nextIndex[0]: 100  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 12721 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
client write log 1849380722912070381 (index 100) to leader 2
flag 61339 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 62801 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 16046 term 19 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 88464 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {1849380722912070381 19 100}]
------------------------------------------------------
flag 47490 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 57624 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 75728 term 19 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 19 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 62665 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {1849380722912070381 19 100}]
------------------------------------------------------
client write log 8995748418814890551 (index 101) to leader 2
client write log 140498771184705110 (index 102) to leader 2
client write log 5061403879679755106 (index 103) to leader 2
client write log 5148954024119746246 (index 104) to leader 2
client write log 5601380048933747612 (index 105) to leader 2
client write log 5240849096477926187 (index 106) to leader 2
client write log 5144262057663936011 (index 107) to leader 2
flag 37763 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 1675 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 15681 term 19 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 19 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 52328 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 100->99
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 18 leader 1 nextIndex[0]: 0  matchIndex[0]: 99
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 5148 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 46528 term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 59368 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
!!!!!!connect server 1
client write log 1106355280782260920 (index 100) to leader 1
term 18 leader 1 nextIndex[0]: 0  matchIndex[0]: 99
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 98520 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
term 19 server 2 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 19 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62086 term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 75068 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
flag 1597 term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 54480 term 19 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
flag 49956 term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 18552 term 19 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
flag 91978 term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 27942 term 19 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 108->107
------------------------------------------------------
flag 72625 term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 107
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
term 19 server 1 InstallSnapshot fail
rf.commitIndex 107 args.LastIncludedIndex 99
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
term 19 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
flag 83805 term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 22967 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
term 19 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63002 term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 7994 term 19 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76971 term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 25540 term 19 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
flag 79169 term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 20023 term 19 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
flag 41287 term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 13982 term 19 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90230 term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 98895 term 19 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 108->107
------------------------------------------------------
flag 55124 term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 107
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
term 19 server 1 InstallSnapshot fail
rf.commitIndex 107 args.LastIncludedIndex 99
------------------------------------------------------
term 19 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
flag 84838 term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 87006 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
flag 86921 term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 931 term 19 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
flag 13364 term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 83810 term 19 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
flag 91112 term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 69241 term 19 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96593 term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 72726 term 19 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48626 term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 20167 term 19 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
term 19 server 1 not vote for server 2, 日志不够新
term 19 server 2 get outdate rpc reply from server 1
flag 72090 term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 99174 term 19 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
flag 11675 term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 36859 term 19 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107}]
------------------------------------------------------
client write log 1106355280782260920 (index 108) to leader 2
flag 92493 term 19 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 85763 term 19 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107} {1106355280782260920 19 108}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107} {1106355280782260920 19 108}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22232 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
flag 87000 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107} {1106355280782260920 19 108}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107} {1106355280782260920 19 108}]
------------------------------------------------------
flag 54354 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
flag 22805 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107} {1106355280782260920 19 108}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107} {1106355280782260920 19 108}]
------------------------------------------------------
flag 25816 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
flag 87963 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107} {1106355280782260920 19 108}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107} {1106355280782260920 19 108}]
------------------------------------------------------
flag 75347 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
flag 73350 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107} {1106355280782260920 19 108}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107} {1106355280782260920 19 108}]
------------------------------------------------------
flag 82608 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
flag 27519 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107} {1106355280782260920 19 108}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107} {1106355280782260920 19 108}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 109->108
------------------------------------------------------
flag 28954 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 108
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
term 19 server 1 InstallSnapshot fail
rf.commitIndex 108 args.LastIncludedIndex 99
------------------------------------------------------
term 19 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107} {1106355280782260920 19 108}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1157645097517802384 (index 109) to leader 2
flag 22969 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
flag 29250 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 99} {1849380722912070381 19 100} {8995748418814890551 19 101} {140498771184705110 19 102} {5061403879679755106 19 103} {5148954024119746246 19 104} {5601380048933747612 19 105} {5240849096477926187 19 106} {5144262057663936011 19 107} {1106355280782260920 19 108} {1157645097517802384 19 109}]
------------------------------------------------------
term 19 Server2 start snapshot! index=109
term 19 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 60517 term 19 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 Server1 start snapshot! index=109
term 19 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
client write log 2106901424556570064 (index 110) to leader 2
client write log 79050105165264315 (index 111) to leader 2
client write log 3280413293520805938 (index 112) to leader 2
client write log 228023932558122504 (index 113) to leader 2
client write log 6126439901372441207 (index 114) to leader 2
client write log 4782754500559451034 (index 115) to leader 2
client write log 7116799267779621419 (index 116) to leader 2
client write log 16757455274603817 (index 117) to leader 2
client write log 2835342051642193562 (index 118) to leader 2
client write log 7362222246263113048 (index 119) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 44579 term 19 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 109} {2106901424556570064 19 110} {79050105165264315 19 111} {3280413293520805938 19 112} {228023932558122504 19 113} {6126439901372441207 19 114} {4782754500559451034 19 115} {7116799267779621419 19 116} {16757455274603817 19 117} {2835342051642193562 19 118} {7362222246263113048 19 119}]
------------------------------------------------------
term 19 Server2 start snapshot! index=119
term 19 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 21378 term 19 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 119}]
------------------------------------------------------
term 19 Server1 start snapshot! index=119
term 19 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1551584774526251446 (index 120) to leader 2
term 19 server 2 not vote for server 0, 日志不够新
term 19 server 1 not vote for server 0, 日志不够新
term 21 server 1 vote for server 2
term 21 server 0 vote for server 2
term 21 server 2 get vote from server 1
term 21 server 2 become leader
------------------------------------------------------
term 21 server 2 get outdate rpc reply from server 0
flag 40208 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 22382 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 121->120
------------------------------------------------------
term 21 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 121->120
------------------------------------------------------
term 21 leader 2 nextIndex[0]: 109  matchIndex[0]: 0
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 48386 term 21 leader 2 nextIndex[1]: 120  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
term 21 server 0 InstallSnapshot success
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 120 matchIndex[0] 119 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 19 rf.commitIndex 119 rf.lastApplied 119
flag 43967 term 21 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 21 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 92508 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
flag 62861 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 38773 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
flag 79580 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 46676 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12021 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 69872 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20939 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 25795 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59601 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 43669 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
flag 48297 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 75090 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91208 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 25837 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
flag 58185 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 27878 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12083 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 23523 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71058 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 11718 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33938 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 56243 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
flag 11721 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 36849 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
flag 26210 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 23481 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
flag 1877 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 45187 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
flag 35937 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 35638 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51117 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 40810 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {1551584774526251446 19 120}]
------------------------------------------------------
client write log 1551584774526251446 (index 121) to leader 2
flag 39898 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 8224 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
[{snapshot 19 119} {1551584774526251446 19 120} {1551584774526251446 21 121}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {1551584774526251446 19 120} {1551584774526251446 21 121}]
------------------------------------------------------
flag 27060 term 21 leader 2 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 22008 term 21 leader 2 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {1551584774526251446 19 120} {1551584774526251446 21 121}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {1551584774526251446 19 120} {1551584774526251446 21 121}]
------------------------------------------------------
flag 15413 term 21 leader 2 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 48082 term 21 leader 2 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {1551584774526251446 19 120} {1551584774526251446 21 121}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {1551584774526251446 19 120} {1551584774526251446 21 121}]
------------------------------------------------------
flag 51495 term 21 leader 2 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 45022 term 21 leader 2 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {1551584774526251446 19 120} {1551584774526251446 21 121}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {1551584774526251446 19 120} {1551584774526251446 21 121}]
------------------------------------------------------
flag 34007 term 21 leader 2 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 47896 term 21 leader 2 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {1551584774526251446 19 120} {1551584774526251446 21 121}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {1551584774526251446 19 120} {1551584774526251446 21 121}]
------------------------------------------------------
flag 43994 term 21 leader 2 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 12091 term 21 leader 2 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {1551584774526251446 19 120} {1551584774526251446 21 121}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {1551584774526251446 19 120} {1551584774526251446 21 121}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6140186947896291122 (index 122) to leader 2
flag 61040 term 21 leader 2 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 43941 term 21 leader 2 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {1551584774526251446 19 120} {1551584774526251446 21 121} {6140186947896291122 21 122}]
------------------------------------------------------
flag 79496 term 21 leader 2 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 91260 term 21 leader 2 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {1551584774526251446 19 120} {1551584774526251446 21 121} {6140186947896291122 21 122}]
------------------------------------------------------
client write log 2721334839175822173 (index 123) to leader 2
client write log 2743840443933880002 (index 124) to leader 2
client write log 7197044316802669969 (index 125) to leader 2
client write log 8257266228661609956 (index 126) to leader 2
client write log 8223716816573187935 (index 127) to leader 2
client write log 7993893851171188758 (index 128) to leader 2
client write log 8109901452186933858 (index 129) to leader 2
client write log 3240656561481338285 (index 130) to leader 2
client write log 7406871960772157675 (index 131) to leader 2
client write log 8935984853073824528 (index 132) to leader 2
client write log 4441251036701501278 (index 133) to leader 2
client write log 4691652437170224353 (index 134) to leader 2
client write log 8744932974642326717 (index 135) to leader 2
client write log 6361847233785237379 (index 136) to leader 2
client write log 1924442315955520893 (index 137) to leader 2
flag 71300 term 21 leader 2 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 13377 term 21 leader 2 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 19 119} {1551584774526251446 19 120} {1551584774526251446 21 121} {6140186947896291122 21 122} {2721334839175822173 21 123} {2743840443933880002 21 124} {7197044316802669969 21 125} {8257266228661609956 21 126} {8223716816573187935 21 127} {7993893851171188758 21 128} {8109901452186933858 21 129} {3240656561481338285 21 130} {7406871960772157675 21 131} {8935984853073824528 21 132} {4441251036701501278 21 133} {4691652437170224353 21 134} {8744932974642326717 21 135} {6361847233785237379 21 136} {1924442315955520893 21 137}]
------------------------------------------------------
term 21 Server2 start snapshot! index=129
term 21 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=137
-------------------------------------------------------------
term 21 leader 2 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 55545 term 21 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 21 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {3240656561481338285 21 130} {7406871960772157675 21 131} {8935984853073824528 21 132} {4441251036701501278 21 133} {4691652437170224353 21 134} {8744932974642326717 21 135} {6361847233785237379 21 136} {1924442315955520893 21 137}]
------------------------------------------------------
term 21 Server1 start snapshot! index=129
term 21 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=137
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6561077838277006355 (index 138) to leader 2
term 21 leader 2 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 25300 term 21 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 21 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3240656561481338285 21 130} {7406871960772157675 21 131} {8935984853073824528 21 132} {4441251036701501278 21 133} {4691652437170224353 21 134} {8744932974642326717 21 135} {6361847233785237379 21 136} {1924442315955520893 21 137} {6561077838277006355 21 138}]
------------------------------------------------------
term 22 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 server 1 vote for server 2
term 23 server 0 vote for server 2
term 23 server 2 get vote from server 1
term 23 server 2 become leader
------------------------------------------------------
term 23 server 2 get outdate rpc reply from server 0
flag 39231 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 98547 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 139->138
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3240656561481338285 21 130} {7406871960772157675 21 131} {8935984853073824528 21 132} {4441251036701501278 21 133} {4691652437170224353 21 134} {8744932974642326717 21 135} {6361847233785237379 21 136} {1924442315955520893 21 137} {6561077838277006355 21 138}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 leader 2 nextIndex[0]: 122  matchIndex[0]: 0
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 99794 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3240656561481338285 21 130} {7406871960772157675 21 131} {8935984853073824528 21 132} {4441251036701501278 21 133} {4691652437170224353 21 134} {8744932974642326717 21 135} {6361847233785237379 21 136} {1924442315955520893 21 137} {6561077838277006355 21 138}]
------------------------------------------------------
term 23 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 21 rf.commitIndex 129 rf.lastApplied 129
term 23 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 130 matchIndex[0] 129 
------------------------------------------------------------------------
term 23 server 1 not vote for server 0, 任期不够新
term 23 server 0 get outdate rpc reply from server 1
flag 29875 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 6132 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3240656561481338285 21 130} {7406871960772157675 21 131} {8935984853073824528 21 132} {4441251036701501278 21 133} {4691652437170224353 21 134} {8744932974642326717 21 135} {6361847233785237379 21 136} {1924442315955520893 21 137} {6561077838277006355 21 138}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3240656561481338285 21 130} {7406871960772157675 21 131} {8935984853073824528 21 132} {4441251036701501278 21 133} {4691652437170224353 21 134} {8744932974642326717 21 135} {6361847233785237379 21 136} {1924442315955520893 21 137} {6561077838277006355 21 138}]
------------------------------------------------------
flag 70581 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 64715 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3240656561481338285 21 130} {7406871960772157675 21 131} {8935984853073824528 21 132} {4441251036701501278 21 133} {4691652437170224353 21 134} {8744932974642326717 21 135} {6361847233785237379 21 136} {1924442315955520893 21 137} {6561077838277006355 21 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3240656561481338285 21 130} {7406871960772157675 21 131} {8935984853073824528 21 132} {4441251036701501278 21 133} {4691652437170224353 21 134} {8744932974642326717 21 135} {6361847233785237379 21 136} {1924442315955520893 21 137} {6561077838277006355 21 138}]
------------------------------------------------------
flag 54241 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 85266 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3240656561481338285 21 130} {7406871960772157675 21 131} {8935984853073824528 21 132} {4441251036701501278 21 133} {4691652437170224353 21 134} {8744932974642326717 21 135} {6361847233785237379 21 136} {1924442315955520893 21 137} {6561077838277006355 21 138}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3240656561481338285 21 130} {7406871960772157675 21 131} {8935984853073824528 21 132} {4441251036701501278 21 133} {4691652437170224353 21 134} {8744932974642326717 21 135} {6361847233785237379 21 136} {1924442315955520893 21 137} {6561077838277006355 21 138}]
------------------------------------------------------
flag 48685 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 79971 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3240656561481338285 21 130} {7406871960772157675 21 131} {8935984853073824528 21 132} {4441251036701501278 21 133} {4691652437170224353 21 134} {8744932974642326717 21 135} {6361847233785237379 21 136} {1924442315955520893 21 137} {6561077838277006355 21 138}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3240656561481338285 21 130} {7406871960772157675 21 131} {8935984853073824528 21 132} {4441251036701501278 21 133} {4691652437170224353 21 134} {8744932974642326717 21 135} {6361847233785237379 21 136} {1924442315955520893 21 137} {6561077838277006355 21 138}]
------------------------------------------------------
flag 33045 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 58372 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3240656561481338285 21 130} {7406871960772157675 21 131} {8935984853073824528 21 132} {4441251036701501278 21 133} {4691652437170224353 21 134} {8744932974642326717 21 135} {6361847233785237379 21 136} {1924442315955520893 21 137} {6561077838277006355 21 138}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3240656561481338285 21 130} {7406871960772157675 21 131} {8935984853073824528 21 132} {4441251036701501278 21 133} {4691652437170224353 21 134} {8744932974642326717 21 135} {6361847233785237379 21 136} {1924442315955520893 21 137} {6561077838277006355 21 138}]
------------------------------------------------------
flag 39933 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 68341 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3240656561481338285 21 130} {7406871960772157675 21 131} {8935984853073824528 21 132} {4441251036701501278 21 133} {4691652437170224353 21 134} {8744932974642326717 21 135} {6361847233785237379 21 136} {1924442315955520893 21 137} {6561077838277006355 21 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3240656561481338285 21 130} {7406871960772157675 21 131} {8935984853073824528 21 132} {4441251036701501278 21 133} {4691652437170224353 21 134} {8744932974642326717 21 135} {6361847233785237379 21 136} {1924442315955520893 21 137} {6561077838277006355 21 138}]
------------------------------------------------------
flag 87346 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 59746 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3240656561481338285 21 130} {7406871960772157675 21 131} {8935984853073824528 21 132} {4441251036701501278 21 133} {4691652437170224353 21 134} {8744932974642326717 21 135} {6361847233785237379 21 136} {1924442315955520893 21 137} {6561077838277006355 21 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {3240656561481338285 21 130} {7406871960772157675 21 131} {8935984853073824528 21 132} {4441251036701501278 21 133} {4691652437170224353 21 134} {8744932974642326717 21 135} {6361847233785237379 21 136} {1924442315955520893 21 137} {6561077838277006355 21 138}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 73605 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 4542 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 62174 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 23202 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 85597 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 84919 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 24 server 1 vote for server 0
term 24 server 0 get vote from server 1
term 24 server 0 become leader
------------------------------------------------------
client write log 7537365052030357340 (index 139) to leader 0
flag 45186 term 24 leader 0 nextIndex[1]: 139  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 72317 term 24 leader 0 nextIndex[2]: 139  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 129} {3240656561481338285 21 130} {7406871960772157675 21 131} {8935984853073824528 21 132} {4441251036701501278 21 133} {4691652437170224353 21 134} {8744932974642326717 21 135} {6361847233785237379 21 136} {1924442315955520893 21 137} {6561077838277006355 21 138} {7537365052030357340 24 139}]
------------------------------------------------------
term 24 Server0 start snapshot! index=139
term 24 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
flag 11281 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 6968 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 3567 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 139  matchIndex[2]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
term 24 Server1 start snapshot! index=139
term 24 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
client write log 8457573136311682163 (index 140) to leader 0
client write log 732756561156291639 (index 141) to leader 0
client write log 2278039458842825944 (index 142) to leader 0
client write log 1513867494528478628 (index 143) to leader 0
client write log 6977618527649205536 (index 144) to leader 0
client write log 7810308423149072461 (index 145) to leader 0
client write log 8341666405104938318 (index 146) to leader 0
flag 88116 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 65580 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 39701 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 139  matchIndex[2]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
flag 18954 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 87384 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 39976 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 139  matchIndex[2]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
!!!!!!connect server 2
client write log 2100651787033310669 (index 139) to leader 2
flag 45933 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 15263 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 24 server 1 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 24 server 0 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72267 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 139  matchIndex[2]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 2 InstallSnapshot success
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 24 rf.commitIndex 139 rf.lastApplied 139
term 24 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
flag 5561 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 2687 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57985 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 21832 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26606 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 11323 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
flag 61321 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 5709 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
flag 35679 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 26448 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4191 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 16681 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88320 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 31927 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
flag 22278 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 52776 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
flag 66373 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 56995 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81053 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 33772 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 147->146
------------------------------------------------------
flag 51111 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 0  matchIndex[2]: 146
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 2 InstallSnapshot fail
rf.commitIndex 146 args.LastIncludedIndex 139
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 24 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
flag 70053 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 39447 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57198 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 25840 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
term 24 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
flag 74239 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 40724 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26930 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 48262 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
flag 97952 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 84459 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
flag 41370 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 55558 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
flag 92012 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 3360 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146}]
------------------------------------------------------
client write log 2100651787033310669 (index 147) to leader 0
flag 44509 term 24 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 10641 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146} {2100651787033310669 24 147}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146} {2100651787033310669 24 147}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62919 term 24 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
flag 29600 term 24 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146} {2100651787033310669 24 147}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146} {2100651787033310669 24 147}]
------------------------------------------------------
flag 26562 term 24 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
flag 68466 term 24 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146} {2100651787033310669 24 147}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146} {2100651787033310669 24 147}]
------------------------------------------------------
flag 71219 term 24 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
flag 78288 term 24 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146} {2100651787033310669 24 147}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146} {2100651787033310669 24 147}]
------------------------------------------------------
flag 752 term 24 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
flag 97331 term 24 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146} {2100651787033310669 24 147}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146} {2100651787033310669 24 147}]
------------------------------------------------------
term 24 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
flag 18143 term 24 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
flag 84420 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146} {2100651787033310669 24 147}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146} {2100651787033310669 24 147}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5160921041231344930 (index 148) to leader 0
flag 16461 term 24 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
flag 17867 term 24 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146} {2100651787033310669 24 147} {5160921041231344930 24 148}]
------------------------------------------------------
flag 14186 term 24 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 148 
------------------------------------------------------
flag 36722 term 24 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 24 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 24 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146} {2100651787033310669 24 147} {5160921041231344930 24 148}]
------------------------------------------------------
client write log 4511082051459804136 (index 149) to leader 0
client write log 8770168110087189176 (index 150) to leader 0
client write log 7405769489818630480 (index 151) to leader 0
client write log 3937129060655432584 (index 152) to leader 0
client write log 7562489764688476682 (index 153) to leader 0
client write log 6855861402906156240 (index 154) to leader 0
client write log 8497483756360615993 (index 155) to leader 0
client write log 3799144148500718734 (index 156) to leader 0
client write log 5146507158931838152 (index 157) to leader 0
client write log 7824865162237009187 (index 158) to leader 0
client write log 3537056127924273133 (index 159) to leader 0
flag 68450 term 24 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 148 
------------------------------------------------------
flag 6748 term 24 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 24 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 24 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 139} {8457573136311682163 24 140} {732756561156291639 24 141} {2278039458842825944 24 142} {1513867494528478628 24 143} {6977618527649205536 24 144} {7810308423149072461 24 145} {8341666405104938318 24 146} {2100651787033310669 24 147} {5160921041231344930 24 148} {4511082051459804136 24 149} {8770168110087189176 24 150} {7405769489818630480 24 151} {3937129060655432584 24 152} {7562489764688476682 24 153} {6855861402906156240 24 154} {8497483756360615993 24 155} {3799144148500718734 24 156} {5146507158931838152 24 157} {7824865162237009187 24 158} {3537056127924273133 24 159}]
------------------------------------------------------
term 24 Server0 start snapshot! index=149
term 24 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=159
-------------------------------------------------------------
term 24 Server0 start snapshot! index=159
term 24 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 24 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 72252 term 24 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 24 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 24 Server2 start snapshot! index=149
term 24 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=159
-------------------------------------------------------------
term 24 Server2 start snapshot! index=159
term 24 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7429497945646501897 (index 160) to leader 0
term 24 server 0 not vote for server 1, 日志不够新
term 24 server 2 not vote for server 1, 日志不够新
term 26 server 2 vote for server 0
term 26 server 1 vote for server 0
term 26 server 0 get vote from server 2
term 26 server 0 become leader
------------------------------------------------------
term 26 server 0 get outdate rpc reply from server 1
flag 97260 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 45651 term 26 leader 0 nextIndex[2]: 161  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 161->160
------------------------------------------------------
term 26 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 161->160
------------------------------------------------------
term 26 leader 0 nextIndex[1]: 148  matchIndex[1]: 0
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 66448 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 1 InstallSnapshot success
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 24 rf.commitIndex 159 rf.lastApplied 159
flag 77299 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 74735 term 26 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
flag 88419 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 58037 term 26 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
term 26 server 2 not vote for server 0, 任期不够新
term 26 server 0 get outdate rpc reply from server 2
flag 77435 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 61353 term 26 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
flag 22559 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 49592 term 26 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
flag 29322 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 59364 term 26 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
flag 68956 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 37088 term 26 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
flag 62363 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 17111 term 26 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61472 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 50134 term 26 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
flag 74312 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 34935 term 26 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75158 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 80231 term 26 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
flag 17884 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 56943 term 26 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
flag 17805 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 43306 term 26 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 server 2 not vote for server 0, 任期不够新
term 26 server 0 get outdate rpc reply from server 2
flag 55195 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 98073 term 26 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
flag 7478 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 53008 term 26 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
flag 17629 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 35995 term 26 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
flag 65877 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 73825 term 26 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
flag 34241 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 14339 term 26 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
flag 26376 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 42773 term 26 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {7429497945646501897 24 160}]
------------------------------------------------------
client write log 7429497945646501897 (index 161) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65444 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 46837 term 26 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {7429497945646501897 24 160} {7429497945646501897 26 161}]
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {7429497945646501897 24 160} {7429497945646501897 26 161}]
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87424 term 26 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 25966 term 26 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 26 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {7429497945646501897 24 160} {7429497945646501897 26 161}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {7429497945646501897 24 160} {7429497945646501897 26 161}]
------------------------------------------------------
flag 38764 term 26 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 65695 term 26 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 26 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {7429497945646501897 24 160} {7429497945646501897 26 161}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {7429497945646501897 24 160} {7429497945646501897 26 161}]
------------------------------------------------------
flag 75851 term 26 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 16962 term 26 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 26 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 26 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
update nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {7429497945646501897 24 160} {7429497945646501897 26 161}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {7429497945646501897 24 160} {7429497945646501897 26 161}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51448 term 26 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 53470 term 26 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 26 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {7429497945646501897 24 160} {7429497945646501897 26 161}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {7429497945646501897 24 160} {7429497945646501897 26 161}]
------------------------------------------------------
flag 87272 term 26 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 47330 term 26 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 26 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {7429497945646501897 24 160} {7429497945646501897 26 161}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {7429497945646501897 24 160} {7429497945646501897 26 161}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2209294500559124177 (index 162) to leader 0
flag 94426 term 26 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 19547 term 26 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 26 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {7429497945646501897 24 160} {7429497945646501897 26 161} {2209294500559124177 26 162}]
------------------------------------------------------
flag 61032 term 26 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 46848 term 26 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {7429497945646501897 24 160} {7429497945646501897 26 161} {2209294500559124177 26 162}]
------------------------------------------------------
client write log 2124892622869231794 (index 163) to leader 0
client write log 8873840896261440612 (index 164) to leader 0
client write log 5164167643395502698 (index 165) to leader 0
client write log 745505955458717740 (index 166) to leader 0
client write log 233630204469725108 (index 167) to leader 0
client write log 8978952356343083608 (index 168) to leader 0
client write log 3286256718680803055 (index 169) to leader 0
client write log 3398603288628091041 (index 170) to leader 0
flag 29223 term 26 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 70176 term 26 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 159} {7429497945646501897 24 160} {7429497945646501897 26 161} {2209294500559124177 26 162} {2124892622869231794 26 163} {8873840896261440612 26 164} {5164167643395502698 26 165} {745505955458717740 26 166} {233630204469725108 26 167} {8978952356343083608 26 168} {3286256718680803055 26 169} {3398603288628091041 26 170}]
------------------------------------------------------
term 26 Server0 start snapshot! index=169
term 26 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=170
-------------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 6668 term 26 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 26 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170}]
------------------------------------------------------
term 26 Server2 start snapshot! index=169
term 26 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=170
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2427785634054503397 (index 171) to leader 0
term 26 server 2 not vote for server 1, 日志不够新
term 26 server 0 not vote for server 1, 日志不够新
term 28 server 2 vote for server 0
term 28 server 1 vote for server 0
term 28 server 0 get vote from server 2
term 28 server 0 become leader
------------------------------------------------------
term 28 server 0 get outdate rpc reply from server 1
flag 77884 term 28 leader 0 nextIndex[1]: 172  matchIndex[1]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 7102 term 28 leader 0 nextIndex[2]: 172  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 172->171
------------------------------------------------------
term 28 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 172->171
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 162  matchIndex[1]: 0
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 84739 term 28 leader 0 nextIndex[2]: 171  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
term 28 server 1 InstallSnapshot success
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 26 rf.commitIndex 169 rf.lastApplied 169
flag 4101 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 31981 term 28 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:169 
term 28 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97808 term 28 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 64104 term 28 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
flag 30656 term 28 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 18590 term 28 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94179 term 28 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 57182 term 28 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73667 term 28 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 11774 term 28 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
flag 62388 term 28 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 12176 term 28 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
flag 15165 term 28 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 15145 term 28 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
flag 60428 term 28 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 64805 term 28 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
flag 58813 term 28 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 88743 term 28 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
flag 34369 term 28 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 47591 term 28 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
term 28 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
flag 99865 term 28 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 51066 term 28 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 28 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
update nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58660 term 28 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 10560 term 28 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
flag 67099 term 28 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 51123 term 28 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
flag 53315 term 28 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 18334 term 28 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
flag 96147 term 28 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 79308 term 28 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
flag 56602 term 28 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 2801 term 28 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
flag 73486 term 28 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 40994 term 28 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
flag 81861 term 28 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 49764 term 28 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171}]
------------------------------------------------------
client write log 2427785634054503397 (index 172) to leader 0
flag 56833 term 28 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 11989 term 28 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171} {2427785634054503397 28 172}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171} {2427785634054503397 28 172}]
------------------------------------------------------
flag 87157 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 59278 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171} {2427785634054503397 28 172}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171} {2427785634054503397 28 172}]
------------------------------------------------------
flag 52569 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 93231 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171} {2427785634054503397 28 172}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171} {2427785634054503397 28 172}]
------------------------------------------------------
flag 3431 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 67634 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171} {2427785634054503397 28 172}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171} {2427785634054503397 28 172}]
------------------------------------------------------
flag 38786 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 83575 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171} {2427785634054503397 28 172}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171} {2427785634054503397 28 172}]
------------------------------------------------------
flag 40050 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 69140 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171} {2427785634054503397 28 172}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171} {2427785634054503397 28 172}]
------------------------------------------------------
flag 72658 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 51716 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171} {2427785634054503397 28 172}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171} {2427785634054503397 28 172}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 37840 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 29154 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26463 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 51916 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 96741 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 56872 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 vote for server 1
term 29 server 1 get vote from server 2
term 29 server 1 become leader
------------------------------------------------------
flag 83472 term 29 leader 1 nextIndex[0]: 173  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 16771 term 29 leader 1 nextIndex[2]: 173  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171} {2427785634054503397 28 172}]
------------------------------------------------------
flag 73828 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 57794 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4443600285735030915 (index 173) to leader 1
flag 47453 term 29 leader 1 nextIndex[0]: 173  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 23458 term 29 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 29 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171} {2427785634054503397 28 172} {4443600285735030915 29 173}]
------------------------------------------------------
flag 84661 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 17128 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 10541 term 29 leader 1 nextIndex[0]: 173  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
flag 51133 term 29 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 29 leaderCommit: 173 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171} {2427785634054503397 28 172} {4443600285735030915 29 173}]
------------------------------------------------------
client write log 8083961005596782928 (index 174) to leader 1
client write log 6067016526398351514 (index 175) to leader 1
client write log 7669633035767270746 (index 176) to leader 1
client write log 6946464611547094395 (index 177) to leader 1
client write log 6160008909312723961 (index 178) to leader 1
client write log 6135331934381876069 (index 179) to leader 1
client write log 2663221724576003196 (index 180) to leader 1
flag 227 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 41218 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 173->172
------------------------------------------------------
flag 5583 term 29 leader 1 nextIndex[0]: 173  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
flag 4059 term 29 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 29 leaderCommit: 173 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 169} {3398603288628091041 26 170} {2427785634054503397 26 171} {2427785634054503397 28 172} {4443600285735030915 29 173} {8083961005596782928 29 174} {6067016526398351514 29 175} {7669633035767270746 29 176} {6946464611547094395 29 177} {6160008909312723961 29 178} {6135331934381876069 29 179} {2663221724576003196 29 180}]
------------------------------------------------------
term 29 Server1 start snapshot! index=179
term 29 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=180
-------------------------------------------------------------
term 28 leader 0 nextIndex[1]: 0  matchIndex[1]: 172
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 73115 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 29 leader 1 nextIndex[0]: 173  matchIndex[0]: 0
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 381 term 29 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 29 179} {2663221724576003196 29 180}]
------------------------------------------------------
term 29 Server2 start snapshot! index=179
term 29 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=180
-------------------------------------------------------------
!!!!!!connect server 0
client write log 63199979608193954 (index 181) to leader 1
term 28 leader 0 nextIndex[1]: 0  matchIndex[1]: 172
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 19247 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 29 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 leader 1 nextIndex[0]: 173  matchIndex[0]: 0
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 79043 term 29 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
term 29 server 0 InstallSnapshot success
------------------------------------------------------
[{snapshot 29 179} {2663221724576003196 29 180} {63199979608193954 29 181}]
------------------------------------------------------
term 29 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 180 matchIndex[0] 179 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 29 rf.commitIndex 179 rf.lastApplied 179
flag 90436 term 29 leader 1 nextIndex[0]: 180  matchIndex[0]: 179
term 29 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
flag 53961 term 29 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {2663221724576003196 29 180} {63199979608193954 29 181}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {2663221724576003196 29 180} {63199979608193954 29 181}]
------------------------------------------------------
flag 87683 term 29 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
flag 89968 term 29 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {2663221724576003196 29 180} {63199979608193954 29 181}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {2663221724576003196 29 180} {63199979608193954 29 181}]
------------------------------------------------------
flag 96475 term 29 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
flag 32526 term 29 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:181 
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {2663221724576003196 29 180} {63199979608193954 29 181}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {2663221724576003196 29 180} {63199979608193954 29 181}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15869 term 29 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
flag 49036 term 29 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {2663221724576003196 29 180} {63199979608193954 29 181}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {2663221724576003196 29 180} {63199979608193954 29 181}]
------------------------------------------------------
flag 14105 term 29 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
flag 89505 term 29 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {2663221724576003196 29 180} {63199979608193954 29 181}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {2663221724576003196 29 180} {63199979608193954 29 181}]
------------------------------------------------------
flag 67883 term 29 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
flag 43024 term 29 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {2663221724576003196 29 180} {63199979608193954 29 181}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {2663221724576003196 29 180} {63199979608193954 29 181}]
------------------------------------------------------
flag 36434 term 29 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
flag 43487 term 29 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {2663221724576003196 29 180} {63199979608193954 29 181}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {2663221724576003196 29 180} {63199979608193954 29 181}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5567859972801530274 (index 182) to leader 1
flag 7265 term 29 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
flag 10542 term 29 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {2663221724576003196 29 180} {63199979608193954 29 181} {5567859972801530274 29 182}]
------------------------------------------------------
flag 98867 term 29 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 29 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 54530 term 29 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {2663221724576003196 29 180} {63199979608193954 29 181} {5567859972801530274 29 182}]
------------------------------------------------------
client write log 3841536445828185843 (index 183) to leader 1
client write log 5549457911713964786 (index 184) to leader 1
client write log 8454464168808407359 (index 185) to leader 1
client write log 3367467939994712289 (index 186) to leader 1
client write log 5071171976858466596 (index 187) to leader 1
client write log 3445214181104307136 (index 188) to leader 1
client write log 5526260566144093770 (index 189) to leader 1
client write log 1928030132713064250 (index 190) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86926 term 29 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 29 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 40505 term 29 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 29 179} {2663221724576003196 29 180} {63199979608193954 29 181} {5567859972801530274 29 182} {3841536445828185843 29 183} {5549457911713964786 29 184} {8454464168808407359 29 185} {3367467939994712289 29 186} {5071171976858466596 29 187} {3445214181104307136 29 188} {5526260566144093770 29 189} {1928030132713064250 29 190}]
------------------------------------------------------
term 29 Server1 start snapshot! index=189
term 29 server1 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
flag 16307 term 29 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 29 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190}]
------------------------------------------------------
term 29 Server0 start snapshot! index=189
term 29 server0 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
!!!!!!connect server 2
client write log 9199742181399076418 (index 191) to leader 1
term 29 server 0 not vote for server 2, 日志不够新
term 29 server 1 not vote for server 2, 日志不够新
term 31 server 2 vote for server 1
term 31 server 1 get vote from server 2
term 31 server 1 become leader
------------------------------------------------------
term 31 server 0 vote for server 1
term 31 server 1 get outdate rpc reply from server 0
flag 44174 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 95827 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 31 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 192->191
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 192->191
------------------------------------------------------
flag 18964 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 182  matchIndex[2]: 0
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
term 31 server 2 InstallSnapshot success
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot success
Server2 get CondInstallSnapshot!
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
rf.lastIncludedIndex 189 rf.lastIncludedTerm 29 rf.commitIndex 189 rf.lastApplied 189
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
flag 10786 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 30279 term 31 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 31 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
flag 56415 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 34982 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
flag 59218 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 46944 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
flag 97778 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 28505 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55588 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 97101 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
flag 97992 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 15862 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
flag 89855 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 98785 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
flag 34429 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 58622 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76244 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 75667 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
flag 68368 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 93198 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
flag 60210 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 54162 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53499 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 90354 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
flag 54093 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 48798 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
flag 18002 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 94688 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
flag 40087 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 30787 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44344 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 90301 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47881 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 97773 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
flag 5606 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 54277 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191}]
------------------------------------------------------
client write log 9199742181399076418 (index 192) to leader 1
flag 5615 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 53475 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191} {9199742181399076418 31 192}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191} {9199742181399076418 31 192}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70095 term 31 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 12063 term 31 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191} {9199742181399076418 31 192}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191} {9199742181399076418 31 192}]
------------------------------------------------------
flag 28494 term 31 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 53645 term 31 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191} {9199742181399076418 31 192}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191} {9199742181399076418 31 192}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59247 term 31 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 14966 term 31 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191} {9199742181399076418 31 192}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191} {9199742181399076418 31 192}]
------------------------------------------------------
flag 89697 term 31 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 62196 term 31 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191} {9199742181399076418 31 192}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191} {9199742181399076418 31 192}]
------------------------------------------------------
term 31 server 0 not vote for server 1, 任期不够新
term 31 server 1 get outdate rpc reply from server 0
flag 67749 term 31 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 59401 term 31 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191} {9199742181399076418 31 192}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191} {9199742181399076418 31 192}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74749 term 31 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 20076 term 31 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191} {9199742181399076418 31 192}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191} {9199742181399076418 31 192}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8505045261076440764 (index 193) to leader 1
flag 66977 term 31 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 25736 term 31 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191} {9199742181399076418 31 192} {8505045261076440764 31 193}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97050 term 31 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 72199 term 31 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191} {9199742181399076418 31 192} {8505045261076440764 31 193}]
------------------------------------------------------
client write log 2758439865928051683 (index 194) to leader 1
client write log 6531719898851860766 (index 195) to leader 1
client write log 7656397875191919063 (index 196) to leader 1
client write log 5795108134467993098 (index 197) to leader 1
client write log 2110308975331448332 (index 198) to leader 1
client write log 4190578192136244733 (index 199) to leader 1
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8538 term 31 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 72109 term 31 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 189} {1928030132713064250 29 190} {9199742181399076418 29 191} {9199742181399076418 31 192} {8505045261076440764 31 193} {2758439865928051683 31 194} {6531719898851860766 31 195} {7656397875191919063 31 196} {5795108134467993098 31 197} {2110308975331448332 31 198} {4190578192136244733 31 199}]
------------------------------------------------------
term 31 Server1 start snapshot! index=199
term 31 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20234 term 31 leader 1 nextIndex[0]: 200  matchIndex[0]: 199
term 31 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 31 199}]
------------------------------------------------------
term 31 Server0 start snapshot! index=199
term 31 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2411981891974172129 (index 200) to leader 1
flag 66320 term 31 leader 1 nextIndex[0]: 200  matchIndex[0]: 199
term 31 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
term 32 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 2 vote for server 1
term 33 server 0 vote for server 1
term 33 server 1 get vote from server 2
term 33 server 1 become leader
------------------------------------------------------
term 33 server 1 get outdate rpc reply from server 0
flag 80237 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 18664 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 201->200
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
term 33 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85322 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 193  matchIndex[2]: 0
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
term 33 server 2 InstallSnapshot success
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 31 rf.commitIndex 199 rf.lastApplied 199
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24059 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 14506 term 33 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 33 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
flag 52576 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 28416 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
flag 26559 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 2250 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3028 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 43007 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
flag 92148 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 57711 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
flag 32390 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 55368 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
flag 89198 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 41732 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56567 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 71785 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
flag 41573 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 16203 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61394 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 48695 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88946 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 26625 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
flag 65197 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 52466 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
flag 57264 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 67688 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
flag 49168 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 33442 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
flag 69302 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 55487 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
flag 23874 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 76855 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
flag 99312 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 44518 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {2411981891974172129 31 200}]
------------------------------------------------------
client write log 2411981891974172129 (index 201) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92611 term 33 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 24656 term 33 leader 1 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {2411981891974172129 31 200} {2411981891974172129 33 201}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {2411981891974172129 31 200} {2411981891974172129 33 201}]
------------------------------------------------------
flag 56425 term 33 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 40757 term 33 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {2411981891974172129 31 200} {2411981891974172129 33 201}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {2411981891974172129 31 200} {2411981891974172129 33 201}]
------------------------------------------------------
flag 10678 term 33 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 76713 term 33 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {2411981891974172129 31 200} {2411981891974172129 33 201}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {2411981891974172129 31 200} {2411981891974172129 33 201}]
------------------------------------------------------
flag 6806 term 33 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 86845 term 33 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {2411981891974172129 31 200} {2411981891974172129 33 201}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {2411981891974172129 31 200} {2411981891974172129 33 201}]
------------------------------------------------------
flag 49929 term 33 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 82497 term 33 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {2411981891974172129 31 200} {2411981891974172129 33 201}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {2411981891974172129 31 200} {2411981891974172129 33 201}]
------------------------------------------------------
flag 80803 term 33 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 25958 term 33 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {2411981891974172129 31 200} {2411981891974172129 33 201}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {2411981891974172129 31 200} {2411981891974172129 33 201}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 1164 term 33 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 74628 term 33 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 99268 term 33 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 92011 term 33 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 91513 term 33 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 5260 term 33 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 34 server 0 vote for server 2
term 34 server 2 get vote from server 0
term 34 server 2 become leader
------------------------------------------------------
flag 5142 term 34 leader 2 nextIndex[0]: 202  matchIndex[0]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 63105 term 34 leader 2 nextIndex[1]: 202  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {2411981891974172129 31 200} {2411981891974172129 33 201}]
------------------------------------------------------
client write log 1915755887526667674 (index 202) to leader 2
flag 83552 term 33 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 60240 term 33 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 47521 term 34 leader 2 nextIndex[0]: 202  matchIndex[0]: 201
term 34 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 19710 term 34 leader 2 nextIndex[1]: 202  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2411981891974172129 31 200} {2411981891974172129 33 201} {1915755887526667674 34 202}]
------------------------------------------------------
flag 83170 term 33 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 46053 term 33 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 202->201
------------------------------------------------------
flag 16533 term 34 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 34 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 34 leaderCommit: 202 
------------------------------------------------------
flag 80098 term 34 leader 2 nextIndex[1]: 202  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {2411981891974172129 31 200} {2411981891974172129 33 201} {1915755887526667674 34 202}]
------------------------------------------------------
client write log 427669560689145817 (index 203) to leader 2
client write log 8587532454424044501 (index 204) to leader 2
client write log 3579615209586416066 (index 205) to leader 2
client write log 5442892906198265255 (index 206) to leader 2
client write log 5008277242674424370 (index 207) to leader 2
client write log 7418026919890161809 (index 208) to leader 2
client write log 3976448124361019532 (index 209) to leader 2
client write log 4293881010804276469 (index 210) to leader 2
client write log 1580059501015404298 (index 211) to leader 2
flag 12162 term 33 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 0  matchIndex[2]: 201
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
flag 27175 term 34 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 34 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 34 leaderCommit: 202 
------------------------------------------------------
flag 10816 term 34 leader 2 nextIndex[1]: 202  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 31 199} {2411981891974172129 31 200} {2411981891974172129 33 201} {1915755887526667674 34 202} {427669560689145817 34 203} {8587532454424044501 34 204} {3579615209586416066 34 205} {5442892906198265255 34 206} {5008277242674424370 34 207} {7418026919890161809 34 208} {3976448124361019532 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
term 34 Server2 start snapshot! index=209
term 34 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=211
-------------------------------------------------------------
flag 1800 term 33 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 0  matchIndex[2]: 201
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
flag 73393 term 34 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 34 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 202  matchIndex[1]: 0
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
term 34 Server0 start snapshot! index=209
term 34 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=211
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1126405927447610518 (index 202) to leader 1
flag 69539 term 33 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 33 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 0  matchIndex[2]: 201
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
term 34 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 server 0 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 server 1 not vote for server 2, 任期不够新
term 34 server 2 get outdate rpc reply from server 1
flag 30288 term 34 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 34 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 202  matchIndex[1]: 0
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 1 InstallSnapshot success
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 34 rf.commitIndex 209 rf.lastApplied 209
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
term 34 server 2 not vote for server 1, 日志不够新
term 34 server 0 not vote for server 1, 日志不够新
term 36 server 1 vote for server 2
term 36 server 2 get vote from server 1
term 36 server 0 vote for server 2
term 36 server 2 become leader
------------------------------------------------------
term 36 server 2 get outdate rpc reply from server 0
flag 65244 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 52059 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 212->211
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
flag 59227 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 42122 term 36 leader 2 nextIndex[1]: 210  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21420 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 18962 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45594 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 2938 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
flag 63849 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 18943 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
flag 36980 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 57869 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92842 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 97429 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
flag 70720 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 12464 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
flag 79675 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 65653 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44103 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 87490 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
flag 45708 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 11729 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
flag 38374 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 72301 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
flag 49419 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 57097 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
flag 97042 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 56375 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
flag 80632 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 90023 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
flag 43098 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 48601 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
term 36 server 0 not vote for server 2, 任期不够新
term 36 server 2 get outdate rpc reply from server 0
flag 79333 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 30929 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
flag 32361 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 94716 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
flag 46649 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 42897 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211}]
------------------------------------------------------
client write log 1126405927447610518 (index 212) to leader 2
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26827 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 3605 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211} {1126405927447610518 36 212}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211} {1126405927447610518 36 212}]
------------------------------------------------------
flag 18247 term 36 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 51494 term 36 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211} {1126405927447610518 36 212}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211} {1126405927447610518 36 212}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82756 term 36 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 74701 term 36 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211} {1126405927447610518 36 212}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211} {1126405927447610518 36 212}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74489 term 36 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 19070 term 36 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211} {1126405927447610518 36 212}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211} {1126405927447610518 36 212}]
------------------------------------------------------
flag 32738 term 36 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 7717 term 36 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211} {1126405927447610518 36 212}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211} {1126405927447610518 36 212}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97420 term 36 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 16784 term 36 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211} {1126405927447610518 36 212}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211} {1126405927447610518 36 212}]
------------------------------------------------------
flag 38324 term 36 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 92622 term 36 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211} {1126405927447610518 36 212}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211} {1126405927447610518 36 212}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2565654919961667332 (index 213) to leader 2
flag 57017 term 36 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 83470 term 36 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211} {1126405927447610518 36 212} {2565654919961667332 36 213}]
------------------------------------------------------
flag 60488 term 36 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 213 
------------------------------------------------------
flag 71866 term 36 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 213 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211} {1126405927447610518 36 212} {2565654919961667332 36 213}]
------------------------------------------------------
client write log 3842064313834979098 (index 214) to leader 2
client write log 5188784476155021742 (index 215) to leader 2
client write log 7973640831920733174 (index 216) to leader 2
client write log 5096996313734237516 (index 217) to leader 2
client write log 7021016103368993572 (index 218) to leader 2
client write log 738994152687555076 (index 219) to leader 2
flag 41382 term 36 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 213 
------------------------------------------------------
flag 53415 term 36 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 213 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 209} {4293881010804276469 34 210} {1580059501015404298 34 211} {1126405927447610518 36 212} {2565654919961667332 36 213} {3842064313834979098 36 214} {5188784476155021742 36 215} {7973640831920733174 36 216} {5096996313734237516 36 217} {7021016103368993572 36 218} {738994152687555076 36 219}]
------------------------------------------------------
term 36 Server2 start snapshot! index=219
term 36 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 11204 term 36 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
!!!!!!connect server 0
client write log 5558963238484690484 (index 220) to leader 2
term 36 Server1 start snapshot! index=219
term 36 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
term 36 server 2 not vote for server 0, 日志不够新
term 36 server 1 not vote for server 0, 日志不够新
term 38 server 1 vote for server 2
term 38 server 0 vote for server 2
term 38 server 2 get vote from server 1
term 38 server 2 become leader
------------------------------------------------------
term 38 server 2 get outdate rpc reply from server 0
flag 20396 term 38 leader 2 nextIndex[0]: 221  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 70211 term 38 leader 2 nextIndex[1]: 221  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 38 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 221->220
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 221->220
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 213  matchIndex[0]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 95312 term 38 leader 2 nextIndex[1]: 220  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
term 38 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 36 rf.commitIndex 219 rf.lastApplied 219
term 38 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
flag 25210 term 38 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 38 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 7685 term 38 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
flag 81616 term 38 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 12568 term 38 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
flag 38803 term 38 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 53206 term 38 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
flag 82835 term 38 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 91930 term 38 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
flag 80115 term 38 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 88339 term 38 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
flag 53713 term 38 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 50495 term 38 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
flag 3916 term 38 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 33154 term 38 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
flag 30418 term 38 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 52877 term 38 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
flag 65345 term 38 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 9367 term 38 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10910 term 38 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 51029 term 38 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22278 term 38 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 46803 term 38 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
term 38 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26903 term 38 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 99240 term 38 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
flag 18409 term 38 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 49773 term 38 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
flag 3676 term 38 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 1392 term 38 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
flag 39825 term 38 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 17332 term 38 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14740 term 38 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 91773 term 38 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
flag 7607 term 38 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 22105 term 38 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 36 219} {5558963238484690484 36 220}]
------------------------------------------------------
client write log 5558963238484690484 (index 221) to leader 2
flag 75641 term 38 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 14860 term 38 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {5558963238484690484 36 220} {5558963238484690484 38 221}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {5558963238484690484 36 220} {5558963238484690484 38 221}]
------------------------------------------------------
flag 2553 term 38 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 38 leaderCommit: 221 
------------------------------------------------------
flag 75287 term 38 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 38 leaderCommit: 221 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {5558963238484690484 36 220} {5558963238484690484 38 221}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {5558963238484690484 36 220} {5558963238484690484 38 221}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31175 term 38 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 38 leaderCommit: 221 
------------------------------------------------------
flag 72424 term 38 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 38 leaderCommit: 221 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {5558963238484690484 36 220} {5558963238484690484 38 221}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {5558963238484690484 36 220} {5558963238484690484 38 221}]
------------------------------------------------------
flag 93413 term 38 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 38 leaderCommit: 221 
------------------------------------------------------
flag 14777 term 38 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 38 leaderCommit: 221 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {5558963238484690484 36 220} {5558963238484690484 38 221}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {5558963238484690484 36 220} {5558963238484690484 38 221}]
------------------------------------------------------
flag 81205 term 38 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 38 leaderCommit: 221 
------------------------------------------------------
flag 64253 term 38 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 38 leaderCommit: 221 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {5558963238484690484 36 220} {5558963238484690484 38 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {5558963238484690484 36 220} {5558963238484690484 38 221}]
------------------------------------------------------
flag 93431 term 38 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 38 leaderCommit: 221 
------------------------------------------------------
flag 54887 term 38 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 38 leaderCommit: 221 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {5558963238484690484 36 220} {5558963238484690484 38 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {5558963238484690484 36 220} {5558963238484690484 38 221}]
------------------------------------------------------
flag 37750 term 38 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 38 leaderCommit: 221 
------------------------------------------------------
flag 26064 term 38 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 38 leaderCommit: 221 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {5558963238484690484 36 220} {5558963238484690484 38 221}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 36 219} {5558963238484690484 36 220} {5558963238484690484 38 221}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1942840030140222877 (index 222) to leader 2
flag 68813 term 38 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 38 leaderCommit: 221 
------------------------------------------------------
flag 52133 term 38 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 38 leaderCommit: 221 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 36 219} {5558963238484690484 36 220} {5558963238484690484 38 221} {1942840030140222877 38 222}]
------------------------------------------------------
flag 77736 term 38 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 38 leaderCommit: 222 
------------------------------------------------------
flag 94930 term 38 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 38 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 38 leaderCommit: 222 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 36 219} {5558963238484690484 36 220} {5558963238484690484 38 221} {1942840030140222877 38 222}]
------------------------------------------------------
client write log 1496694286126904688 (index 223) to leader 2
client write log 7063805504812977112 (index 224) to leader 2
client write log 6567664710884450694 (index 225) to leader 2
client write log 2528958881152906745 (index 226) to leader 2
client write log 4228135976428173845 (index 227) to leader 2
client write log 6266712676011288657 (index 228) to leader 2
client write log 8502509194986234613 (index 229) to leader 2
client write log 5839137652610041581 (index 230) to leader 2
client write log 2849617066484922765 (index 231) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59397 term 38 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 38 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 38 leaderCommit: 222 
------------------------------------------------------
flag 76205 term 38 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 38 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 38 leaderCommit: 222 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 36 219} {5558963238484690484 36 220} {5558963238484690484 38 221} {1942840030140222877 38 222} {1496694286126904688 38 223} {7063805504812977112 38 224} {6567664710884450694 38 225} {2528958881152906745 38 226} {4228135976428173845 38 227} {6266712676011288657 38 228} {8502509194986234613 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231}]
------------------------------------------------------
term 38 Server2 start snapshot! index=229
term 38 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=231
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 15906 term 38 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 38 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231}]
------------------------------------------------------
term 38 Server1 start snapshot! index=229
term 38 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=231
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1451972969952275799 (index 232) to leader 2
term 38 server 1 not vote for server 2, 任期不够新
term 38 server 2 get outdate rpc reply from server 1
term 38 server 2 not vote for server 0, 日志不够新
term 38 server 1 not vote for server 0, 日志不够新
term 40 server 1 vote for server 2
term 40 server 0 vote for server 2
term 40 server 2 get vote from server 1
term 40 server 2 become leader
------------------------------------------------------
term 40 server 2 get outdate rpc reply from server 0
flag 66722 term 40 leader 2 nextIndex[0]: 233  matchIndex[0]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 43509 term 40 leader 2 nextIndex[1]: 233  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 40 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 40 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 233->232
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 233->232
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 222  matchIndex[0]: 0
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 36566 term 40 leader 2 nextIndex[1]: 232  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 40 server 0 InstallSnapshot success
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 38 rf.commitIndex 229 rf.lastApplied 229
flag 92138 term 40 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 11194 term 40 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13758 term 40 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 87188 term 40 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
flag 48823 term 40 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 19171 term 40 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
flag 86181 term 40 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 54374 term 40 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 40 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
update nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
flag 67128 term 40 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 59449 term 40 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
flag 53288 term 40 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 57561 term 40 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50129 term 40 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 26991 term 40 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
flag 31246 term 40 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 24644 term 40 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
flag 14991 term 40 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 74419 term 40 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
flag 3210 term 40 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 76437 term 40 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
flag 42101 term 40 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 4396 term 40 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
flag 18488 term 40 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 8006 term 40 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
flag 58302 term 40 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 64075 term 40 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
flag 80076 term 40 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 55156 term 40 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75450 term 40 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 91250 term 40 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
flag 87552 term 40 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 65005 term 40 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 40 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
update nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
flag 75403 term 40 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 83408 term 40 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
flag 50705 term 40 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 96858 term 40 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 40 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
update nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232}]
------------------------------------------------------
client write log 1451972969952275799 (index 233) to leader 2
flag 49317 term 40 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 83776 term 40 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 40 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233}]
------------------------------------------------------
flag 99461 term 40 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
flag 40821 term 40 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 40 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233}]
------------------------------------------------------
flag 47075 term 40 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
flag 97868 term 40 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 40 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233}]
------------------------------------------------------
flag 28454 term 40 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
flag 9056 term 40 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 40 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233}]
------------------------------------------------------
flag 50666 term 40 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
flag 59157 term 40 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 40 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
term 40 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233}]
------------------------------------------------------
flag 56567 term 40 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
flag 68414 term 40 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 40 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233}]
------------------------------------------------------
flag 3494 term 40 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
flag 81017 term 40 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 40 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233}]
------------------------------------------------------
!!!!!!diconnect server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98229 term 40 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
flag 65281 term 40 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 40 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
flag 62632 term 40 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
flag 53298 term 40 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 40 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
flag 30583 term 40 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
flag 281 term 40 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 40 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
term 41 server 0 vote for server 1
term 41 server 1 get vote from server 0
term 41 server 1 become leader
------------------------------------------------------
flag 8640 term 40 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
flag 51699 term 40 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 40 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
flag 55258 term 41 leader 1 nextIndex[0]: 234  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
flag 48192 term 41 leader 1 nextIndex[2]: 234  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233}]
------------------------------------------------------
client write log 774527436535041865 (index 234) to leader 1
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 234->233
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 233
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 67516 term 40 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 40 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
flag 56390 term 41 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 41 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
flag 82036 term 41 leader 1 nextIndex[2]: 234  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233} {774527436535041865 41 234}]
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 233
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 69940 term 40 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 40 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
flag 88318 term 41 leader 1 nextIndex[0]: 235  matchIndex[0]: 234
term 41 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 234 
------------------------------------------------------
flag 15881 term 41 leader 1 nextIndex[2]: 234  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233} {774527436535041865 41 234}]
------------------------------------------------------
client write log 6089747821205455901 (index 235) to leader 1
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 233
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 87108 term 40 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 40 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
flag 34273 term 41 leader 1 nextIndex[0]: 235  matchIndex[0]: 234
term 41 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 234 
------------------------------------------------------
flag 45617 term 41 leader 1 nextIndex[2]: 234  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233} {774527436535041865 41 234} {6089747821205455901 41 235}]
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 233
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 14711 term 40 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 40 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
flag 87416 term 41 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 41 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 41 leaderCommit: 235 
------------------------------------------------------
flag 98601 term 41 leader 1 nextIndex[2]: 234  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233} {774527436535041865 41 234} {6089747821205455901 41 235}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1488830508624376840 (index 236) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 233
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 44245 term 40 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 40 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
term 41 server 1 AppendEntries false 领导者任期过期 args.Term 40
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 41 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27007 term 41 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 41 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 41 leaderCommit: 235 
------------------------------------------------------
flag 87894 term 41 leader 1 nextIndex[2]: 234  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233} {774527436535041865 41 234} {6089747821205455901 41 235} {1488830508624376840 41 236}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233} {774527436535041865 41 234} {6089747821205455901 41 235} {1488830508624376840 41 236}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67020 term 41 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
flag 92490 term 41 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 41 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233} {774527436535041865 41 234} {6089747821205455901 41 235} {1488830508624376840 41 236}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233} {774527436535041865 41 234} {6089747821205455901 41 235} {1488830508624376840 41 236}]
------------------------------------------------------
flag 53744 term 41 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
flag 99650 term 41 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 41 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233} {774527436535041865 41 234} {6089747821205455901 41 235} {1488830508624376840 41 236}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233} {774527436535041865 41 234} {6089747821205455901 41 235} {1488830508624376840 41 236}]
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3436 term 41 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
flag 96721 term 41 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 41 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233} {774527436535041865 41 234} {6089747821205455901 41 235} {1488830508624376840 41 236}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233} {774527436535041865 41 234} {6089747821205455901 41 235} {1488830508624376840 41 236}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64174 term 41 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
flag 12055 term 41 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 41 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233} {774527436535041865 41 234} {6089747821205455901 41 235} {1488830508624376840 41 236}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233} {774527436535041865 41 234} {6089747821205455901 41 235} {1488830508624376840 41 236}]
------------------------------------------------------
flag 2314 term 41 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
flag 76051 term 41 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 41 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233} {774527436535041865 41 234} {6089747821205455901 41 235} {1488830508624376840 41 236}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233} {774527436535041865 41 234} {6089747821205455901 41 235} {1488830508624376840 41 236}]
------------------------------------------------------
flag 59913 term 41 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
flag 88932 term 41 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 41 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233} {774527436535041865 41 234} {6089747821205455901 41 235} {1488830508624376840 41 236}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233} {774527436535041865 41 234} {6089747821205455901 41 235} {1488830508624376840 41 236}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1728256957642486445 (index 237) to leader 1
flag 4679 term 41 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
flag 4540 term 41 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 41 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 236 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233} {774527436535041865 41 234} {6089747821205455901 41 235} {1488830508624376840 41 236} {1728256957642486445 41 237}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13529 term 41 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 41 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
flag 68102 term 41 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 41 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233} {774527436535041865 41 234} {6089747821205455901 41 235} {1488830508624376840 41 236} {1728256957642486445 41 237}]
------------------------------------------------------
client write log 6957821765324559989 (index 238) to leader 1
client write log 5489904615762897641 (index 239) to leader 1
client write log 1033456109513280305 (index 240) to leader 1
client write log 7336710771738977928 (index 241) to leader 1
client write log 873735741556278983 (index 242) to leader 1
client write log 7756373606559943235 (index 243) to leader 1
client write log 3992799738610330626 (index 244) to leader 1
client write log 2847830914021293134 (index 245) to leader 1
client write log 4089730001174177034 (index 246) to leader 1
client write log 5263907420305231240 (index 247) to leader 1
client write log 2475053779238235194 (index 248) to leader 1
client write log 8011204818750374878 (index 249) to leader 1
client write log 2963509820455064400 (index 250) to leader 1
client write log 1687479466773508284 (index 251) to leader 1
flag 78205 term 41 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 41 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
flag 72041 term 41 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 41 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 38 229} {5839137652610041581 38 230} {2849617066484922765 38 231} {1451972969952275799 38 232} {1451972969952275799 40 233} {774527436535041865 41 234} {6089747821205455901 41 235} {1488830508624376840 41 236} {1728256957642486445 41 237} {6957821765324559989 41 238} {5489904615762897641 41 239} {1033456109513280305 41 240} {7336710771738977928 41 241} {873735741556278983 41 242} {7756373606559943235 41 243} {3992799738610330626 41 244} {2847830914021293134 41 245} {4089730001174177034 41 246} {5263907420305231240 41 247} {2475053779238235194 41 248} {8011204818750374878 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251}]
------------------------------------------------------
term 41 Server1 start snapshot! index=239
term 41 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=251
-------------------------------------------------------------
term 41 Server1 start snapshot! index=249
term 41 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=251
-------------------------------------------------------------
flag 64536 term 41 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 41 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251}]
------------------------------------------------------
term 41 Server0 start snapshot! index=239
term 41 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=251
-------------------------------------------------------------
term 41 Server0 start snapshot! index=249
term 41 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=251
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8748461151778547191 (index 252) to leader 1
flag 35203 term 41 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 41 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
term 42 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 2 vote for server 1
term 43 server 1 get vote from server 2
term 43 server 1 become leader
------------------------------------------------------
term 43 server 0 vote for server 1
term 43 server 1 get outdate rpc reply from server 0
flag 90947 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 68126 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 253->252
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
flag 66540 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 237  matchIndex[2]: 0
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
term 43 server 2 InstallSnapshot success
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 41 rf.commitIndex 249 rf.lastApplied 249
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
flag 19587 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 73548 term 43 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 43 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
flag 17051 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 959 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
flag 50299 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 75811 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
flag 1334 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 46243 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
flag 83651 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 14755 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
flag 44605 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 66954 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
flag 14824 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 67887 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
flag 66157 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 52186 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
flag 15980 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 6326 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 1 not vote for server 2, 任期不够新
term 43 server 2 get outdate rpc reply from server 1
flag 72250 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 75162 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40666 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 45329 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54278 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 72684 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23322 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 70405 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
flag 40732 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 53901 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
flag 80913 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 30267 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26231 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 36911 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252}]
------------------------------------------------------
client write log 8748461151778547191 (index 253) to leader 1
flag 18533 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 41146 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252} {8748461151778547191 43 253}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252} {8748461151778547191 43 253}]
------------------------------------------------------
flag 15413 term 43 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 37596 term 43 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252} {8748461151778547191 43 253}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252} {8748461151778547191 43 253}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72037 term 43 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 95556 term 43 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252} {8748461151778547191 43 253}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252} {8748461151778547191 43 253}]
------------------------------------------------------
flag 58207 term 43 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 56741 term 43 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252} {8748461151778547191 43 253}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252} {8748461151778547191 43 253}]
------------------------------------------------------
flag 71333 term 43 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 84379 term 43 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252} {8748461151778547191 43 253}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252} {8748461151778547191 43 253}]
------------------------------------------------------
flag 88854 term 43 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 76428 term 43 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252} {8748461151778547191 43 253}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252} {8748461151778547191 43 253}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3219524912073940452 (index 254) to leader 1
flag 97239 term 43 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 91190 term 43 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252} {8748461151778547191 43 253} {3219524912073940452 43 254}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26359 term 43 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 43 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 43 leaderCommit: 254 
------------------------------------------------------
flag 25317 term 43 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 254 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252} {8748461151778547191 43 253} {3219524912073940452 43 254}]
------------------------------------------------------
client write log 1306306021893209124 (index 255) to leader 1
client write log 8590013100038922740 (index 256) to leader 1
client write log 2726913006782714583 (index 257) to leader 1
client write log 5737051737417991863 (index 258) to leader 1
client write log 1816726593289637789 (index 259) to leader 1
client write log 120455460601660557 (index 260) to leader 1
client write log 6502692967828714899 (index 261) to leader 1
client write log 5597378855832220716 (index 262) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15551 term 43 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 43 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 43 leaderCommit: 254 
------------------------------------------------------
flag 21023 term 43 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 254 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 41 249} {2963509820455064400 41 250} {1687479466773508284 41 251} {8748461151778547191 41 252} {8748461151778547191 43 253} {3219524912073940452 43 254} {1306306021893209124 43 255} {8590013100038922740 43 256} {2726913006782714583 43 257} {5737051737417991863 43 258} {1816726593289637789 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262}]
------------------------------------------------------
term 43 Server1 start snapshot! index=259
term 43 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=262
-------------------------------------------------------------
flag 33739 term 43 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 43 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262}]
------------------------------------------------------
term 43 Server0 start snapshot! index=259
term 43 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=262
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1479938946790873256 (index 263) to leader 1
term 43 server 1 not vote for server 2, 日志不够新
term 43 server 0 not vote for server 2, 日志不够新
term 45 server 2 vote for server 1
term 45 server 0 vote for server 1
term 45 server 1 get vote from server 2
term 45 server 1 become leader
------------------------------------------------------
term 45 server 1 get outdate rpc reply from server 0
flag 54345 term 45 leader 1 nextIndex[0]: 264  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 21387 term 45 leader 1 nextIndex[2]: 264  matchIndex[2]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 45 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 264->263
------------------------------------------------------
term 45 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 264->263
------------------------------------------------------
flag 34914 term 45 leader 1 nextIndex[0]: 263  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 254  matchIndex[2]: 0
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 43
------------------------------------------------------
term 45 server 2 InstallSnapshot success
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot success
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 43 rf.commitIndex 259 rf.lastApplied 259
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50420 term 45 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 45242 term 45 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 45 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
term 45 server 0 not vote for server 2, 任期不够新
term 45 server 2 get outdate rpc reply from server 0
flag 84859 term 45 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 64621 term 45 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9958 term 45 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 11019 term 45 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
flag 51286 term 45 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 65359 term 45 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
flag 4032 term 45 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 42632 term 45 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74707 term 45 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 124 term 45 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
flag 41722 term 45 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 165 term 45 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
term 45 server 2 not vote for server 1, 任期不够新
term 45 server 1 get outdate rpc reply from server 2
flag 13145 term 45 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 99539 term 45 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
flag 32628 term 45 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 83397 term 45 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
flag 32146 term 45 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 56832 term 45 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
flag 48905 term 45 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 51358 term 45 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
flag 8626 term 45 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 59835 term 45 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
flag 68920 term 45 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 55005 term 45 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 45 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
update nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
flag 7901 term 45 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 90254 term 45 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77950 term 45 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 10444 term 45 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78356 term 45 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 54586 term 45 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
flag 61277 term 45 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 41245 term 45 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
flag 11881 term 45 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 73996 term 45 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263}]
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 1479938946790873256 (index 264) to leader 1
flag 69453 term 45 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 84025 term 45 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 45 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264}]
------------------------------------------------------
flag 9851 term 45 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 45 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
flag 27508 term 45 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 45 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20980 term 45 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 45 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
flag 20403 term 45 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 45 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12629 term 45 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 45 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
flag 11134 term 45 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 45 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
term 45 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
update leader CommitIndex=264
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91426 term 45 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 45 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
flag 39669 term 45 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 45 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264}]
------------------------------------------------------
flag 23940 term 45 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 45 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
flag 38682 term 45 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 45 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264}]
------------------------------------------------------
flag 66238 term 45 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 45 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
flag 53120 term 45 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 45 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
term 45 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27983 term 45 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 45 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
flag 37230 term 45 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 45 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
flag 39393 term 45 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 45 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
flag 37566 term 45 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 45 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44343 term 45 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 45 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
flag 29916 term 45 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 45 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
term 46 server 2 vote for server 0
term 46 server 0 get vote from server 2
term 46 server 0 become leader
------------------------------------------------------
flag 13550 term 46 leader 0 nextIndex[1]: 265  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
flag 28968 term 46 leader 0 nextIndex[2]: 265  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264}]
------------------------------------------------------
client write log 4635489921382043408 (index 265) to leader 0
flag 29738 term 45 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 45 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
flag 64832 term 45 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 45 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
flag 24200 term 46 leader 0 nextIndex[1]: 265  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
flag 31918 term 46 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 46 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265}]
------------------------------------------------------
flag 82594 term 45 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 45 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
flag 85606 term 45 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 45 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
flag 81402 term 46 leader 0 nextIndex[1]: 265  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 265 
------------------------------------------------------
flag 31833 term 46 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 46 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265}]
------------------------------------------------------
client write log 4426864566184110382 (index 266) to leader 0
flag 95000 term 45 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 45 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
flag 7609 term 45 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 45 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
flag 24888 term 46 leader 0 nextIndex[1]: 265  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 265 
------------------------------------------------------
flag 20024 term 46 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 46 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 265->264
------------------------------------------------------
flag 80734 term 45 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 45 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 264
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 43
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 265->264
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 43
------------------------------------------------------
flag 82779 term 46 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 46 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
!!!!!!connect server 1
client write log 7450311187588116860 (index 265) to leader 1
flag 17918 term 45 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 45 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 264
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 43
------------------------------------------------------
term 46 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 server 0 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 43
------------------------------------------------------
flag 63271 term 46 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 46 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
term 46 server 1 InstallSnapshot fail
rf.commitIndex 264 args.LastIncludedIndex 259
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
term 46 server 2 not vote for server 1, 日志不够新
term 46 server 0 not vote for server 1, 日志不够新
term 48 server 2 vote for server 0
term 48 server 1 vote for server 0
term 48 server 0 get vote from server 1
term 48 server 0 become leader
------------------------------------------------------
term 48 server 0 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15022 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 15854 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 267->266
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7931 term 48 leader 0 nextIndex[1]: 266  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 89338 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 266->265
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
flag 82264 term 48 leader 0 nextIndex[1]: 265  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
flag 61027 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
flag 96811 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 55443 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
flag 23726 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 18531 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
flag 66283 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 94562 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
flag 20599 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 83148 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
flag 51762 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 66079 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
flag 37004 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 20319 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46132 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 21236 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
flag 33498 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 50889 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
flag 15304 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 13037 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
term 48 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
flag 38214 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 38612 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
flag 59304 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 35837 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19427 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 5185 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
flag 18981 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 41531 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
flag 18445 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 38739 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
flag 90451 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 72745 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56003 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 83454 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266}]
------------------------------------------------------
client write log 7450311187588116860 (index 267) to leader 0
flag 79654 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 31903 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266} {7450311187588116860 48 267}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266} {7450311187588116860 48 267}]
------------------------------------------------------
flag 36137 term 48 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 88151 term 48 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266} {7450311187588116860 48 267}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266} {7450311187588116860 48 267}]
------------------------------------------------------
flag 53696 term 48 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 13300 term 48 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266} {7450311187588116860 48 267}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266} {7450311187588116860 48 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87779 term 48 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 33477 term 48 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266} {7450311187588116860 48 267}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266} {7450311187588116860 48 267}]
------------------------------------------------------
flag 52633 term 48 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 12618 term 48 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266} {7450311187588116860 48 267}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266} {7450311187588116860 48 267}]
------------------------------------------------------
flag 67586 term 48 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 24840 term 48 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266} {7450311187588116860 48 267}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266} {7450311187588116860 48 267}]
------------------------------------------------------
flag 67160 term 48 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 61297 term 48 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266} {7450311187588116860 48 267}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266} {7450311187588116860 48 267}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4571296401898138592 (index 268) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30707 term 48 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 32327 term 48 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266} {7450311187588116860 48 267} {4571296401898138592 48 268}]
------------------------------------------------------
flag 75644 term 48 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 268 
------------------------------------------------------
flag 75198 term 48 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 48 leaderCommit: 268 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266} {7450311187588116860 48 267} {4571296401898138592 48 268}]
------------------------------------------------------
client write log 52143361466818989 (index 269) to leader 0
client write log 8427788055918883300 (index 270) to leader 0
client write log 862892544532335746 (index 271) to leader 0
client write log 636712649277402674 (index 272) to leader 0
client write log 4641295384263260944 (index 273) to leader 0
client write log 8859892367047655648 (index 274) to leader 0
client write log 1124770653275446187 (index 275) to leader 0
client write log 2387354671898916002 (index 276) to leader 0
client write log 498745518790307510 (index 277) to leader 0
client write log 6541025625729830019 (index 278) to leader 0
client write log 8269469512850311958 (index 279) to leader 0
client write log 2719549683061343145 (index 280) to leader 0
flag 68316 term 48 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 268 
------------------------------------------------------
flag 36725 term 48 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 48 leaderCommit: 268 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 43 259} {120455460601660557 43 260} {6502692967828714899 43 261} {5597378855832220716 43 262} {1479938946790873256 43 263} {1479938946790873256 45 264} {4635489921382043408 46 265} {4426864566184110382 46 266} {7450311187588116860 48 267} {4571296401898138592 48 268} {52143361466818989 48 269} {8427788055918883300 48 270} {862892544532335746 48 271} {636712649277402674 48 272} {4641295384263260944 48 273} {8859892367047655648 48 274} {1124770653275446187 48 275} {2387354671898916002 48 276} {498745518790307510 48 277} {6541025625729830019 48 278} {8269469512850311958 48 279} {2719549683061343145 48 280}]
------------------------------------------------------
term 48 Server0 start snapshot! index=269
term 48 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=280
-------------------------------------------------------------
term 48 Server0 start snapshot! index=279
term 48 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=280
-------------------------------------------------------------
term 48 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 48
------------------------------------------------------
flag 55272 term 48 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 48 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280}]
------------------------------------------------------
term 48 Server2 start snapshot! index=269
term 48 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=280
-------------------------------------------------------------
term 48 Server2 start snapshot! index=279
term 48 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=280
-------------------------------------------------------------
!!!!!!connect server 1
client write log 64189818682443226 (index 281) to leader 0
term 48 server 2 not vote for server 1, 日志不够新
term 48 server 0 not vote for server 1, 日志不够新
term 50 server 2 vote for server 0
term 50 server 0 get vote from server 2
term 50 server 0 become leader
------------------------------------------------------
term 50 server 1 vote for server 0
term 50 server 0 get outdate rpc reply from server 1
flag 74608 term 50 leader 0 nextIndex[1]: 282  matchIndex[1]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 1435 term 50 leader 0 nextIndex[2]: 282  matchIndex[2]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 50 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 50 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 282->281
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 282->281
------------------------------------------------------
term 50 leader 0 nextIndex[1]: 268  matchIndex[1]: 0
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 48
------------------------------------------------------
flag 65402 term 50 leader 0 nextIndex[2]: 281  matchIndex[2]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
term 50 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 48 rf.commitIndex 279 rf.lastApplied 279
term 50 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
flag 97407 term 50 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 50 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 32348 term 50 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
flag 39314 term 50 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 52708 term 50 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
flag 51283 term 50 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 28617 term 50 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64809 term 50 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 34923 term 50 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
flag 37896 term 50 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 64772 term 50 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
flag 83582 term 50 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 45603 term 50 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29199 term 50 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 67718 term 50 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85510 term 50 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 3820 term 50 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
flag 56513 term 50 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 46484 term 50 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2058 term 50 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 44525 term 50 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
flag 49008 term 50 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 28729 term 50 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
flag 46291 term 50 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 32121 term 50 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
flag 62134 term 50 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 71552 term 50 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
flag 8736 term 50 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 32122 term 50 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
flag 53112 term 50 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 53606 term 50 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58654 term 50 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 30448 term 50 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
flag 97250 term 50 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 63392 term 50 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
term 50 server 1 not vote for server 0, 任期不够新
term 50 server 0 get outdate rpc reply from server 1
flag 45316 term 50 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 64019 term 50 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281}]
------------------------------------------------------
client write log 64189818682443226 (index 282) to leader 0
flag 50979 term 50 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 98591 term 50 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 50 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281} {64189818682443226 50 282}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281} {64189818682443226 50 282}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48421 term 50 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 50 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 50 leaderCommit: 282 
------------------------------------------------------
flag 29891 term 50 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 50 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 50 leaderCommit: 282 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281} {64189818682443226 50 282}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281} {64189818682443226 50 282}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57032 term 50 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 50 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 50 leaderCommit: 282 
------------------------------------------------------
flag 39799 term 50 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 50 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 50 leaderCommit: 282 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281} {64189818682443226 50 282}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281} {64189818682443226 50 282}]
------------------------------------------------------
flag 51178 term 50 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 50 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 50 leaderCommit: 282 
------------------------------------------------------
flag 87769 term 50 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 50 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 50 leaderCommit: 282 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281} {64189818682443226 50 282}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281} {64189818682443226 50 282}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62945 term 50 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 50 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 50 leaderCommit: 282 
------------------------------------------------------
flag 99311 term 50 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 50 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 50 leaderCommit: 282 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281} {64189818682443226 50 282}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281} {64189818682443226 50 282}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20973 term 50 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 50 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 50 leaderCommit: 282 
------------------------------------------------------
flag 76504 term 50 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 50 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 50 leaderCommit: 282 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281} {64189818682443226 50 282}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281} {64189818682443226 50 282}]
------------------------------------------------------
flag 76080 term 50 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 50 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 50 leaderCommit: 282 
------------------------------------------------------
flag 47292 term 50 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 50 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 50 leaderCommit: 282 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281} {64189818682443226 50 282}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281} {64189818682443226 50 282}]
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 1
client write log 673033502734682624 (index 283) to leader 0
flag 35474 term 50 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 50 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 50 leaderCommit: 282 
------------------------------------------------------
flag 99066 term 50 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 50 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 50 leaderCommit: 282 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281} {64189818682443226 50 282} {673033502734682624 50 283}]
------------------------------------------------------
flag 15697 term 50 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 50 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 95234 term 50 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 50 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281} {64189818682443226 50 282} {673033502734682624 50 283}]
------------------------------------------------------
client write log 4805116312672934273 (index 284) to leader 0
client write log 2303719733249164782 (index 285) to leader 0
client write log 1520619465739913425 (index 286) to leader 0
client write log 3236490828781766729 (index 287) to leader 0
client write log 1723152159906556046 (index 288) to leader 0
client write log 645836793030262584 (index 289) to leader 0
client write log 540752750424090350 (index 290) to leader 0
client write log 8518920536043936966 (index 291) to leader 0
client write log 5104170431643729073 (index 292) to leader 0
client write log 8251383503067590772 (index 293) to leader 0
client write log 3499315155753976897 (index 294) to leader 0
client write log 410803852211961583 (index 295) to leader 0
client write log 2056981455022800939 (index 296) to leader 0
client write log 2761542384355967434 (index 297) to leader 0
client write log 3738233201807768844 (index 298) to leader 0
flag 72627 term 50 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 50 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 44508 term 50 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 50 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 48 279} {2719549683061343145 48 280} {64189818682443226 48 281} {64189818682443226 50 282} {673033502734682624 50 283} {4805116312672934273 50 284} {2303719733249164782 50 285} {1520619465739913425 50 286} {3236490828781766729 50 287} {1723152159906556046 50 288} {645836793030262584 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298}]
------------------------------------------------------
term 50 Server0 start snapshot! index=289
term 50 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=298
-------------------------------------------------------------
term 50 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 50
------------------------------------------------------
flag 52049 term 50 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 50 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298}]
------------------------------------------------------
term 50 Server2 start snapshot! index=289
term 50 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=298
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2383569391725160029 (index 299) to leader 0
term 50 server 2 not vote for server 1, 日志不够新
term 50 server 0 not vote for server 1, 日志不够新
term 52 server 2 vote for server 0
term 52 server 1 vote for server 0
term 52 server 0 get vote from server 2
term 52 server 0 become leader
------------------------------------------------------
term 52 server 0 get outdate rpc reply from server 1
flag 14494 term 52 leader 0 nextIndex[1]: 300  matchIndex[1]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
flag 90700 term 52 leader 0 nextIndex[2]: 300  matchIndex[2]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 52 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 300->299
------------------------------------------------------
term 52 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 300->299
------------------------------------------------------
term 52 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 52 leader 0 nextIndex[1]: 283  matchIndex[1]: 0
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 50
------------------------------------------------------
flag 31189 term 52 leader 0 nextIndex[2]: 299  matchIndex[2]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
term 52 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 50 rf.commitIndex 289 rf.lastApplied 289
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
term 52 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
flag 5416 term 52 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 52 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
flag 64657 term 52 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
flag 67698 term 52 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
flag 35104 term 52 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99997 term 52 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
flag 49440 term 52 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
flag 42709 term 52 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
flag 50557 term 52 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
flag 19896 term 52 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
flag 23371 term 52 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:298 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
------------------------------------------------------
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
flag 80284 term 52 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
flag 80365 term 52 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
flag 22698 term 52 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
flag 6694 term 52 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
flag 31652 term 52 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
flag 11928 term 52 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
flag 70772 term 52 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
flag 84344 term 52 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
flag 3646 term 52 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
flag 4813 term 52 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
flag 70769 term 52 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
flag 92043 term 52 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
flag 69823 term 52 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
flag 41693 term 52 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
flag 54064 term 52 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
flag 55032 term 52 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
flag 77197 term 52 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
flag 23835 term 52 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:298 
term 52 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
flag 81941 term 52 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
flag 86852 term 52 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
flag 93805 term 52 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
flag 58072 term 52 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
flag 55278 term 52 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
flag 77354 term 52 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13685 term 52 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
flag 36545 term 52 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299}]
------------------------------------------------------
client write log 2383569391725160029 (index 300) to leader 0
flag 98980 term 52 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
flag 86846 term 52 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=300
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299} {2383569391725160029 52 300}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 50 289} {540752750424090350 50 290} {8518920536043936966 50 291} {5104170431643729073 50 292} {8251383503067590772 50 293} {3499315155753976897 50 294} {410803852211961583 50 295} {2056981455022800939 50 296} {2761542384355967434 50 297} {3738233201807768844 50 298} {2383569391725160029 50 299} {2383569391725160029 52 300}]
------------------------------------------------------
term 52 Server0 start snapshot! index=299
term 52 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=300
-------------------------------------------------------------
flag 27291 term 52 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
flag 39061 term 52 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 50 299} {2383569391725160029 52 300}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=300
leader log:
[{snapshot 50 299} {2383569391725160029 52 300}]
------------------------------------------------------
term 52 Server2 start snapshot! index=299
term 52 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=300
-------------------------------------------------------------
term 52 Server1 start snapshot! index=299
term 52 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=300
-------------------------------------------------------------
flag 55990 term 52 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
flag 59725 term 52 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=300
leader log:
[{snapshot 50 299} {2383569391725160029 52 300}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 50 299} {2383569391725160029 52 300}]
------------------------------------------------------
flag 30705 term 52 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
flag 93063 term 52 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 50 299} {2383569391725160029 52 300}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=300
leader log:
[{snapshot 50 299} {2383569391725160029 52 300}]
------------------------------------------------------
flag 8499 term 52 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
flag 97214 term 52 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:300 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=300
leader log:
[{snapshot 50 299} {2383569391725160029 52 300}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 50 299} {2383569391725160029 52 300}]
------------------------------------------------------
flag 17136 term 52 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
flag 69086 term 52 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=300
leader log:
[{snapshot 50 299} {2383569391725160029 52 300}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 50 299} {2383569391725160029 52 300}]
------------------------------------------------------
flag 73917 term 52 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
flag 85300 term 52 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=300
leader log:
[{snapshot 50 299} {2383569391725160029 52 300}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 50 299} {2383569391725160029 52 300}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
flag 63189 term 52 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
flag 40998 term 52 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
flag 4777 term 52 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
flag 27297 term 52 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
flag 41104 term 52 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
flag 89151 term 52 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
flag 91376 term 52 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
flag 69270 term 52 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
term 53 server 1 vote for server 2
term 53 server 2 get vote from server 1
term 53 server 2 become leader
------------------------------------------------------
flag 23806 term 53 leader 2 nextIndex[0]: 301  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
flag 78403 term 53 leader 2 nextIndex[1]: 301  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 50 299} {2383569391725160029 52 300}]
------------------------------------------------------
client write log 3386736614936288160 (index 301) to leader 2
flag 11946 term 52 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
flag 70470 term 52 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
flag 47498 term 53 leader 2 nextIndex[0]: 301  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
flag 32756 term 53 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 53 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 50 299} {2383569391725160029 52 300} {3386736614936288160 53 301}]
------------------------------------------------------
flag 57198 term 52 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
flag 90357 term 52 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
flag 21981 term 53 leader 2 nextIndex[0]: 301  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
flag 50004 term 53 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 53 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 53 leaderCommit: 301 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 50 299} {2383569391725160029 52 300} {3386736614936288160 53 301}]
------------------------------------------------------
client write log 7967271851176647274 (index 302) to leader 2
flag 82184 term 52 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
flag 65374 term 52 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
flag 14296 term 53 leader 2 nextIndex[0]: 301  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
flag 6374 term 53 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 53 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 53 leaderCommit: 301 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {2383569391725160029 52 300} {3386736614936288160 53 301} {7967271851176647274 53 302}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 301->300
------------------------------------------------------
term 52 leader 0 nextIndex[1]: 0  matchIndex[1]: 300
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
flag 78475 term 52 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
flag 74234 term 53 leader 2 nextIndex[0]: 301  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 302 
------------------------------------------------------
flag 30371 term 53 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 53 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 53 leaderCommit: 302 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {2383569391725160029 52 300} {3386736614936288160 53 301} {7967271851176647274 53 302}]
------------------------------------------------------
!!!!!!connect server 0
client write log 6091267783139683082 (index 303) to leader 2
term 52 leader 0 nextIndex[1]: 0  matchIndex[1]: 300
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
flag 22403 term 52 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 52 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
term 53 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 53 server 2 AppendEntries false 领导者任期过期 args.Term 52
------------------------------------------------------
term 52 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27302 term 53 leader 2 nextIndex[0]: 301  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 302 
------------------------------------------------------
flag 71120 term 53 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 53 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 53 leaderCommit: 302 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {2383569391725160029 52 300} {3386736614936288160 53 301} {7967271851176647274 53 302} {6091267783139683082 53 303}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {2383569391725160029 52 300} {3386736614936288160 53 301} {7967271851176647274 53 302} {6091267783139683082 53 303}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 304->303
------------------------------------------------------
term 53 leader 2 nextIndex[0]: 0  matchIndex[0]: 303
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
flag 53457 term 53 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 53 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 303 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {2383569391725160029 52 300} {3386736614936288160 53 301} {7967271851176647274 53 302} {6091267783139683082 53 303}]
------------------------------------------------------
term 53 server 0 InstallSnapshot fail
rf.commitIndex 300 args.LastIncludedIndex 299
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95324 term 53 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 53 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
flag 74620 term 53 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 53 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 303 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {2383569391725160029 52 300} {3386736614936288160 53 301} {7967271851176647274 53 302} {6091267783139683082 53 303}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {2383569391725160029 52 300} {3386736614936288160 53 301} {7967271851176647274 53 302} {6091267783139683082 53 303}]
------------------------------------------------------
flag 35814 term 53 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 53 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 303 
------------------------------------------------------
flag 94261 term 53 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 53 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 303 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {2383569391725160029 52 300} {3386736614936288160 53 301} {7967271851176647274 53 302} {6091267783139683082 53 303}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {2383569391725160029 52 300} {3386736614936288160 53 301} {7967271851176647274 53 302} {6091267783139683082 53 303}]
------------------------------------------------------
flag 39014 term 53 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 53 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 303 
------------------------------------------------------
flag 67661 term 53 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 53 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 303 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {2383569391725160029 52 300} {3386736614936288160 53 301} {7967271851176647274 53 302} {6091267783139683082 53 303}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {2383569391725160029 52 300} {3386736614936288160 53 301} {7967271851176647274 53 302} {6091267783139683082 53 303}]
------------------------------------------------------
flag 35563 term 53 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 53 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 303 
------------------------------------------------------
flag 56053 term 53 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 53 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 303 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {2383569391725160029 52 300} {3386736614936288160 53 301} {7967271851176647274 53 302} {6091267783139683082 53 303}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {2383569391725160029 52 300} {3386736614936288160 53 301} {7967271851176647274 53 302} {6091267783139683082 53 303}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23662 term 53 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 53 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 303 
------------------------------------------------------
flag 10579 term 53 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 53 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 303 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {2383569391725160029 52 300} {3386736614936288160 53 301} {7967271851176647274 53 302} {6091267783139683082 53 303}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {2383569391725160029 52 300} {3386736614936288160 53 301} {7967271851176647274 53 302} {6091267783139683082 53 303}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3600076035870519756 (index 304) to leader 2
flag 64860 term 53 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 53 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 303 
------------------------------------------------------
flag 23683 term 53 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 53 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 303 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 50 299} {2383569391725160029 52 300} {3386736614936288160 53 301} {7967271851176647274 53 302} {6091267783139683082 53 303} {3600076035870519756 53 304}]
------------------------------------------------------
flag 47139 term 53 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 53 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
flag 9719 term 53 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 53 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 50 299} {2383569391725160029 52 300} {3386736614936288160 53 301} {7967271851176647274 53 302} {6091267783139683082 53 303} {3600076035870519756 53 304}]
------------------------------------------------------
client write log 2535040092363166393 (index 305) to leader 2
client write log 3595405779530845155 (index 306) to leader 2
client write log 6125194520939606924 (index 307) to leader 2
client write log 2523782816738901712 (index 308) to leader 2
client write log 6044147790962332158 (index 309) to leader 2
client write log 7142506220797865566 (index 310) to leader 2
client write log 4661120478578552498 (index 311) to leader 2
client write log 2321605817031961334 (index 312) to leader 2
client write log 1644531672969418964 (index 313) to leader 2
client write log 6313741820385184209 (index 314) to leader 2
client write log 8559256597629591899 (index 315) to leader 2
client write log 3577891867456409321 (index 316) to leader 2
client write log 282616305310818681 (index 317) to leader 2
client write log 2396682009652533714 (index 318) to leader 2
client write log 1696192167990224552 (index 319) to leader 2
flag 55624 term 53 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 53 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
flag 65209 term 53 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 53 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 50 299} {2383569391725160029 52 300} {3386736614936288160 53 301} {7967271851176647274 53 302} {6091267783139683082 53 303} {3600076035870519756 53 304} {2535040092363166393 53 305} {3595405779530845155 53 306} {6125194520939606924 53 307} {2523782816738901712 53 308} {6044147790962332158 53 309} {7142506220797865566 53 310} {4661120478578552498 53 311} {2321605817031961334 53 312} {1644531672969418964 53 313} {6313741820385184209 53 314} {8559256597629591899 53 315} {3577891867456409321 53 316} {282616305310818681 53 317} {2396682009652533714 53 318} {1696192167990224552 53 319}]
------------------------------------------------------
term 53 Server2 start snapshot! index=309
term 53 server2 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=319
-------------------------------------------------------------
term 53 Server2 start snapshot! index=319
term 53 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
term 53 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 53
------------------------------------------------------
flag 96127 term 53 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 53 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 53 319}]
------------------------------------------------------
term 53 Server1 start snapshot! index=309
term 53 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=319
-------------------------------------------------------------
term 53 Server1 start snapshot! index=319
term 53 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
!!!!!!connect server 0
client write log 94916759705356728 (index 320) to leader 2
term 53 server 2 not vote for server 0, 日志不够新
term 53 server 1 not vote for server 0, 日志不够新
term 55 server 1 vote for server 2
term 55 server 2 get vote from server 1
term 55 server 2 become leader
term 55 server 0 vote for server 2
------------------------------------------------------
term 55 server 2 get outdate rpc reply from server 0
flag 6844 term 55 leader 2 nextIndex[0]: 321  matchIndex[0]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
flag 78565 term 55 leader 2 nextIndex[1]: 321  matchIndex[1]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
term 55 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 321->320
------------------------------------------------------
term 55 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 321->320
------------------------------------------------------
term 55 leader 2 nextIndex[0]: 304  matchIndex[0]: 0
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 53
------------------------------------------------------
flag 35527 term 55 leader 2 nextIndex[1]: 320  matchIndex[1]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 55 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 53 rf.commitIndex 319 rf.lastApplied 319
term 55 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
flag 15999 term 55 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 55 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
flag 37545 term 55 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85605 term 55 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
flag 64499 term 55 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41041 term 55 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
flag 81956 term 55 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85366 term 55 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
flag 60900 term 55 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
term 55 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5158 term 55 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
flag 26719 term 55 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
flag 40299 term 55 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
flag 36164 term 55 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
flag 38582 term 55 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
flag 72956 term 55 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
flag 6371 term 55 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
flag 29673 term 55 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82726 term 55 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
flag 89620 term 55 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
flag 43938 term 55 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
flag 53840 term 55 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
flag 44877 term 55 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
flag 50567 term 55 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
flag 41450 term 55 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
flag 90961 term 55 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
flag 86064 term 55 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
flag 71833 term 55 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
flag 56875 term 55 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
flag 73883 term 55 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38735 term 55 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
flag 60570 term 55 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
flag 28624 term 55 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
flag 94424 term 55 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28563 term 55 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
flag 9423 term 55 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
flag 47408 term 55 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
flag 58360 term 55 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 53 319} {94916759705356728 53 320}]
------------------------------------------------------
client write log 94916759705356728 (index 321) to leader 2
flag 81914 term 55 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
flag 30362 term 55 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 55 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 53 319} {94916759705356728 53 320} {94916759705356728 55 321}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 53 319} {94916759705356728 53 320} {94916759705356728 55 321}]
------------------------------------------------------
flag 1007 term 55 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 55 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 321 
------------------------------------------------------
flag 62426 term 55 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 55 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 321 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 53 319} {94916759705356728 53 320} {94916759705356728 55 321}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 53 319} {94916759705356728 53 320} {94916759705356728 55 321}]
------------------------------------------------------
flag 63811 term 55 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 55 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 321 
------------------------------------------------------
flag 38291 term 55 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 55 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 321 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 53 319} {94916759705356728 53 320} {94916759705356728 55 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 53 319} {94916759705356728 53 320} {94916759705356728 55 321}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70054 term 55 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 55 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 321 
------------------------------------------------------
flag 74371 term 55 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 55 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 321 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 53 319} {94916759705356728 53 320} {94916759705356728 55 321}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 53 319} {94916759705356728 53 320} {94916759705356728 55 321}]
------------------------------------------------------
flag 50816 term 55 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 55 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 321 
------------------------------------------------------
flag 47594 term 55 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 55 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 321 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 53 319} {94916759705356728 53 320} {94916759705356728 55 321}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 53 319} {94916759705356728 53 320} {94916759705356728 55 321}]
------------------------------------------------------
flag 24192 term 55 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 55 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 321 
------------------------------------------------------
flag 26121 term 55 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 55 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 321 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
term 55 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
update leader CommitIndex=321
leader log:
[{snapshot 53 319} {94916759705356728 53 320} {94916759705356728 55 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 53 319} {94916759705356728 53 320} {94916759705356728 55 321}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86077 term 55 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 55 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 321 
------------------------------------------------------
flag 60405 term 55 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 55 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 321 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 53 319} {94916759705356728 53 320} {94916759705356728 55 321}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 53 319} {94916759705356728 53 320} {94916759705356728 55 321}]
------------------------------------------------------
  ... Passed --  82.3  3 1871  768028  321
--- PASS: TestSnapshotInstall2D (82.29s)
PASS
