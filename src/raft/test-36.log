=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 0 vote for server 2
term 1 server 2 get outdate rpc reply from server 0
flag 29991 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 76228 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 278393476873309296 (index 1) to leader 2
flag 10747 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 32513 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {278393476873309296 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {278393476873309296 1 1}]
------------------------------------------------------
flag 92249 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 77168 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {278393476873309296 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {278393476873309296 1 1}]
------------------------------------------------------
flag 62941 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 40295 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {278393476873309296 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {278393476873309296 1 1}]
------------------------------------------------------
flag 39511 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 95668 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {278393476873309296 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {278393476873309296 1 1}]
------------------------------------------------------
flag 21098 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 45664 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {278393476873309296 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {278393476873309296 1 1}]
------------------------------------------------------
flag 70911 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 85142 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {278393476873309296 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {278393476873309296 1 1}]
------------------------------------------------------
flag 3014 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 10670 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {278393476873309296 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {278393476873309296 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7140031362921646690 (index 2) to leader 2
flag 58804 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 40441 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {278393476873309296 1 1} {7140031362921646690 1 2}]
------------------------------------------------------
flag 34437 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 48158 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {278393476873309296 1 1} {7140031362921646690 1 2}]
------------------------------------------------------
client write log 3167710392428318508 (index 3) to leader 2
client write log 812467165908507909 (index 4) to leader 2
client write log 2597783028876219168 (index 5) to leader 2
client write log 9132155353379833773 (index 6) to leader 2
client write log 7489329421755212300 (index 7) to leader 2
client write log 7059509176886969680 (index 8) to leader 2
client write log 6208753915726793189 (index 9) to leader 2
client write log 1344848701841106660 (index 10) to leader 2
flag 80573 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 23946 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {278393476873309296 1 1} {7140031362921646690 1 2} {3167710392428318508 1 3} {812467165908507909 1 4} {2597783028876219168 1 5} {9132155353379833773 1 6} {7489329421755212300 1 7} {7059509176886969680 1 8} {6208753915726793189 1 9} {1344848701841106660 1 10}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 19254 term 1 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 1 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2723500651103655647 (index 11) to leader 2
term 1 server 2 not vote for server 0, 日志不够新
term 1 server 1 not vote for server 0, 日志不够新
term 3 server 1 vote for server 2
term 3 server 0 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 2 get outdate rpc reply from server 0
flag 21502 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 46903 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 12->11
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 12->11
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 99992 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 75979 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 51500 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
flag 55807 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 91467 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
flag 10163 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 15572 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
flag 69589 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 76492 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
flag 32050 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 74130 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
flag 26458 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 89150 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
flag 77274 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 68841 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
flag 38677 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 54701 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
flag 43835 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 42724 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
flag 22250 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 80429 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
flag 61050 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 33608 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
flag 15128 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 22834 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
flag 49970 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 30907 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
flag 98580 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 56439 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
flag 35801 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 1870 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
flag 12150 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 51475 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
flag 71875 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 99598 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
flag 14675 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 41281 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11}]
------------------------------------------------------
client write log 2723500651103655647 (index 12) to leader 2
flag 61716 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 18069 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11} {2723500651103655647 3 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11} {2723500651103655647 3 12}]
------------------------------------------------------
flag 40742 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 99630 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11} {2723500651103655647 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11} {2723500651103655647 3 12}]
------------------------------------------------------
flag 14566 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 13513 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11} {2723500651103655647 3 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11} {2723500651103655647 3 12}]
------------------------------------------------------
flag 39057 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 23252 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11} {2723500651103655647 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11} {2723500651103655647 3 12}]
------------------------------------------------------
flag 75453 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 23443 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11} {2723500651103655647 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11} {2723500651103655647 3 12}]
------------------------------------------------------
flag 49046 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 55424 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11} {2723500651103655647 3 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11} {2723500651103655647 3 12}]
------------------------------------------------------
flag 40136 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 61677 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11} {2723500651103655647 3 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11} {2723500651103655647 3 12}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 9935 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 18125 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 25083 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 10606 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 42057 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 76969 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 vote for server 0
term 4 server 0 get vote from server 1
term 4 server 0 become leader
------------------------------------------------------
flag 61763 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 8268 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
client write log 4759536426212669246 (index 13) to leader 0
flag 42190 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 10516 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11} {2723500651103655647 3 12} {4759536426212669246 4 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 13->12
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 12
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 28178 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 12530 term 4 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 90178 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11} {2723500651103655647 3 12} {4759536426212669246 4 13}]
------------------------------------------------------
client write log 7294105729094043334 (index 14) to leader 0
client write log 2506218440943761977 (index 15) to leader 0
client write log 6673369827589533220 (index 16) to leader 0
client write log 880388114268314711 (index 17) to leader 0
client write log 953827603348094752 (index 18) to leader 0
client write log 1881587809853683002 (index 19) to leader 0
client write log 408850855616710537 (index 20) to leader 0
client write log 7086568387331539981 (index 21) to leader 0
client write log 1262035439196778855 (index 22) to leader 0
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 12
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 60749 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 20267 term 4 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 29801 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 1 9} {1344848701841106660 1 10} {2723500651103655647 1 11} {2723500651103655647 3 12} {4759536426212669246 4 13} {7294105729094043334 4 14} {2506218440943761977 4 15} {6673369827589533220 4 16} {880388114268314711 4 17} {953827603348094752 4 18} {1881587809853683002 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=22
-------------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 12
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 21115 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 37225 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=22
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1377371784994678822 (index 13) to leader 2
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
flag 74074 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 31711 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95818 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot success
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
Server2 get CondInstallSnapshot!
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
flag 4200 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 48605 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
flag 17230 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 74158 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16729 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 11504 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72691 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 28396 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20503 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 4031 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
flag 86370 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 90768 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23900 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 46538 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23689 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 16651 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
flag 1965 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 4978 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 23->22
------------------------------------------------------
flag 61815 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 22
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 22 args.LastIncludedIndex 19
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
flag 50337 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 21099 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
flag 77979 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 40170 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
flag 8445 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 82378 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
flag 49644 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 74411 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
flag 17724 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 34491 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22147 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 95049 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
flag 98880 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 91682 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50414 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 97975 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
flag 96681 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 56743 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22}]
------------------------------------------------------
client write log 1377371784994678822 (index 23) to leader 0
flag 48583 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 59374 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22} {1377371784994678822 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22} {1377371784994678822 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44155 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 26894 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22} {1377371784994678822 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22} {1377371784994678822 4 23}]
------------------------------------------------------
flag 79038 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 8640 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22} {1377371784994678822 4 23}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22} {1377371784994678822 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57217 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 10243 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22} {1377371784994678822 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22} {1377371784994678822 4 23}]
------------------------------------------------------
flag 43398 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 83099 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22} {1377371784994678822 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22} {1377371784994678822 4 23}]
------------------------------------------------------
flag 27014 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 39551 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22} {1377371784994678822 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22} {1377371784994678822 4 23}]
------------------------------------------------------
flag 52890 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 13427 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22} {1377371784994678822 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22} {1377371784994678822 4 23}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8842446088764305308 (index 24) to leader 0
flag 23862 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 15083 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22} {1377371784994678822 4 23} {8842446088764305308 4 24}]
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62097 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 84871 term 4 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22} {1377371784994678822 4 23} {8842446088764305308 4 24}]
------------------------------------------------------
client write log 283727817877363415 (index 25) to leader 0
client write log 1261092444736136486 (index 26) to leader 0
client write log 1781934692347800100 (index 27) to leader 0
client write log 3102823241613389930 (index 28) to leader 0
client write log 2163673925643047847 (index 29) to leader 0
client write log 8569753555863376548 (index 30) to leader 0
client write log 2868056016165184725 (index 31) to leader 0
client write log 4580414744817224507 (index 32) to leader 0
client write log 6568027542601316105 (index 33) to leader 0
client write log 4585989859134779954 (index 34) to leader 0
client write log 1080198128091151116 (index 35) to leader 0
client write log 178928370690416521 (index 36) to leader 0
client write log 7808067601854215623 (index 37) to leader 0
client write log 2898113918865050223 (index 38) to leader 0
flag 51682 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 52819 term 4 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 19} {408850855616710537 4 20} {7086568387331539981 4 21} {1262035439196778855 4 22} {1377371784994678822 4 23} {8842446088764305308 4 24} {283727817877363415 4 25} {1261092444736136486 4 26} {1781934692347800100 4 27} {3102823241613389930 4 28} {2163673925643047847 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38}]
------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=38
-------------------------------------------------------------
term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 1036 term 4 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 4 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=38
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7951683924476793205 (index 39) to leader 0
term 4 server 2 not vote for server 1, 日志不够新
term 4 server 0 not vote for server 1, 日志不够新
term 6 server 2 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 1 vote for server 0
term 6 server 0 get outdate rpc reply from server 1
flag 40663 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 28797 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 40->39
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 40->39
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 24  matchIndex[1]: 0
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 33316 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
term 6 server 1 InstallSnapshot success
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
flag 7881 term 6 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 11794 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21864 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 35324 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58578 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 36032 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
flag 16551 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 49713 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
flag 78522 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 24366 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
flag 15501 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 62492 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
flag 48509 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 92213 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
flag 87744 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 82806 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
flag 82934 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 88944 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
flag 29623 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 31333 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
flag 37818 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 57414 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81611 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 7216 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
flag 34581 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 5400 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
flag 5085 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 27697 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33654 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 67945 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49437 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 21099 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
flag 39241 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 45660 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
flag 70883 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 74962 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39}]
------------------------------------------------------
client write log 7951683924476793205 (index 40) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12703 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 42450 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39} {7951683924476793205 6 40}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 29} {8569753555863376548 4 30} {2868056016165184725 4 31} {4580414744817224507 4 32} {6568027542601316105 4 33} {4585989859134779954 4 34} {1080198128091151116 4 35} {178928370690416521 4 36} {7808067601854215623 4 37} {2898113918865050223 4 38} {7951683924476793205 4 39} {7951683924476793205 6 40}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49322 term 6 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 6 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 94649 term 6 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {7951683924476793205 6 40}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {7951683924476793205 6 40}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
flag 59195 term 6 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 6 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 48915 term 6 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {7951683924476793205 6 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {7951683924476793205 6 40}]
------------------------------------------------------
flag 81342 term 6 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 6 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 37038 term 6 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {7951683924476793205 6 40}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {7951683924476793205 6 40}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79227 term 6 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 6 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 38293 term 6 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {7951683924476793205 6 40}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {7951683924476793205 6 40}]
------------------------------------------------------
flag 24846 term 6 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 6 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 30964 term 6 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {7951683924476793205 6 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {7951683924476793205 6 40}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6656171468819341458 (index 41) to leader 0
flag 49805 term 6 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 6 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 10540 term 6 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {7951683924476793205 6 40} {6656171468819341458 6 41}]
------------------------------------------------------
flag 32571 term 6 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 6 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 93223 term 6 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 6 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {7951683924476793205 6 40} {6656171468819341458 6 41}]
------------------------------------------------------
client write log 609339357263074790 (index 42) to leader 0
client write log 5898054292828469362 (index 43) to leader 0
client write log 8861422996601496090 (index 44) to leader 0
client write log 6510762423543486250 (index 45) to leader 0
client write log 4849546601770312451 (index 46) to leader 0
client write log 1494561887666285211 (index 47) to leader 0
client write log 3967178124818283927 (index 48) to leader 0
client write log 375392150935643370 (index 49) to leader 0
client write log 5782793262220436339 (index 50) to leader 0
client write log 7862418023386994647 (index 51) to leader 0
client write log 495593829459030367 (index 52) to leader 0
client write log 331190012485416210 (index 53) to leader 0
client write log 4475726101858157140 (index 54) to leader 0
term 6 server 2 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 2
flag 53354 term 6 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 6 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 12695 term 6 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 6 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 4 39} {7951683924476793205 6 40} {6656171468819341458 6 41} {609339357263074790 6 42} {5898054292828469362 6 43} {8861422996601496090 6 44} {6510762423543486250 6 45} {4849546601770312451 6 46} {1494561887666285211 6 47} {3967178124818283927 6 48} {375392150935643370 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54}]
------------------------------------------------------
term 6 Server0 start snapshot! index=49
term 6 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=54
-------------------------------------------------------------
term 6 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 26360 term 6 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 6 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54}]
------------------------------------------------------
term 6 Server2 start snapshot! index=49
term 6 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=54
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6685215967850372458 (index 55) to leader 0
term 6 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 88337 term 6 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 6 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 7 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 vote for server 0
term 8 server 1 vote for server 0
term 8 server 0 get vote from server 2
term 8 server 0 become leader
------------------------------------------------------
term 8 server 0 get outdate rpc reply from server 1
flag 16133 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 94617 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 56->55
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 58367 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
term 8 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 6 rf.commitIndex 49 rf.lastApplied 49
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39118 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 38265 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85371 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 68166 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
flag 52958 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 22456 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
flag 23960 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 98793 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
term 8 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79870 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 4461 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
flag 55330 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 6518 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
term 8 server 2 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 2
flag 3522 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 44624 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
flag 23708 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 20762 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
flag 77858 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 12029 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
flag 90694 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 50261 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30046 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 36677 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
flag 82530 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 13857 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
flag 10228 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 11509 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
flag 37590 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 78867 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
flag 28224 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 91944 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31600 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 76089 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55}]
------------------------------------------------------
client write log 6685215967850372458 (index 56) to leader 0
flag 85787 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 1568 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55} {6685215967850372458 8 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55} {6685215967850372458 8 56}]
------------------------------------------------------
flag 48881 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 0 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55} {6685215967850372458 8 56}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55} {6685215967850372458 8 56}]
------------------------------------------------------
term 8 server 0 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 0
flag 42704 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 73259 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55} {6685215967850372458 8 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55} {6685215967850372458 8 56}]
------------------------------------------------------
flag 14567 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 72371 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55} {6685215967850372458 8 56}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55} {6685215967850372458 8 56}]
------------------------------------------------------
flag 71734 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 3866 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55} {6685215967850372458 8 56}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55} {6685215967850372458 8 56}]
------------------------------------------------------
flag 63061 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 76679 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55} {6685215967850372458 8 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55} {6685215967850372458 8 56}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 53853 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 7664 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 72845 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 33736 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 26290 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 37698 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 99876 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 32534 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 9 server 1 vote for server 2
term 9 server 2 get vote from server 1
term 9 server 2 become leader
------------------------------------------------------
flag 39658 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 31103 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55} {6685215967850372458 8 56}]
------------------------------------------------------
client write log 4446487346311390262 (index 57) to leader 2
flag 16080 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 12651 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 3526 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 58256 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55} {6685215967850372458 8 56} {4446487346311390262 9 57}]
------------------------------------------------------
flag 45396 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 81751 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 97457 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 37543 term 9 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55} {6685215967850372458 8 56} {4446487346311390262 9 57}]
------------------------------------------------------
client write log 1274271566759210338 (index 58) to leader 2
flag 66868 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 29721 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 81090 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 27011 term 9 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55} {6685215967850372458 8 56} {4446487346311390262 9 57} {1274271566759210338 9 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 57->56
------------------------------------------------------
flag 48867 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 34930 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 74524 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55} {6685215967850372458 8 56} {4446487346311390262 9 57} {1274271566759210338 9 58}]
------------------------------------------------------
!!!!!!connect server 0
client write log 8484987559144347040 (index 59) to leader 2
term 9 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
flag 49449 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 63723 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 9 server 1 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96104 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
flag 11544 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55} {6685215967850372458 8 56} {4446487346311390262 9 57} {1274271566759210338 9 58} {8484987559144347040 9 59}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 6 49} {5782793262220436339 6 50} {7862418023386994647 6 51} {495593829459030367 6 52} {331190012485416210 6 53} {4475726101858157140 6 54} {6685215967850372458 6 55} {6685215967850372458 8 56} {4446487346311390262 9 57} {1274271566759210338 9 58} {8484987559144347040 9 59}]
------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
flag 21613 term 9 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 45172 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
flag 7592 term 9 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 7407 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
flag 35854 term 9 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 13661 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
flag 97763 term 9 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 77391 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
term 9 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
[{snapshot 9 59}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
flag 37042 term 9 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 82359 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3135016652820765820 (index 60) to leader 2
flag 72331 term 9 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 38998 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3135016652820765820 9 60}]
------------------------------------------------------
flag 9625 term 9 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 80175 term 9 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 9 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3135016652820765820 9 60}]
------------------------------------------------------
client write log 3573095350621124714 (index 61) to leader 2
client write log 4945247053514423080 (index 62) to leader 2
client write log 6025661587992639844 (index 63) to leader 2
client write log 172435574209221531 (index 64) to leader 2
client write log 3355335496988730678 (index 65) to leader 2
client write log 6088946496468538364 (index 66) to leader 2
client write log 6781764622822950846 (index 67) to leader 2
client write log 3403881117001782238 (index 68) to leader 2
client write log 6084531069491832907 (index 69) to leader 2
client write log 6389261831389211140 (index 70) to leader 2
client write log 6254256940069427070 (index 71) to leader 2
client write log 2285848788198426513 (index 72) to leader 2
client write log 3366145871398443172 (index 73) to leader 2
client write log 7608673816348907061 (index 74) to leader 2
flag 1885 term 9 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 95797 term 9 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 9 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 9 59} {3135016652820765820 9 60} {3573095350621124714 9 61} {4945247053514423080 9 62} {6025661587992639844 9 63} {172435574209221531 9 64} {3355335496988730678 9 65} {6088946496468538364 9 66} {6781764622822950846 9 67} {3403881117001782238 9 68} {6084531069491832907 9 69} {6389261831389211140 9 70} {6254256940069427070 9 71} {2285848788198426513 9 72} {3366145871398443172 9 73} {7608673816348907061 9 74}]
------------------------------------------------------
term 9 Server2 start snapshot! index=69
term 9 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=74
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 60->59
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 59
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 77446 term 9 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 9 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 74 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 9 69} {6389261831389211140 9 70} {6254256940069427070 9 71} {2285848788198426513 9 72} {3366145871398443172 9 73} {7608673816348907061 9 74}]
------------------------------------------------------
term 9 Server1 start snapshot! index=69
term 9 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=74
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7283537412031680694 (index 75) to leader 2
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 59
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 17258 term 9 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 9 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 74 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {6389261831389211140 9 70} {6254256940069427070 9 71} {2285848788198426513 9 72} {3366145871398443172 9 73} {7608673816348907061 9 74} {7283537412031680694 9 75}]
------------------------------------------------------
term 10 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 server 1 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 2 become leader
------------------------------------------------------
term 11 server 0 vote for server 2
term 11 server 2 get outdate rpc reply from server 0
flag 89335 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
flag 94194 term 11 leader 2 nextIndex[1]: 76  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {6389261831389211140 9 70} {6254256940069427070 9 71} {2285848788198426513 9 72} {3366145871398443172 9 73} {7608673816348907061 9 74} {7283537412031680694 9 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 76->75
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 0
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 25609 term 11 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
term 11 server 0 InstallSnapshot success
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 9 rf.commitIndex 69 rf.lastApplied 69
[{snapshot 9 69} {6389261831389211140 9 70} {6254256940069427070 9 71} {2285848788198426513 9 72} {3366145871398443172 9 73} {7608673816348907061 9 74} {7283537412031680694 9 75}]
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85874 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
flag 93508 term 11 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {6389261831389211140 9 70} {6254256940069427070 9 71} {2285848788198426513 9 72} {3366145871398443172 9 73} {7608673816348907061 9 74} {7283537412031680694 9 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {6389261831389211140 9 70} {6254256940069427070 9 71} {2285848788198426513 9 72} {3366145871398443172 9 73} {7608673816348907061 9 74} {7283537412031680694 9 75}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66797 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
flag 95367 term 11 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {6389261831389211140 9 70} {6254256940069427070 9 71} {2285848788198426513 9 72} {3366145871398443172 9 73} {7608673816348907061 9 74} {7283537412031680694 9 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {6389261831389211140 9 70} {6254256940069427070 9 71} {2285848788198426513 9 72} {3366145871398443172 9 73} {7608673816348907061 9 74} {7283537412031680694 9 75}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18519 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
flag 46965 term 11 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {6389261831389211140 9 70} {6254256940069427070 9 71} {2285848788198426513 9 72} {3366145871398443172 9 73} {7608673816348907061 9 74} {7283537412031680694 9 75}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {6389261831389211140 9 70} {6254256940069427070 9 71} {2285848788198426513 9 72} {3366145871398443172 9 73} {7608673816348907061 9 74} {7283537412031680694 9 75}]
------------------------------------------------------
term 11 server 1 not vote for server 0, 任期不够新
term 11 server 0 get outdate rpc reply from server 1
flag 26048 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
flag 41718 term 11 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {6389261831389211140 9 70} {6254256940069427070 9 71} {2285848788198426513 9 72} {3366145871398443172 9 73} {7608673816348907061 9 74} {7283537412031680694 9 75}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {6389261831389211140 9 70} {6254256940069427070 9 71} {2285848788198426513 9 72} {3366145871398443172 9 73} {7608673816348907061 9 74} {7283537412031680694 9 75}]
------------------------------------------------------
flag 34627 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
flag 15969 term 11 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {6389261831389211140 9 70} {6254256940069427070 9 71} {2285848788198426513 9 72} {3366145871398443172 9 73} {7608673816348907061 9 74} {7283537412031680694 9 75}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {6389261831389211140 9 70} {6254256940069427070 9 71} {2285848788198426513 9 72} {3366145871398443172 9 73} {7608673816348907061 9 74} {7283537412031680694 9 75}]
------------------------------------------------------
flag 41182 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
flag 96997 term 11 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {6389261831389211140 9 70} {6254256940069427070 9 71} {2285848788198426513 9 72} {3366145871398443172 9 73} {7608673816348907061 9 74} {7283537412031680694 9 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {6389261831389211140 9 70} {6254256940069427070 9 71} {2285848788198426513 9 72} {3366145871398443172 9 73} {7608673816348907061 9 74} {7283537412031680694 9 75}]
------------------------------------------------------
flag 12173 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
flag 26661 term 11 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {6389261831389211140 9 70} {6254256940069427070 9 71} {2285848788198426513 9 72} {3366145871398443172 9 73} {7608673816348907061 9 74} {7283537412031680694 9 75}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {6389261831389211140 9 70} {6254256940069427070 9 71} {2285848788198426513 9 72} {3366145871398443172 9 73} {7608673816348907061 9 74} {7283537412031680694 9 75}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7700588907154286211 (index 76) to leader 2
flag 22814 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
flag 8512 term 11 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {6389261831389211140 9 70} {6254256940069427070 9 71} {2285848788198426513 9 72} {3366145871398443172 9 73} {7608673816348907061 9 74} {7283537412031680694 9 75} {7700588907154286211 11 76}]
------------------------------------------------------
flag 34369 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 30808 term 11 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {6389261831389211140 9 70} {6254256940069427070 9 71} {2285848788198426513 9 72} {3366145871398443172 9 73} {7608673816348907061 9 74} {7283537412031680694 9 75} {7700588907154286211 11 76}]
------------------------------------------------------
client write log 7490399227357312231 (index 77) to leader 2
client write log 7089455460385077744 (index 78) to leader 2
client write log 8882876815734924546 (index 79) to leader 2
client write log 5469766611082298985 (index 80) to leader 2
client write log 564299581255044279 (index 81) to leader 2
client write log 4585952623727436304 (index 82) to leader 2
flag 93639 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 27672 term 11 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 9 69} {6389261831389211140 9 70} {6254256940069427070 9 71} {2285848788198426513 9 72} {3366145871398443172 9 73} {7608673816348907061 9 74} {7283537412031680694 9 75} {7700588907154286211 11 76} {7490399227357312231 11 77} {7089455460385077744 11 78} {8882876815734924546 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82}]
------------------------------------------------------
term 11 Server2 start snapshot! index=79
term 11 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=82
-------------------------------------------------------------
term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 79826 term 11 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 11 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82}]
------------------------------------------------------
term 11 Server1 start snapshot! index=79
term 11 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=82
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7107821256801261184 (index 83) to leader 2
term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 82577 term 11 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 11 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
term 12 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 1 vote for server 2
term 13 server 2 get vote from server 1
term 13 server 2 become leader
------------------------------------------------------
term 13 server 0 vote for server 2
term 13 server 2 get outdate rpc reply from server 0
flag 79782 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
flag 87862 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 84->83
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 76  matchIndex[0]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 94822 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
term 13 server 0 InstallSnapshot success
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 11 rf.commitIndex 79 rf.lastApplied 79
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38709 term 13 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
flag 90234 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67252 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
flag 89240 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
flag 77254 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
flag 5840 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
flag 29081 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
flag 49686 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
flag 8961 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
flag 45773 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64348 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
flag 89603 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
flag 28333 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
flag 11487 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
flag 21331 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
flag 45554 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79896 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
flag 54831 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
flag 88345 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
flag 96515 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
term 13 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86334 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
flag 18582 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31065 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
flag 48553 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12915 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
flag 33578 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
flag 45623 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
flag 13298 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
flag 67875 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
flag 31072 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97778 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
flag 98567 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
flag 10376 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
flag 27664 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83}]
------------------------------------------------------
client write log 7107821256801261184 (index 84) to leader 2
flag 55223 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
flag 34877 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83} {7107821256801261184 13 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83} {7107821256801261184 13 84}]
------------------------------------------------------
flag 17053 term 13 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
flag 47485 term 13 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 13 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83} {7107821256801261184 13 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83} {7107821256801261184 13 84}]
------------------------------------------------------
flag 51780 term 13 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
flag 53544 term 13 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 13 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83} {7107821256801261184 13 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83} {7107821256801261184 13 84}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89911 term 13 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
flag 43697 term 13 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 13 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83} {7107821256801261184 13 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83} {7107821256801261184 13 84}]
------------------------------------------------------
flag 1831 term 13 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
flag 85813 term 13 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 13 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83} {7107821256801261184 13 84}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83} {7107821256801261184 13 84}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96228 term 13 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
flag 86823 term 13 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 13 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83} {7107821256801261184 13 84}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83} {7107821256801261184 13 84}]
------------------------------------------------------
flag 64427 term 13 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
flag 44595 term 13 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 13 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83} {7107821256801261184 13 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83} {7107821256801261184 13 84}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 50463 term 13 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
flag 41612 term 13 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 13 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3340 term 13 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
flag 37076 term 13 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 13 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
flag 88325 term 13 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
flag 84803 term 13 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 13 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
flag 42127 term 13 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
flag 48938 term 13 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 13 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 85->84
------------------------------------------------------
term 14 server 1 vote for server 0
term 14 server 0 get vote from server 1
term 14 server 0 become leader
------------------------------------------------------
flag 93499 term 14 leader 0 nextIndex[1]: 85  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
flag 34190 term 14 leader 0 nextIndex[2]: 85  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83} {7107821256801261184 13 84}]
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 0  matchIndex[0]: 84
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 48365 term 13 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 13 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
client write log 6131439327589156245 (index 85) to leader 0
flag 58793 term 14 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
flag 79606 term 14 leader 0 nextIndex[2]: 85  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83} {7107821256801261184 13 84} {6131439327589156245 14 85}]
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 0  matchIndex[0]: 84
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 36526 term 13 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 13 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
flag 97763 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 94837 term 14 leader 0 nextIndex[2]: 85  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83} {7107821256801261184 13 84} {6131439327589156245 14 85}]
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 0  matchIndex[0]: 84
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 87425 term 13 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 13 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 85->84
------------------------------------------------------
client write log 1815985410181395376 (index 86) to leader 0
client write log 4154098118526310655 (index 87) to leader 0
client write log 6793836787937430791 (index 88) to leader 0
client write log 7033914401831979067 (index 89) to leader 0
client write log 7623856497611611864 (index 90) to leader 0
client write log 5291073361977863157 (index 91) to leader 0
client write log 2271071196411744418 (index 92) to leader 0
client write log 6165372028697034020 (index 93) to leader 0
client write log 2088998362560972453 (index 94) to leader 0
client write log 2368235253178244125 (index 95) to leader 0
client write log 4602185930049811163 (index 96) to leader 0
client write log 8763446116642732769 (index 97) to leader 0
client write log 3870525658117114009 (index 98) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42623 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 23392 term 14 leader 0 nextIndex[2]: 85  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 11 79} {5469766611082298985 11 80} {564299581255044279 11 81} {4585952623727436304 11 82} {7107821256801261184 11 83} {7107821256801261184 13 84} {6131439327589156245 14 85} {1815985410181395376 14 86} {4154098118526310655 14 87} {6793836787937430791 14 88} {7033914401831979067 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
term 14 Server0 start snapshot! index=89
term 14 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=98
-------------------------------------------------------------
term 13 leader 2 nextIndex[0]: 0  matchIndex[0]: 84
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
term 13 leader 2 nextIndex[1]: 0  matchIndex[1]: 84
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 84960 term 14 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 85  matchIndex[2]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
term 14 Server1 start snapshot! index=89
term 14 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=98
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 85->84
------------------------------------------------------
!!!!!!connect server 2
client write log 5292754578716294179 (index 85) to leader 2
term 13 leader 2 nextIndex[0]: 0  matchIndex[0]: 84
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
term 13 leader 2 nextIndex[1]: 0  matchIndex[1]: 84
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
term 14 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2406 term 14 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 2 InstallSnapshot success
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 14 rf.commitIndex 89 rf.lastApplied 89
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
term 14 server 1 not vote for server 2, 日志不够新
term 14 server 0 not vote for server 2, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 vote for server 0
term 16 server 1 vote for server 0
term 16 server 0 get vote from server 2
term 16 server 0 become leader
------------------------------------------------------
term 16 server 0 get outdate rpc reply from server 1
flag 64307 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 40378 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 99->98
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 2
flag 99854 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 45716 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
term 16 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81836 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 82010 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20432 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 73140 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47488 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 36271 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
flag 31722 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 86012 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
term 16 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18447 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 65 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23731 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 88210 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
flag 47943 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 16114 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23692 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 67274 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
flag 48408 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 18935 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
flag 92672 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 40271 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24778 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 70097 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
flag 98538 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 18924 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
flag 27532 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 78633 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83593 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 57834 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
flag 96007 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 24386 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
term 16 server 1 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 1
flag 68110 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 89108 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
flag 46015 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 83513 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98}]
------------------------------------------------------
client write log 5292754578716294179 (index 99) to leader 0
flag 39694 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 65121 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98} {5292754578716294179 16 99}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 89} {7623856497611611864 14 90} {5291073361977863157 14 91} {2271071196411744418 14 92} {6165372028697034020 14 93} {2088998362560972453 14 94} {2368235253178244125 14 95} {4602185930049811163 14 96} {8763446116642732769 14 97} {3870525658117114009 14 98} {5292754578716294179 16 99}]
------------------------------------------------------
term 16 Server0 start snapshot! index=99
term 16 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
flag 56631 term 16 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
flag 91333 term 16 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
term 16 Server1 start snapshot! index=99
term 16 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
term 16 Server2 start snapshot! index=99
term 16 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
flag 59054 term 16 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
flag 25266 term 16 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
flag 22417 term 16 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
flag 44780 term 16 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
flag 68623 term 16 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
flag 69806 term 16 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
flag 47587 term 16 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
flag 20434 term 16 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
flag 61989 term 16 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
flag 7994 term 16 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3299084562850830764 (index 100) to leader 0
flag 99612 term 16 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
flag 6661 term 16 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {3299084562850830764 16 100}]
------------------------------------------------------
flag 48368 term 16 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 5084 term 16 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {3299084562850830764 16 100}]
------------------------------------------------------
client write log 351464141676360907 (index 101) to leader 0
client write log 9127677559565710213 (index 102) to leader 0
client write log 2213422357938353533 (index 103) to leader 0
client write log 4558750418519075555 (index 104) to leader 0
client write log 5198222683206012514 (index 105) to leader 0
client write log 7615495285287335416 (index 106) to leader 0
client write log 7372863307186185621 (index 107) to leader 0
client write log 1110077983256714166 (index 108) to leader 0
client write log 8951960431318672084 (index 109) to leader 0
client write log 8972486942205183234 (index 110) to leader 0
flag 18029 term 16 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 89143 term 16 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 99} {3299084562850830764 16 100} {351464141676360907 16 101} {9127677559565710213 16 102} {2213422357938353533 16 103} {4558750418519075555 16 104} {5198222683206012514 16 105} {7615495285287335416 16 106} {7372863307186185621 16 107} {1110077983256714166 16 108} {8951960431318672084 16 109} {8972486942205183234 16 110}]
------------------------------------------------------
term 16 Server0 start snapshot! index=109
term 16 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=110
-------------------------------------------------------------
term 16 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 61687 term 16 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 16 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110}]
------------------------------------------------------
term 16 Server2 start snapshot! index=109
term 16 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=110
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 4829073435244029469 (index 111) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 13199 term 16 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 16 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 17 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 not vote for server 0, 任期不够新
term 18 server 2 vote for server 0
term 18 server 0 get outdate rpc reply from server 2
term 18 server 1 vote for server 0
term 18 server 0 get vote from server 2
term 18 server 0 become leader
------------------------------------------------------
term 18 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94707 term 18 leader 0 nextIndex[1]: 112  matchIndex[1]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 68347 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 112->111
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 100  matchIndex[1]: 0
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 88550 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 1 InstallSnapshot success
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 16 rf.commitIndex 109 rf.lastApplied 109
flag 53521 term 18 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 52942 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28061 term 18 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 39646 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
flag 50085 term 18 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 76291 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 0 not vote for server 2, 任期不够新
term 18 server 2 get outdate rpc reply from server 0
flag 90745 term 18 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 2970 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
flag 42402 term 18 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 66998 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31138 term 18 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 52644 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
flag 83604 term 18 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 20431 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67314 term 18 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 39341 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71045 term 18 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 86666 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
flag 48097 term 18 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 68652 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34294 term 18 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 55301 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
flag 5847 term 18 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 88814 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
flag 23296 term 18 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 50389 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
flag 17215 term 18 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 91735 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
flag 82358 term 18 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 93888 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27467 term 18 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 24098 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
flag 54783 term 18 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 65214 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111}]
------------------------------------------------------
client write log 4829073435244029469 (index 112) to leader 0
flag 79857 term 18 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 34924 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111} {4829073435244029469 18 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111} {4829073435244029469 18 112}]
------------------------------------------------------
flag 81969 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 89491 term 18 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111} {4829073435244029469 18 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111} {4829073435244029469 18 112}]
------------------------------------------------------
flag 17119 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 54623 term 18 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111} {4829073435244029469 18 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111} {4829073435244029469 18 112}]
------------------------------------------------------
flag 28999 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 87270 term 18 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111} {4829073435244029469 18 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111} {4829073435244029469 18 112}]
------------------------------------------------------
flag 9371 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 32371 term 18 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111} {4829073435244029469 18 112}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111} {4829073435244029469 18 112}]
------------------------------------------------------
flag 24053 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 48888 term 18 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111} {4829073435244029469 18 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111} {4829073435244029469 18 112}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6460005772310525920 (index 113) to leader 0
flag 15243 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 13437 term 18 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111} {4829073435244029469 18 112} {6460005772310525920 18 113}]
------------------------------------------------------
flag 95282 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 84383 term 18 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 18 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111} {4829073435244029469 18 112} {6460005772310525920 18 113}]
------------------------------------------------------
client write log 4383472459514007365 (index 114) to leader 0
client write log 3811439750362550697 (index 115) to leader 0
client write log 4793164111616279721 (index 116) to leader 0
client write log 4123463619298827388 (index 117) to leader 0
client write log 6426435429725572775 (index 118) to leader 0
client write log 9018152825258174210 (index 119) to leader 0
client write log 6322343200130993138 (index 120) to leader 0
client write log 6176135960184719696 (index 121) to leader 0
client write log 394975730283693131 (index 122) to leader 0
client write log 5197784493535728980 (index 123) to leader 0
client write log 8337611923221714903 (index 124) to leader 0
client write log 4370605552625987091 (index 125) to leader 0
client write log 8104086567847286671 (index 126) to leader 0
client write log 5536137329968479945 (index 127) to leader 0
term 18 server 2 not vote for server 0, 任期不够新
term 18 server 0 get outdate rpc reply from server 2
flag 55024 term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 26594 term 18 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 18 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 109} {8972486942205183234 16 110} {4829073435244029469 16 111} {4829073435244029469 18 112} {6460005772310525920 18 113} {4383472459514007365 18 114} {3811439750362550697 18 115} {4793164111616279721 18 116} {4123463619298827388 18 117} {6426435429725572775 18 118} {9018152825258174210 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127}]
------------------------------------------------------
term 18 Server0 start snapshot! index=119
term 18 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=127
-------------------------------------------------------------
term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 18
------------------------------------------------------
flag 32717 term 18 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127}]
------------------------------------------------------
term 18 Server2 start snapshot! index=119
term 18 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=127
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5521771720812317383 (index 128) to leader 0
term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 18
------------------------------------------------------
flag 3226 term 18 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 19 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 2 vote for server 0
term 20 server 0 get vote from server 2
term 20 server 0 become leader
------------------------------------------------------
term 20 server 1 vote for server 0
term 20 server 0 get outdate rpc reply from server 1
flag 37621 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 27910 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 20 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 129->128
------------------------------------------------------
term 20 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 18
------------------------------------------------------
flag 33378 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 1 InstallSnapshot success
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 18 rf.commitIndex 119 rf.lastApplied 119
term 20 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28267 term 20 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 12148 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
flag 793 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 5087 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
flag 83424 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 16982 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
flag 50724 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 52650 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
flag 1326 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 44486 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
flag 79372 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 11941 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
flag 33885 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 85081 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
flag 16634 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 79517 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
flag 51174 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 51935 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
flag 82988 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 37816 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
flag 57923 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 11862 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
flag 58809 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 23994 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
flag 83924 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 6987 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
flag 49310 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 34960 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 0 not vote for server 1, 任期不够新
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 20 server 1 get outdate rpc reply from server 0
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
flag 54393 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 38688 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
flag 25423 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 50848 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
flag 97108 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 51974 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128}]
------------------------------------------------------
client write log 5521771720812317383 (index 129) to leader 0
flag 74546 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 58509 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128} {5521771720812317383 20 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 119} {6322343200130993138 18 120} {6176135960184719696 18 121} {394975730283693131 18 122} {5197784493535728980 18 123} {8337611923221714903 18 124} {4370605552625987091 18 125} {8104086567847286671 18 126} {5536137329968479945 18 127} {5521771720812317383 18 128} {5521771720812317383 20 129}]
------------------------------------------------------
term 20 Server0 start snapshot! index=129
term 20 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6110 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 42525 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
term 20 Server2 start snapshot! index=129
term 20 Server1 start snapshot! index=129
term 20 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
term 20 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
term 20 server 0 not vote for server 1, 任期不够新
term 20 server 1 get outdate rpc reply from server 0
flag 44046 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 40598 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
flag 54587 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 59300 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
term 20 server 2 not vote for server 1, 任期不够新
term 20 server 1 get outdate rpc reply from server 2
flag 13942 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 10870 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
flag 3361 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 42345 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
flag 34483 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 69978 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 46802 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 75152 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 47591 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 77613 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 18883 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 23383 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 21 server 1 vote for server 2
term 21 server 2 get vote from server 1
term 21 server 2 become leader
------------------------------------------------------
flag 38567 term 21 leader 2 nextIndex[0]: 130  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 55836 term 21 leader 2 nextIndex[1]: 130  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
client write log 6307049595191969993 (index 130) to leader 2
flag 5522 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 79464 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80454 term 21 leader 2 nextIndex[0]: 130  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 25977 term 21 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 21 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {6307049595191969993 21 130}]
------------------------------------------------------
flag 58812 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 72243 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 78339 term 21 leader 2 nextIndex[0]: 130  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 98525 term 21 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 21 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {6307049595191969993 21 130}]
------------------------------------------------------
client write log 4141078990608536977 (index 131) to leader 2
flag 99442 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 7459 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 21 server 2 not vote for server 1, 任期不够新
term 21 server 1 get outdate rpc reply from server 2
flag 56198 term 21 leader 2 nextIndex[0]: 130  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 56536 term 21 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 21 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {6307049595191969993 21 130} {4141078990608536977 21 131}]
------------------------------------------------------
flag 22059 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 60359 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 36248 term 21 leader 2 nextIndex[0]: 130  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 131 
------------------------------------------------------
flag 69322 term 21 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {6307049595191969993 21 130} {4141078990608536977 21 131}]
------------------------------------------------------
!!!!!!connect server 0
client write log 4637447215320730659 (index 132) to leader 2
flag 14038 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 6407 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 21 server 2 AppendEntries false 领导者任期过期 args.Term 20
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 21 server 1 AppendEntries false 领导者任期过期 args.Term 20
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68422 term 21 leader 2 nextIndex[0]: 130  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 131 
------------------------------------------------------
flag 55213 term 21 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {6307049595191969993 21 130} {4141078990608536977 21 131} {4637447215320730659 21 132}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {6307049595191969993 21 130} {4141078990608536977 21 131} {4637447215320730659 21 132}]
------------------------------------------------------
flag 95627 term 21 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 29731 term 21 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {6307049595191969993 21 130} {4141078990608536977 21 131} {4637447215320730659 21 132}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {6307049595191969993 21 130} {4141078990608536977 21 131} {4637447215320730659 21 132}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18704 term 21 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 40304 term 21 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {6307049595191969993 21 130} {4141078990608536977 21 131} {4637447215320730659 21 132}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {6307049595191969993 21 130} {4141078990608536977 21 131} {4637447215320730659 21 132}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91557 term 21 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 64889 term 21 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {6307049595191969993 21 130} {4141078990608536977 21 131} {4637447215320730659 21 132}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {6307049595191969993 21 130} {4141078990608536977 21 131} {4637447215320730659 21 132}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61203 term 21 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 17219 term 21 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {6307049595191969993 21 130} {4141078990608536977 21 131} {4637447215320730659 21 132}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {6307049595191969993 21 130} {4141078990608536977 21 131} {4637447215320730659 21 132}]
------------------------------------------------------
flag 97919 term 21 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 18280 term 21 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {6307049595191969993 21 130} {4141078990608536977 21 131} {4637447215320730659 21 132}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {6307049595191969993 21 130} {4141078990608536977 21 131} {4637447215320730659 21 132}]
------------------------------------------------------
flag 39342 term 21 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 33569 term 21 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {6307049595191969993 21 130} {4141078990608536977 21 131} {4637447215320730659 21 132}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {6307049595191969993 21 130} {4141078990608536977 21 131} {4637447215320730659 21 132}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 387638558148830721 (index 133) to leader 2
flag 58312 term 21 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 66881 term 21 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {6307049595191969993 21 130} {4141078990608536977 21 131} {4637447215320730659 21 132} {387638558148830721 21 133}]
------------------------------------------------------
flag 92264 term 21 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 58050 term 21 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {6307049595191969993 21 130} {4141078990608536977 21 131} {4637447215320730659 21 132} {387638558148830721 21 133}]
------------------------------------------------------
client write log 7820277448232676313 (index 134) to leader 2
client write log 4162598759306540884 (index 135) to leader 2
client write log 4089203767052917301 (index 136) to leader 2
client write log 3271042824624214182 (index 137) to leader 2
client write log 6583172147198695435 (index 138) to leader 2
client write log 2822539628031684762 (index 139) to leader 2
client write log 3232865609119951602 (index 140) to leader 2
client write log 5619075607574803557 (index 141) to leader 2
flag 31249 term 21 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 53190 term 21 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 20 129} {6307049595191969993 21 130} {4141078990608536977 21 131} {4637447215320730659 21 132} {387638558148830721 21 133} {7820277448232676313 21 134} {4162598759306540884 21 135} {4089203767052917301 21 136} {3271042824624214182 21 137} {6583172147198695435 21 138} {2822539628031684762 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141}]
------------------------------------------------------
term 21 Server2 start snapshot! index=139
term 21 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=141
-------------------------------------------------------------
term 21 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 55727 term 21 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 21 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141}]
------------------------------------------------------
term 21 Server1 start snapshot! index=139
term 21 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=141
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5207113475429313905 (index 142) to leader 2
term 21 server 2 not vote for server 0, 日志不够新
term 21 server 1 not vote for server 0, 日志不够新
term 22 server 0 not vote for server 2, 任期不够新
term 22 server 2 get outdate rpc reply from server 0
term 23 server 1 vote for server 2
term 23 server 0 vote for server 2
term 23 server 2 get vote from server 1
term 23 server 2 become leader
------------------------------------------------------
term 23 server 2 get outdate rpc reply from server 0
flag 41107 term 23 leader 2 nextIndex[0]: 143  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 96373 term 23 leader 2 nextIndex[1]: 143  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 143->142
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 143->142
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 133  matchIndex[0]: 0
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 38021 term 23 leader 2 nextIndex[1]: 142  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
term 23 server 0 InstallSnapshot success
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 21 rf.commitIndex 139 rf.lastApplied 139
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66982 term 23 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 28900 term 23 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
flag 44433 term 23 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 38070 term 23 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
flag 92528 term 23 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 2817 term 23 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
flag 57921 term 23 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 18887 term 23 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
flag 23401 term 23 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 30192 term 23 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46507 term 23 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 40382 term 23 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
flag 19535 term 23 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 53662 term 23 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
flag 55439 term 23 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 33873 term 23 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
flag 42756 term 23 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 61706 term 23 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
flag 87402 term 23 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 58099 term 23 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
flag 67709 term 23 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 23637 term 23 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
flag 76633 term 23 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 58541 term 23 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80399 term 23 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 60639 term 23 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
flag 82059 term 23 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 21654 term 23 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61914 term 23 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 86073 term 23 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
term 23 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
flag 67683 term 23 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 83688 term 23 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
flag 80711 term 23 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 41685 term 23 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142}]
------------------------------------------------------
client write log 5207113475429313905 (index 143) to leader 2
flag 57902 term 23 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 60049 term 23 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142} {5207113475429313905 23 143}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142} {5207113475429313905 23 143}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14373 term 23 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 23 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 25781 term 23 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 23 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142} {5207113475429313905 23 143}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142} {5207113475429313905 23 143}]
------------------------------------------------------
flag 91680 term 23 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 23 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 99946 term 23 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 23 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142} {5207113475429313905 23 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142} {5207113475429313905 23 143}]
------------------------------------------------------
flag 48605 term 23 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 23 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 4986 term 23 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 23 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142} {5207113475429313905 23 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142} {5207113475429313905 23 143}]
------------------------------------------------------
flag 43669 term 23 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 23 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 95250 term 23 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 23 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142} {5207113475429313905 23 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142} {5207113475429313905 23 143}]
------------------------------------------------------
flag 76998 term 23 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 23 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 11172 term 23 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 23 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142} {5207113475429313905 23 143}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142} {5207113475429313905 23 143}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47366 term 23 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 23 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 34957 term 23 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 23 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142} {5207113475429313905 23 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142} {5207113475429313905 23 143}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6883461092247133297 (index 144) to leader 2
flag 13680 term 23 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 23 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 66694 term 23 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 23 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142} {5207113475429313905 23 143} {6883461092247133297 23 144}]
------------------------------------------------------
flag 917 term 23 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 23 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 30299 term 23 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 23 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142} {5207113475429313905 23 143} {6883461092247133297 23 144}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 8600431447863544283 (index 145) to leader 2
client write log 8161058904105902347 (index 146) to leader 2
client write log 7012842350249663977 (index 147) to leader 2
client write log 91329265343987459 (index 148) to leader 2
client write log 829004157595105122 (index 149) to leader 2
client write log 8148509110233148937 (index 150) to leader 2
client write log 1245801963875553483 (index 151) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88020 term 23 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 23 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 32488 term 23 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 23 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 21 139} {3232865609119951602 21 140} {5619075607574803557 21 141} {5207113475429313905 21 142} {5207113475429313905 23 143} {6883461092247133297 23 144} {8600431447863544283 23 145} {8161058904105902347 23 146} {7012842350249663977 23 147} {91329265343987459 23 148} {829004157595105122 23 149} {8148509110233148937 23 150} {1245801963875553483 23 151}]
------------------------------------------------------
term 23 Server2 start snapshot! index=149
term 23 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=151
-------------------------------------------------------------
term 23 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 23
------------------------------------------------------
flag 48608 term 23 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 151 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 23 149} {8148509110233148937 23 150} {1245801963875553483 23 151}]
------------------------------------------------------
term 23 Server1 start snapshot! index=149
term 23 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=151
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8637399307173299014 (index 152) to leader 2
term 23 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 23
------------------------------------------------------
flag 87053 term 23 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 151 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 24 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8148509110233148937 23 150} {1245801963875553483 23 151} {8637399307173299014 23 152}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 server 1 vote for server 2
term 25 server 0 vote for server 2
term 25 server 2 get vote from server 1
term 25 server 2 become leader
------------------------------------------------------
term 25 server 2 get outdate rpc reply from server 0
flag 7064 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 45157 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 153->152
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8148509110233148937 23 150} {1245801963875553483 23 151} {8637399307173299014 23 152}]
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 leader 2 nextIndex[0]: 144  matchIndex[0]: 0
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 23
------------------------------------------------------
flag 47993 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
term 25 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8148509110233148937 23 150} {1245801963875553483 23 151} {8637399307173299014 23 152}]
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 23 rf.commitIndex 149 rf.lastApplied 149
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78745 term 25 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 25 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 91107 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8148509110233148937 23 150} {1245801963875553483 23 151} {8637399307173299014 23 152}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8148509110233148937 23 150} {1245801963875553483 23 151} {8637399307173299014 23 152}]
------------------------------------------------------
flag 65472 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 44514 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8148509110233148937 23 150} {1245801963875553483 23 151} {8637399307173299014 23 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8148509110233148937 23 150} {1245801963875553483 23 151} {8637399307173299014 23 152}]
------------------------------------------------------
flag 98782 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 93948 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8148509110233148937 23 150} {1245801963875553483 23 151} {8637399307173299014 23 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8148509110233148937 23 150} {1245801963875553483 23 151} {8637399307173299014 23 152}]
------------------------------------------------------
flag 52962 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 1668 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8148509110233148937 23 150} {1245801963875553483 23 151} {8637399307173299014 23 152}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8148509110233148937 23 150} {1245801963875553483 23 151} {8637399307173299014 23 152}]
------------------------------------------------------
flag 30178 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 35655 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8148509110233148937 23 150} {1245801963875553483 23 151} {8637399307173299014 23 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8148509110233148937 23 150} {1245801963875553483 23 151} {8637399307173299014 23 152}]
------------------------------------------------------
flag 62953 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 97465 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8148509110233148937 23 150} {1245801963875553483 23 151} {8637399307173299014 23 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8148509110233148937 23 150} {1245801963875553483 23 151} {8637399307173299014 23 152}]
------------------------------------------------------
flag 94631 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 2208 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8148509110233148937 23 150} {1245801963875553483 23 151} {8637399307173299014 23 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8148509110233148937 23 150} {1245801963875553483 23 151} {8637399307173299014 23 152}]
------------------------------------------------------
!!!!!!diconnect server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44403 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 25343 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 66791 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 14127 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 95939 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 75198 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 26 server 1 vote for server 0
term 26 server 0 get vote from server 1
term 26 server 0 become leader
------------------------------------------------------
flag 47215 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 86657 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8148509110233148937 23 150} {1245801963875553483 23 151} {8637399307173299014 23 152}]
------------------------------------------------------
client write log 267851199805805706 (index 153) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9508 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 56245 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 81291 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 99042 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 23 149} {8148509110233148937 23 150} {1245801963875553483 23 151} {8637399307173299014 23 152} {267851199805805706 26 153}]
------------------------------------------------------
flag 6436 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 4381 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 26 server 1 not vote for server 0, 任期不够新
term 26 server 0 get outdate rpc reply from server 1
flag 25343 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 41710 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 23 149} {8148509110233148937 23 150} {1245801963875553483 23 151} {8637399307173299014 23 152} {267851199805805706 26 153}]
------------------------------------------------------
client write log 764048472224884259 (index 154) to leader 0
client write log 1615060064916608224 (index 155) to leader 0
client write log 4206378708205821231 (index 156) to leader 0
client write log 701752091366802852 (index 157) to leader 0
client write log 614380438446671404 (index 158) to leader 0
client write log 7460358384571013170 (index 159) to leader 0
flag 74606 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 38594 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66752 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 43487 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 23 149} {8148509110233148937 23 150} {1245801963875553483 23 151} {8637399307173299014 23 152} {267851199805805706 26 153} {764048472224884259 26 154} {1615060064916608224 26 155} {4206378708205821231 26 156} {701752091366802852 26 157} {614380438446671404 26 158} {7460358384571013170 26 159}]
------------------------------------------------------
term 26 Server0 start snapshot! index=159
term 26 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
flag 4966 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 58333 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32510 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 0
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
term 26 Server1 start snapshot! index=159
term 26 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7312059816053355650 (index 153) to leader 2
flag 22891 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 84270 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 26 server 1 AppendEntries false 领导者任期过期 args.Term 25
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 26 server 0 AppendEntries false 领导者任期过期 args.Term 25
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 153->152
------------------------------------------------------
flag 2914 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 26 rf.commitIndex 159 rf.lastApplied 159
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
flag 81419 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 67517 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 not vote for server 0, 任期不够新
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 server 0 get outdate rpc reply from server 2
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28277 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 33681 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
flag 46863 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 91956 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95524 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 85278 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 160->159
------------------------------------------------------
flag 49720 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 0  matchIndex[2]: 159
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 2 InstallSnapshot fail
rf.commitIndex 159 args.LastIncludedIndex 159
------------------------------------------------------
term 26 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
flag 30633 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 84588 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
term 26 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
flag 64463 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 29502 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
flag 90004 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 20188 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3218 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 83931 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
flag 64552 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 4032 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
flag 24774 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 35714 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
flag 25419 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 86394 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38579 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 70198 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 160->159
------------------------------------------------------
flag 88302 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 0  matchIndex[2]: 159
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
term 26 server 2 InstallSnapshot fail
rf.commitIndex 159 args.LastIncludedIndex 159
------------------------------------------------------
term 26 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72598 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 39606 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
[{snapshot 26 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
flag 73570 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 80024 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
flag 50136 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 72124 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
flag 89334 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 67781 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
client write log 7312059816053355650 (index 160) to leader 0
flag 38735 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 55972 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {7312059816053355650 26 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {7312059816053355650 26 160}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68417 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 57314 term 26 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {7312059816053355650 26 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {7312059816053355650 26 160}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53563 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 34447 term 26 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {7312059816053355650 26 160}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {7312059816053355650 26 160}]
------------------------------------------------------
flag 83669 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 46177 term 26 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {7312059816053355650 26 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {7312059816053355650 26 160}]
------------------------------------------------------
flag 90514 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 97105 term 26 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {7312059816053355650 26 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {7312059816053355650 26 160}]
------------------------------------------------------
flag 97351 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 51144 term 26 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {7312059816053355650 26 160}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {7312059816053355650 26 160}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 161->160
------------------------------------------------------
flag 4389 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 0  matchIndex[2]: 160
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 2 InstallSnapshot fail
rf.commitIndex 160 args.LastIncludedIndex 159
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
term 26 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {7312059816053355650 26 160}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7745408305710183782 (index 161) to leader 0
flag 30783 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 74066 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10802 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 73659 term 26 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 26 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161}]
------------------------------------------------------
client write log 8801664138033117081 (index 162) to leader 0
client write log 8331454051734678669 (index 163) to leader 0
client write log 3465941440105283548 (index 164) to leader 0
client write log 4548337494264780916 (index 165) to leader 0
client write log 7771425793209832366 (index 166) to leader 0
client write log 810862121724593833 (index 167) to leader 0
client write log 5218153726032011644 (index 168) to leader 0
flag 93127 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 66763 term 26 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 26 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168}]
------------------------------------------------------
flag 14985 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 3861 term 26 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168}]
------------------------------------------------------
!!!!!!connect server 1
client write log 7532776461775048502 (index 169) to leader 0
flag 38565 term 26 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 44648 term 26 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 27 server 1 AppendEntries false 领导者任期过期 args.Term 26
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 server 2 not vote for server 1, 日志不够新
term 27 server 0 not vote for server 1, 日志不够新
term 29 server 1 vote for server 2
term 29 server 2 get vote from server 1
term 29 server 2 become leader
------------------------------------------------------
term 29 server 0 vote for server 2
term 29 server 2 get outdate rpc reply from server 0
flag 24459 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 27760 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
term 29 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 170->169
------------------------------------------------------
flag 10602 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 1381 term 29 leader 2 nextIndex[1]: 161  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
flag 28472 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 766 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
flag 96845 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 11261 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26003 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 52257 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
flag 43369 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 21743 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
flag 45123 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 44297 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
term 29 server 2 not vote for server 1, 任期不够新
term 29 server 1 get outdate rpc reply from server 2
flag 39433 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 26019 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14825 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 49935 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
flag 71674 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 82778 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
flag 37311 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 31455 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71968 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 55284 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
flag 65161 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 42282 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 server 2 not vote for server 0, 任期不够新
term 29 server 0 get outdate rpc reply from server 2
flag 5315 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 27503 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
flag 33627 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 73057 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95337 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 11772 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
client write log 7532776461775048502 (index 170) to leader 2
term 29 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169} {7532776461775048502 29 170}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169} {7532776461775048502 29 170}]
------------------------------------------------------
flag 17893 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 30455 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169} {7532776461775048502 29 170}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 26 159} {7312059816053355650 26 160} {7745408305710183782 26 161} {8801664138033117081 26 162} {8331454051734678669 26 163} {3465941440105283548 26 164} {4548337494264780916 26 165} {7771425793209832366 26 166} {810862121724593833 26 167} {5218153726032011644 26 168} {7532776461775048502 26 169} {7532776461775048502 29 170}]
------------------------------------------------------
term 29 Server2 start snapshot! index=169
term 29 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=170
-------------------------------------------------------------
flag 16158 term 29 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 29 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
flag 28615 term 29 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 29 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {7532776461775048502 29 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {7532776461775048502 29 170}]
------------------------------------------------------
term 29 Server1 start snapshot! index=169
term 29 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=170
-------------------------------------------------------------
term 29 Server0 start snapshot! index=169
term 29 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=170
-------------------------------------------------------------
flag 65376 term 29 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 29 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
flag 57248 term 29 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 29 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {7532776461775048502 29 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {7532776461775048502 29 170}]
------------------------------------------------------
flag 89390 term 29 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 29 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
flag 95252 term 29 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 29 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {7532776461775048502 29 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {7532776461775048502 29 170}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37395 term 29 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 29 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
flag 35118 term 29 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 29 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {7532776461775048502 29 170}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {7532776461775048502 29 170}]
------------------------------------------------------
flag 60572 term 29 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 29 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
flag 54449 term 29 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 29 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {7532776461775048502 29 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {7532776461775048502 29 170}]
------------------------------------------------------
flag 86419 term 29 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 29 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
flag 24639 term 29 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 29 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {7532776461775048502 29 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {7532776461775048502 29 170}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3124773964621950934 (index 171) to leader 2
flag 47056 term 29 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 29 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
flag 66458 term 29 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 29 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {7532776461775048502 29 170} {3124773964621950934 29 171}]
------------------------------------------------------
flag 27184 term 29 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 29 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 171 
------------------------------------------------------
flag 92434 term 29 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 29 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 29 leaderCommit: 171 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {7532776461775048502 29 170} {3124773964621950934 29 171}]
------------------------------------------------------
client write log 656899040395196235 (index 172) to leader 2
client write log 3709460694989669734 (index 173) to leader 2
client write log 7424861245833264492 (index 174) to leader 2
client write log 5101595410615318236 (index 175) to leader 2
client write log 1792256963977461474 (index 176) to leader 2
client write log 9086702451101259691 (index 177) to leader 2
client write log 7272287659569760341 (index 178) to leader 2
flag 92545 term 29 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 29 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 171 
------------------------------------------------------
flag 29240 term 29 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 29 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 29 leaderCommit: 171 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {7532776461775048502 29 170} {3124773964621950934 29 171} {656899040395196235 29 172} {3709460694989669734 29 173} {7424861245833264492 29 174} {5101595410615318236 29 175} {1792256963977461474 29 176} {9086702451101259691 29 177} {7272287659569760341 29 178}]
------------------------------------------------------
flag 37258 term 29 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 29 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 178 
------------------------------------------------------
flag 26451 term 29 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 29 leaderCommit: 178 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {7532776461775048502 29 170} {3124773964621950934 29 171} {656899040395196235 29 172} {3709460694989669734 29 173} {7424861245833264492 29 174} {5101595410615318236 29 175} {1792256963977461474 29 176} {9086702451101259691 29 177} {7272287659569760341 29 178}]
------------------------------------------------------
!!!!!!connect server 0
client write log 3018370905917679950 (index 179) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25909 term 29 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 29 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 178 
------------------------------------------------------
flag 36396 term 29 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 29 leaderCommit: 178 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 30 server 0 AppendEntries false 领导者任期过期 args.Term 29
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 26 169} {7532776461775048502 29 170} {3124773964621950934 29 171} {656899040395196235 29 172} {3709460694989669734 29 173} {7424861245833264492 29 174} {5101595410615318236 29 175} {1792256963977461474 29 176} {9086702451101259691 29 177} {7272287659569760341 29 178} {3018370905917679950 29 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 30 Server2 start snapshot! index=179
term 30 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 2 not vote for server 0, 日志不够新
term 29 server 1 not vote for server 0, 日志不够新
term 32 server 1 vote for server 2
term 32 server 0 vote for server 2
term 32 server 2 get vote from server 1
term 32 server 2 become leader
------------------------------------------------------
term 32 server 2 get outdate rpc reply from server 0
flag 44364 term 32 leader 2 nextIndex[0]: 180  matchIndex[0]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 72494 term 32 leader 2 nextIndex[1]: 180  matchIndex[1]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
term 32 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 180->179
------------------------------------------------------
term 32 Server1 start snapshot! index=179
term 32 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 2 nextIndex[0]: 171  matchIndex[0]: 0
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 23878 term 32 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
term 32 server 0 InstallSnapshot success
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 180 matchIndex[0] 179 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 29 rf.commitIndex 179 rf.lastApplied 179
flag 48014 term 32 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 89182 term 32 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
flag 3387 term 32 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 26329 term 32 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
flag 89638 term 32 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 28373 term 32 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
flag 42856 term 32 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 96858 term 32 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
term 32 server 1 not vote for server 0, 任期不够新
term 32 server 0 get outdate rpc reply from server 1
flag 45047 term 32 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 26428 term 32 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 57713 term 32 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 17072 term 32 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 68185 term 32 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 43072 term 32 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 37217 term 32 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 86391 term 32 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 33 server 0 vote for server 1
term 33 server 1 get vote from server 0
term 33 server 1 become leader
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4263 term 33 leader 1 nextIndex[0]: 180  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 68755 term 33 leader 1 nextIndex[2]: 180  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
flag 91816 term 32 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 21430 term 32 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
client write log 2032480663225977392 (index 180) to leader 1
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 180->179
------------------------------------------------------
flag 66914 term 33 leader 1 nextIndex[0]: 180  matchIndex[0]: 179
term 33 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 80031 term 33 leader 1 nextIndex[2]: 180  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 29 179} {2032480663225977392 33 180}]
------------------------------------------------------
term 33 server 0 not vote for server 1, 任期不够新
term 33 server 1 get outdate rpc reply from server 0
term 32 leader 2 nextIndex[0]: 0  matchIndex[0]: 179
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 97023 term 32 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 35903 term 33 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 33 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
flag 8590 term 33 leader 1 nextIndex[2]: 180  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 29 179} {2032480663225977392 33 180}]
------------------------------------------------------
term 32 leader 2 nextIndex[0]: 0  matchIndex[0]: 179
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 75992 term 32 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
client write log 6404696028660568074 (index 181) to leader 1
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 180->179
------------------------------------------------------
flag 92870 term 33 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 33 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
flag 14285 term 33 leader 1 nextIndex[2]: 180  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {2032480663225977392 33 180} {6404696028660568074 33 181}]
------------------------------------------------------
term 32 leader 2 nextIndex[0]: 0  matchIndex[0]: 179
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
term 32 leader 2 nextIndex[1]: 0  matchIndex[1]: 179
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 45229 term 33 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 33 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 33 leaderCommit: 181 
------------------------------------------------------
flag 30373 term 33 leader 1 nextIndex[2]: 180  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {2032480663225977392 33 180} {6404696028660568074 33 181}]
------------------------------------------------------
term 32 leader 2 nextIndex[0]: 0  matchIndex[0]: 179
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
term 32 leader 2 nextIndex[1]: 0  matchIndex[1]: 179
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
!!!!!!connect server 2
client write log 3351682296750525152 (index 182) to leader 1
flag 99027 term 33 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 33 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 33 leaderCommit: 181 
------------------------------------------------------
flag 10385 term 33 leader 1 nextIndex[2]: 180  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {2032480663225977392 33 180} {6404696028660568074 33 181} {3351682296750525152 33 182}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {2032480663225977392 33 180} {6404696028660568074 33 181} {3351682296750525152 33 182}]
------------------------------------------------------
flag 99857 term 33 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 33 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
flag 56602 term 33 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 33 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {2032480663225977392 33 180} {6404696028660568074 33 181} {3351682296750525152 33 182}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {2032480663225977392 33 180} {6404696028660568074 33 181} {3351682296750525152 33 182}]
------------------------------------------------------
flag 60131 term 33 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 33 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
flag 58643 term 33 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 33 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {2032480663225977392 33 180} {6404696028660568074 33 181} {3351682296750525152 33 182}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {2032480663225977392 33 180} {6404696028660568074 33 181} {3351682296750525152 33 182}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49237 term 33 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 33 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
flag 65700 term 33 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 33 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {2032480663225977392 33 180} {6404696028660568074 33 181} {3351682296750525152 33 182}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {2032480663225977392 33 180} {6404696028660568074 33 181} {3351682296750525152 33 182}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 183->182
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31018 term 33 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 33 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 0  matchIndex[2]: 182
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
term 33 server 2 InstallSnapshot fail
rf.commitIndex 182 args.LastIncludedIndex 179
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {2032480663225977392 33 180} {6404696028660568074 33 181} {3351682296750525152 33 182}]
------------------------------------------------------
flag 23528 term 33 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 33 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
flag 96185 term 33 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {2032480663225977392 33 180} {6404696028660568074 33 181} {3351682296750525152 33 182}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {2032480663225977392 33 180} {6404696028660568074 33 181} {3351682296750525152 33 182}]
------------------------------------------------------
flag 82654 term 33 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 33 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
flag 80460 term 33 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 33 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {2032480663225977392 33 180} {6404696028660568074 33 181} {3351682296750525152 33 182}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {2032480663225977392 33 180} {6404696028660568074 33 181} {3351682296750525152 33 182}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4775547906086143228 (index 183) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70503 term 33 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 33 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
flag 31619 term 33 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 33 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {2032480663225977392 33 180} {6404696028660568074 33 181} {3351682296750525152 33 182} {4775547906086143228 33 183}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75644 term 33 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 33 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 33 leaderCommit: 183 
------------------------------------------------------
flag 93740 term 33 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 33 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 183 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {2032480663225977392 33 180} {6404696028660568074 33 181} {3351682296750525152 33 182} {4775547906086143228 33 183}]
------------------------------------------------------
client write log 1134590449904264690 (index 184) to leader 1
client write log 7915545588044191875 (index 185) to leader 1
client write log 3907109000833511474 (index 186) to leader 1
client write log 3516622735516651162 (index 187) to leader 1
client write log 4122524362908957926 (index 188) to leader 1
client write log 1720076733419049918 (index 189) to leader 1
client write log 190563997714213421 (index 190) to leader 1
client write log 3987479885123809455 (index 191) to leader 1
term 33 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44138 term 33 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 33 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 33 leaderCommit: 183 
------------------------------------------------------
flag 28246 term 33 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 33 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 183 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 179} {2032480663225977392 33 180} {6404696028660568074 33 181} {3351682296750525152 33 182} {4775547906086143228 33 183} {1134590449904264690 33 184} {7915545588044191875 33 185} {3907109000833511474 33 186} {3516622735516651162 33 187} {4122524362908957926 33 188} {1720076733419049918 33 189} {190563997714213421 33 190} {3987479885123809455 33 191}]
------------------------------------------------------
term 33 Server1 start snapshot! index=189
term 33 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=191
-------------------------------------------------------------
flag 65497 term 33 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 33 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191}]
------------------------------------------------------
term 33 Server0 start snapshot! index=189
term 33 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=191
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8739248818391163450 (index 192) to leader 1
flag 44138 term 33 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 33 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
term 34 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 server 2 vote for server 1
term 35 server 1 get vote from server 2
term 35 server 1 become leader
------------------------------------------------------
term 35 server 0 vote for server 1
term 35 server 1 get outdate rpc reply from server 0
flag 89119 term 35 leader 1 nextIndex[0]: 193  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
flag 84875 term 35 leader 1 nextIndex[2]: 193  matchIndex[2]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 35 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 193->192
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14001 term 35 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 183  matchIndex[2]: 0
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
term 35 server 2 InstallSnapshot success
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
term 35 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 33 rf.commitIndex 189 rf.lastApplied 189
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46591 term 35 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
flag 45242 term 35 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
term 35 server 2 not vote for server 1, 任期不够新
term 35 server 1 get outdate rpc reply from server 2
flag 17286 term 35 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
flag 18495 term 35 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
flag 20505 term 35 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
flag 42708 term 35 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
flag 52072 term 35 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
flag 87933 term 35 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
flag 97428 term 35 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
flag 33970 term 35 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9160 term 35 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
flag 79841 term 35 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
flag 68531 term 35 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
flag 5709 term 35 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
term 35 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33224 term 35 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
flag 86009 term 35 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
term 35 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44910 term 35 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
flag 52432 term 35 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
flag 14956 term 35 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
flag 71516 term 35 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
flag 54682 term 35 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
flag 8295 term 35 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
flag 97580 term 35 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
flag 91342 term 35 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
term 35 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12080 term 35 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
flag 95038 term 35 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44211 term 35 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
flag 94132 term 35 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71973 term 35 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
flag 17959 term 35 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
flag 18071 term 35 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
flag 51597 term 35 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73848 term 35 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
flag 98344 term 35 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192}]
------------------------------------------------------
client write log 8739248818391163450 (index 193) to leader 1
flag 67031 term 35 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
flag 99544 term 35 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192} {8739248818391163450 35 193}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192} {8739248818391163450 35 193}]
------------------------------------------------------
term 35 server 2 not vote for server 0, 任期不够新
term 35 server 0 get outdate rpc reply from server 2
flag 96142 term 35 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
flag 27330 term 35 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192} {8739248818391163450 35 193}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192} {8739248818391163450 35 193}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62782 term 35 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
flag 95664 term 35 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192} {8739248818391163450 35 193}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192} {8739248818391163450 35 193}]
------------------------------------------------------
flag 80397 term 35 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
flag 30590 term 35 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192} {8739248818391163450 35 193}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192} {8739248818391163450 35 193}]
------------------------------------------------------
flag 4611 term 35 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
flag 26906 term 35 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192} {8739248818391163450 35 193}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192} {8739248818391163450 35 193}]
------------------------------------------------------
flag 45121 term 35 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
flag 46392 term 35 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192} {8739248818391163450 35 193}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192} {8739248818391163450 35 193}]
------------------------------------------------------
flag 6513 term 35 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
flag 83653 term 35 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192} {8739248818391163450 35 193}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192} {8739248818391163450 35 193}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8606803430316251144 (index 194) to leader 1
flag 29181 term 35 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
flag 66205 term 35 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192} {8739248818391163450 35 193} {8606803430316251144 35 194}]
------------------------------------------------------
flag 41585 term 35 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 35 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
flag 57936 term 35 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192} {8739248818391163450 35 193} {8606803430316251144 35 194}]
------------------------------------------------------
client write log 2409710372854555484 (index 195) to leader 1
client write log 5813607420626389600 (index 196) to leader 1
client write log 1178133184956455808 (index 197) to leader 1
client write log 3183658131804966658 (index 198) to leader 1
client write log 5404897619144799474 (index 199) to leader 1
client write log 1079552429730809373 (index 200) to leader 1
client write log 3017959070136936138 (index 201) to leader 1
client write log 1346573908754479963 (index 202) to leader 1
client write log 4106788938207382191 (index 203) to leader 1
client write log 1731434378869039807 (index 204) to leader 1
client write log 809466340984625807 (index 205) to leader 1
client write log 403447160145281027 (index 206) to leader 1
client write log 6108601495473445988 (index 207) to leader 1
client write log 5219812937177265300 (index 208) to leader 1
flag 74126 term 35 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 35 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
flag 53149 term 35 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 33 189} {190563997714213421 33 190} {3987479885123809455 33 191} {8739248818391163450 33 192} {8739248818391163450 35 193} {8606803430316251144 35 194} {2409710372854555484 35 195} {5813607420626389600 35 196} {1178133184956455808 35 197} {3183658131804966658 35 198} {5404897619144799474 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 Server1 start snapshot! index=199
term 35 server1 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=208
-------------------------------------------------------------
flag 47342 term 35 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 35 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208}]
------------------------------------------------------
term 35 Server0 start snapshot! index=199
term 35 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=208
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5937628617845232417 (index 209) to leader 1
flag 52852 term 35 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 35 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
term 36 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
term 35 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 server 2 vote for server 1
term 37 server 1 get vote from server 2
term 37 server 1 become leader
------------------------------------------------------
term 37 server 0 vote for server 1
term 37 server 1 get outdate rpc reply from server 0
flag 1695 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 89996 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 37 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 210->209
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59938 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 194  matchIndex[2]: 0
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
term 37 server 2 InstallSnapshot success
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 35 rf.commitIndex 199 rf.lastApplied 199
flag 73317 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 17164 term 37 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 37 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
flag 42114 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 4705 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
flag 90772 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 92244 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=208
leader log:
term 37 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
flag 87025 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 95794 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
flag 3978 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 69897 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
flag 89081 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 36885 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
flag 95435 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 15887 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=208
leader log:
term 37 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
flag 63353 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 92317 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
term 37 server 0 not vote for server 2, 任期不够新
term 37 server 2 get outdate rpc reply from server 0
flag 10752 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 92650 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=208
leader log:
term 37 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
flag 38863 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 84528 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
flag 15751 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 7137 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
flag 41096 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 41786 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 server 0 not vote for server 2, 任期不够新
term 37 server 2 get outdate rpc reply from server 0
flag 33541 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 76926 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10934 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 47365 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
flag 46859 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 69268 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
flag 67860 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 4319 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
flag 44866 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 57561 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209}]
------------------------------------------------------
client write log 5937628617845232417 (index 210) to leader 1
flag 65724 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 91665 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209} {5937628617845232417 37 210}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 35 199} {1079552429730809373 35 200} {3017959070136936138 35 201} {1346573908754479963 35 202} {4106788938207382191 35 203} {1731434378869039807 35 204} {809466340984625807 35 205} {403447160145281027 35 206} {6108601495473445988 35 207} {5219812937177265300 35 208} {5937628617845232417 35 209} {5937628617845232417 37 210}]
------------------------------------------------------
term 37 Server1 start snapshot! index=209
term 37 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=210
-------------------------------------------------------------
term 37 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65670 term 37 leader 1 nextIndex[0]: 211  matchIndex[0]: 210
term 37 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
flag 61861 term 37 leader 1 nextIndex[2]: 211  matchIndex[2]: 210
term 37 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 35 209} {5937628617845232417 37 210}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
term 37 Server0 start snapshot! index=209
term 37 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=210
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 35 209} {5937628617845232417 37 210}]
------------------------------------------------------
term 37 Server2 start snapshot! index=209
term 37 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=210
-------------------------------------------------------------
term 37 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30252 term 37 leader 1 nextIndex[0]: 211  matchIndex[0]: 210
term 37 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
flag 34769 term 37 leader 1 nextIndex[2]: 211  matchIndex[2]: 210
term 37 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
term 37 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
[{snapshot 35 209} {5937628617845232417 37 210}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 35 209} {5937628617845232417 37 210}]
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18926 term 37 leader 1 nextIndex[0]: 211  matchIndex[0]: 210
term 37 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
flag 59242 term 37 leader 1 nextIndex[2]: 211  matchIndex[2]: 210
term 37 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 35 209} {5937628617845232417 37 210}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 35 209} {5937628617845232417 37 210}]
------------------------------------------------------
flag 49697 term 37 leader 1 nextIndex[0]: 211  matchIndex[0]: 210
term 37 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
flag 69048 term 37 leader 1 nextIndex[2]: 211  matchIndex[2]: 210
term 37 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 35 209} {5937628617845232417 37 210}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 35 209} {5937628617845232417 37 210}]
------------------------------------------------------
flag 6437 term 37 leader 1 nextIndex[0]: 211  matchIndex[0]: 210
term 37 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
flag 80443 term 37 leader 1 nextIndex[2]: 211  matchIndex[2]: 210
term 37 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 35 209} {5937628617845232417 37 210}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 35 209} {5937628617845232417 37 210}]
------------------------------------------------------
flag 88401 term 37 leader 1 nextIndex[0]: 211  matchIndex[0]: 210
term 37 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
flag 38893 term 37 leader 1 nextIndex[2]: 211  matchIndex[2]: 210
term 37 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 35 209} {5937628617845232417 37 210}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 35 209} {5937628617845232417 37 210}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 50767 term 37 leader 1 nextIndex[0]: 211  matchIndex[0]: 210
term 37 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
flag 61074 term 37 leader 1 nextIndex[2]: 211  matchIndex[2]: 210
term 37 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
flag 35935 term 37 leader 1 nextIndex[0]: 211  matchIndex[0]: 210
term 37 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
flag 44023 term 37 leader 1 nextIndex[2]: 211  matchIndex[2]: 210
term 37 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
flag 75095 term 37 leader 1 nextIndex[0]: 211  matchIndex[0]: 210
term 37 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
flag 13194 term 37 leader 1 nextIndex[2]: 211  matchIndex[2]: 210
term 37 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10142 term 37 leader 1 nextIndex[0]: 211  matchIndex[0]: 210
term 37 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
flag 18135 term 37 leader 1 nextIndex[2]: 211  matchIndex[2]: 210
term 37 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
term 38 server 2 vote for server 0
term 38 server 0 get vote from server 2
term 38 server 0 become leader
------------------------------------------------------
client write log 4402943728944873198 (index 211) to leader 0
flag 85018 term 38 leader 0 nextIndex[1]: 211  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
flag 818 term 38 leader 0 nextIndex[2]: 211  matchIndex[2]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211}]
------------------------------------------------------
flag 90039 term 37 leader 1 nextIndex[0]: 211  matchIndex[0]: 210
term 37 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
flag 47118 term 37 leader 1 nextIndex[2]: 211  matchIndex[2]: 210
term 37 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
flag 31052 term 38 leader 0 nextIndex[1]: 211  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 211 
------------------------------------------------------
flag 29760 term 38 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211}]
------------------------------------------------------
client write log 6822693518024119328 (index 212) to leader 0
flag 88906 term 37 leader 1 nextIndex[0]: 211  matchIndex[0]: 210
term 37 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
flag 89844 term 37 leader 1 nextIndex[2]: 211  matchIndex[2]: 210
term 37 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 211->210
------------------------------------------------------
flag 5117 term 38 leader 0 nextIndex[1]: 211  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 211 
------------------------------------------------------
flag 15088 term 38 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
flag 36 term 37 leader 1 nextIndex[0]: 211  matchIndex[0]: 210
term 37 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 0  matchIndex[2]: 210
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
flag 72647 term 38 leader 0 nextIndex[1]: 211  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 212 
------------------------------------------------------
flag 86537 term 38 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
!!!!!!connect server 1
client write log 3102162750966907547 (index 211) to leader 1
flag 30974 term 37 leader 1 nextIndex[0]: 211  matchIndex[0]: 210
term 37 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 0  matchIndex[2]: 210
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
term 38 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 38 server 0 AppendEntries false 领导者任期过期 args.Term 37
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15189 term 38 leader 0 nextIndex[1]: 211  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 37 leaderCommit: 212 
------------------------------------------------------
flag 35311 term 38 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
term 38 server 1 not vote for server 2, 任期不够新
term 38 server 2 get outdate rpc reply from server 1
flag 85423 term 38 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 82874 term 38 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
flag 72646 term 38 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 24662 term 38 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 213->212
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 0  matchIndex[1]: 212
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
flag 26433 term 38 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 38 server 1 InstallSnapshot fail
rf.commitIndex 212 args.LastIncludedIndex 209
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
flag 96001 term 38 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
flag 30762 term 38 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
flag 17650 term 38 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 96984 term 38 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12805 term 38 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 10230 term 38 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
term 38 server 1 not vote for server 2, 任期不够新
term 38 server 2 get outdate rpc reply from server 1
flag 28267 term 38 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 61565 term 38 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
flag 63164 term 38 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 92641 term 38 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
flag 50082 term 38 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 98101 term 38 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
flag 41592 term 38 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 91555 term 38 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
flag 23441 term 38 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 61583 term 38 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
flag 37078 term 38 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 2677 term 38 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
flag 71112 term 38 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 70521 term 38 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
flag 54237 term 38 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 25552 term 38 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54369 term 38 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 19118 term 38 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
flag 45436 term 38 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 33500 term 38 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
flag 84198 term 38 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 58431 term 38 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18649 term 38 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 182 term 38 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
flag 4302 term 38 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 19858 term 38 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212}]
------------------------------------------------------
client write log 3102162750966907547 (index 213) to leader 0
flag 63748 term 38 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 80506 term 38 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212} {3102162750966907547 38 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212} {3102162750966907547 38 213}]
------------------------------------------------------
flag 96433 term 38 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 38 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 43701 term 38 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 38 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212} {3102162750966907547 38 213}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212} {3102162750966907547 38 213}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75308 term 38 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 38 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 89511 term 38 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 38 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212} {3102162750966907547 38 213}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212} {3102162750966907547 38 213}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49444 term 38 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 38 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 57495 term 38 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 38 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212} {3102162750966907547 38 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212} {3102162750966907547 38 213}]
------------------------------------------------------
flag 91207 term 38 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 38 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 61898 term 38 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 38 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212} {3102162750966907547 38 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212} {3102162750966907547 38 213}]
------------------------------------------------------
flag 38091 term 38 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 38 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 94909 term 38 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 38 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212} {3102162750966907547 38 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212} {3102162750966907547 38 213}]
------------------------------------------------------
flag 37192 term 38 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 38 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 57090 term 38 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 38 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212} {3102162750966907547 38 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212} {3102162750966907547 38 213}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6109936961147434933 (index 214) to leader 0
flag 62272 term 38 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 38 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 47236 term 38 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 38 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212} {3102162750966907547 38 213} {6109936961147434933 38 214}]
------------------------------------------------------
flag 47263 term 38 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 38 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 33129 term 38 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 38 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212} {3102162750966907547 38 213} {6109936961147434933 38 214}]
------------------------------------------------------
client write log 3125791417688086658 (index 215) to leader 0
client write log 51182500052304485 (index 216) to leader 0
client write log 1613730671443542262 (index 217) to leader 0
client write log 6761631977874075005 (index 218) to leader 0
client write log 5121305832955585475 (index 219) to leader 0
client write log 1980786534436702454 (index 220) to leader 0
client write log 8671757721223555309 (index 221) to leader 0
client write log 2221165314209269910 (index 222) to leader 0
client write log 1614457716257987506 (index 223) to leader 0
client write log 3596669470602767445 (index 224) to leader 0
client write log 8693806603808374979 (index 225) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83563 term 38 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 38 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 72364 term 38 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 38 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 35 209} {5937628617845232417 37 210} {4402943728944873198 38 211} {6822693518024119328 38 212} {3102162750966907547 38 213} {6109936961147434933 38 214} {3125791417688086658 38 215} {51182500052304485 38 216} {1613730671443542262 38 217} {6761631977874075005 38 218} {5121305832955585475 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225}]
------------------------------------------------------
term 38 Server0 start snapshot! index=219
term 38 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=225
-------------------------------------------------------------
term 38 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 38
------------------------------------------------------
flag 56584 term 38 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 38 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225}]
------------------------------------------------------
term 38 Server2 start snapshot! index=219
term 38 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=225
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7102022743995664771 (index 226) to leader 0
term 38 server 2 not vote for server 1, 日志不够新
term 38 server 0 not vote for server 1, 日志不够新
term 40 server 2 vote for server 0
term 40 server 0 get vote from server 2
term 40 server 0 become leader
------------------------------------------------------
term 40 server 1 vote for server 0
term 40 server 0 get outdate rpc reply from server 1
flag 10093 term 40 leader 0 nextIndex[1]: 227  matchIndex[1]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 4218 term 40 leader 0 nextIndex[2]: 227  matchIndex[2]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 40 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 227->226
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 227->226
------------------------------------------------------
term 40 leader 0 nextIndex[1]: 214  matchIndex[1]: 0
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 38
------------------------------------------------------
flag 86615 term 40 leader 0 nextIndex[2]: 226  matchIndex[2]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 InstallSnapshot success
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 38 rf.commitIndex 219 rf.lastApplied 219
term 40 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 server 1 not vote for server 0, 任期不够新
term 40 server 0 get outdate rpc reply from server 1
flag 69994 term 40 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 40 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 82453 term 40 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55117 term 40 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 81496 term 40 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
flag 79093 term 40 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 51938 term 40 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
flag 4933 term 40 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 52381 term 40 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
flag 67426 term 40 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 37073 term 40 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:225 
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
flag 78266 term 40 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 59231 term 40 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7793 term 40 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 12897 term 40 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
flag 73288 term 40 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 50040 term 40 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
flag 41925 term 40 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 21391 term 40 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:225 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
flag 13052 term 40 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 16985 term 40 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
flag 2941 term 40 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 94409 term 40 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
flag 84922 term 40 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 7177 term 40 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
flag 86331 term 40 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 40333 term 40 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:225 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
flag 67472 term 40 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 77766 term 40 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
flag 10770 term 40 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 9903 term 40 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68152 term 40 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 35494 term 40 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
flag 11006 term 40 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 93357 term 40 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
flag 54194 term 40 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 60729 term 40 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226}]
------------------------------------------------------
client write log 7102022743995664771 (index 227) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77396 term 40 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 11186 term 40 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 40 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226} {7102022743995664771 40 227}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226} {7102022743995664771 40 227}]
------------------------------------------------------
flag 45235 term 40 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 40 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 2748 term 40 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 40 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226} {7102022743995664771 40 227}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226} {7102022743995664771 40 227}]
------------------------------------------------------
flag 62630 term 40 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 40 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 35993 term 40 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 40 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226} {7102022743995664771 40 227}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226} {7102022743995664771 40 227}]
------------------------------------------------------
flag 46052 term 40 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 40 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 40664 term 40 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 40 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226} {7102022743995664771 40 227}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226} {7102022743995664771 40 227}]
------------------------------------------------------
flag 30247 term 40 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 40 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 47544 term 40 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 40 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226} {7102022743995664771 40 227}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226} {7102022743995664771 40 227}]
------------------------------------------------------
flag 41070 term 40 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 40 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 20804 term 40 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 40 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226} {7102022743995664771 40 227}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226} {7102022743995664771 40 227}]
------------------------------------------------------
flag 41437 term 40 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 40 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 22858 term 40 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 40 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226} {7102022743995664771 40 227}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226} {7102022743995664771 40 227}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1888212802093658274 (index 228) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2311 term 40 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 40 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 10001 term 40 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 40 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226} {7102022743995664771 40 227} {1888212802093658274 40 228}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11550 term 40 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 40 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 17827 term 40 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 40 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226} {7102022743995664771 40 227} {1888212802093658274 40 228}]
------------------------------------------------------
client write log 8412141110242851175 (index 229) to leader 0
client write log 5164378243851841096 (index 230) to leader 0
client write log 2044680582608199228 (index 231) to leader 0
client write log 2950639394244039639 (index 232) to leader 0
client write log 3137209969918479503 (index 233) to leader 0
client write log 2590958339867544336 (index 234) to leader 0
client write log 3363916637441761785 (index 235) to leader 0
client write log 4478896325715924741 (index 236) to leader 0
client write log 7977111064242107398 (index 237) to leader 0
client write log 2574052449749290741 (index 238) to leader 0
client write log 5311309930791644348 (index 239) to leader 0
client write log 8886950459652850210 (index 240) to leader 0
client write log 1265651411106981627 (index 241) to leader 0
flag 99724 term 40 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 40 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 10169 term 40 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 40 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 38 219} {1980786534436702454 38 220} {8671757721223555309 38 221} {2221165314209269910 38 222} {1614457716257987506 38 223} {3596669470602767445 38 224} {8693806603808374979 38 225} {7102022743995664771 38 226} {7102022743995664771 40 227} {1888212802093658274 40 228} {8412141110242851175 40 229} {5164378243851841096 40 230} {2044680582608199228 40 231} {2950639394244039639 40 232} {3137209969918479503 40 233} {2590958339867544336 40 234} {3363916637441761785 40 235} {4478896325715924741 40 236} {7977111064242107398 40 237} {2574052449749290741 40 238} {5311309930791644348 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241}]
------------------------------------------------------
term 40 Server0 start snapshot! index=229
term 40 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=241
-------------------------------------------------------------
term 40 Server0 start snapshot! index=239
term 40 server0 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=241
-------------------------------------------------------------
term 40 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
flag 66106 term 40 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 40 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 241 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241}]
------------------------------------------------------
term 40 Server2 start snapshot! index=229
term 40 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=241
-------------------------------------------------------------
term 40 Server2 start snapshot! index=239
term 40 server2 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=241
-------------------------------------------------------------
!!!!!!connect server 1
client write log 986372833712778135 (index 242) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
flag 83701 term 40 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 40 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 241 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
term 41 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242}]
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 2 vote for server 0
term 42 server 1 vote for server 0
term 42 server 0 get vote from server 2
term 42 server 0 become leader
------------------------------------------------------
term 42 server 0 get outdate rpc reply from server 1
flag 55210 term 42 leader 0 nextIndex[1]: 243  matchIndex[1]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 40139 term 42 leader 0 nextIndex[2]: 243  matchIndex[2]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 243->242
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 0 nextIndex[1]: 228  matchIndex[1]: 0
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
flag 88746 term 42 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 42 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242}]
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 40 rf.commitIndex 239 rf.lastApplied 239
term 42 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88313 term 42 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 42 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 99679 term 42 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242}]
------------------------------------------------------
flag 24423 term 42 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 3272 term 42 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242}]
------------------------------------------------------
flag 9289 term 42 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 51093 term 42 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41537 term 42 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 17234 term 42 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242}]
------------------------------------------------------
flag 40545 term 42 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 49445 term 42 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242}]
------------------------------------------------------
flag 91703 term 42 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 96308 term 42 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242}]
------------------------------------------------------
flag 81526 term 42 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 35032 term 42 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 30238 term 42 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 55764 term 42 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 12274 term 42 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 78586 term 42 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 93209 term 42 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 41169 term 42 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97632 term 42 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 16675 term 42 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 43 server 1 vote for server 2
term 43 server 2 get vote from server 1
term 43 server 2 become leader
------------------------------------------------------
flag 16585 term 43 leader 2 nextIndex[0]: 243  matchIndex[0]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 94720 term 43 leader 2 nextIndex[1]: 243  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242}]
------------------------------------------------------
client write log 7459650331946057462 (index 243) to leader 2
flag 64206 term 42 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 44552 term 42 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 71975 term 43 leader 2 nextIndex[0]: 243  matchIndex[0]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 22939 term 43 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 43 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242} {7459650331946057462 43 243}]
------------------------------------------------------
flag 53042 term 42 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 98338 term 42 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 35481 term 43 leader 2 nextIndex[0]: 243  matchIndex[0]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 243 
------------------------------------------------------
flag 95018 term 43 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242} {7459650331946057462 43 243}]
------------------------------------------------------
client write log 4443304801280723391 (index 244) to leader 2
flag 67277 term 42 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 96321 term 42 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 25263 term 43 leader 2 nextIndex[0]: 243  matchIndex[0]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 243 
------------------------------------------------------
flag 85109 term 43 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242} {7459650331946057462 43 243} {4443304801280723391 43 244}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 2 not vote for server 1, 任期不够新
term 43 server 1 get outdate rpc reply from server 2
flag 91294 term 42 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 40473 term 42 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 12630 term 43 leader 2 nextIndex[0]: 243  matchIndex[0]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 244 
------------------------------------------------------
flag 58415 term 43 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242} {7459650331946057462 43 243} {4443304801280723391 43 244}]
------------------------------------------------------
!!!!!!connect server 0
client write log 5796973413083747263 (index 245) to leader 2
flag 10588 term 42 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 95912 term 42 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 42 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 43 server 1 AppendEntries false 领导者任期过期 args.Term 42
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 43 server 2 AppendEntries false 领导者任期过期 args.Term 42
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17755 term 43 leader 2 nextIndex[0]: 243  matchIndex[0]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 244 
------------------------------------------------------
flag 20162 term 43 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242} {7459650331946057462 43 243} {4443304801280723391 43 244} {5796973413083747263 43 245}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242} {7459650331946057462 43 243} {4443304801280723391 43 244} {5796973413083747263 43 245}]
------------------------------------------------------
flag 51558 term 43 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 43 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 43 leaderCommit: 245 
------------------------------------------------------
flag 75965 term 43 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 43 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 43 leaderCommit: 245 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242} {7459650331946057462 43 243} {4443304801280723391 43 244} {5796973413083747263 43 245}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242} {7459650331946057462 43 243} {4443304801280723391 43 244} {5796973413083747263 43 245}]
------------------------------------------------------
flag 76628 term 43 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 43 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 43 leaderCommit: 245 
------------------------------------------------------
flag 40350 term 43 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 43 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 43 leaderCommit: 245 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242} {7459650331946057462 43 243} {4443304801280723391 43 244} {5796973413083747263 43 245}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242} {7459650331946057462 43 243} {4443304801280723391 43 244} {5796973413083747263 43 245}]
------------------------------------------------------
flag 11344 term 43 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 43 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 43 leaderCommit: 245 
------------------------------------------------------
flag 78878 term 43 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 43 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 43 leaderCommit: 245 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242} {7459650331946057462 43 243} {4443304801280723391 43 244} {5796973413083747263 43 245}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242} {7459650331946057462 43 243} {4443304801280723391 43 244} {5796973413083747263 43 245}]
------------------------------------------------------
flag 34558 term 43 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 43 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 43 leaderCommit: 245 
------------------------------------------------------
flag 96216 term 43 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 43 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 43 leaderCommit: 245 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:245 
term 43 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242} {7459650331946057462 43 243} {4443304801280723391 43 244} {5796973413083747263 43 245}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242} {7459650331946057462 43 243} {4443304801280723391 43 244} {5796973413083747263 43 245}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63645 term 43 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 43 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 43 leaderCommit: 245 
------------------------------------------------------
flag 31745 term 43 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 43 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 43 leaderCommit: 245 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242} {7459650331946057462 43 243} {4443304801280723391 43 244} {5796973413083747263 43 245}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242} {7459650331946057462 43 243} {4443304801280723391 43 244} {5796973413083747263 43 245}]
------------------------------------------------------
flag 80035 term 43 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 43 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 43 leaderCommit: 245 
------------------------------------------------------
flag 31638 term 43 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 43 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 43 leaderCommit: 245 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242} {7459650331946057462 43 243} {4443304801280723391 43 244} {5796973413083747263 43 245}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242} {7459650331946057462 43 243} {4443304801280723391 43 244} {5796973413083747263 43 245}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7762606093773111844 (index 246) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16257 term 43 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 43 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 43 leaderCommit: 245 
------------------------------------------------------
flag 23166 term 43 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 43 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 43 leaderCommit: 245 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242} {7459650331946057462 43 243} {4443304801280723391 43 244} {5796973413083747263 43 245} {7762606093773111844 43 246}]
------------------------------------------------------
flag 9372 term 43 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 43 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 95138 term 43 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 43 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242} {7459650331946057462 43 243} {4443304801280723391 43 244} {5796973413083747263 43 245} {7762606093773111844 43 246}]
------------------------------------------------------
client write log 3428302835105785912 (index 247) to leader 2
client write log 5884697506396716644 (index 248) to leader 2
client write log 8115215579721085635 (index 249) to leader 2
client write log 8464677709793352150 (index 250) to leader 2
client write log 1075350010005260866 (index 251) to leader 2
client write log 8188965159523816112 (index 252) to leader 2
client write log 14400671461787195 (index 253) to leader 2
client write log 7046207242086253733 (index 254) to leader 2
client write log 1927009000955497248 (index 255) to leader 2
client write log 1762721170573586348 (index 256) to leader 2
client write log 3327996763143749020 (index 257) to leader 2
client write log 7062470715501773328 (index 258) to leader 2
client write log 5284426025830226217 (index 259) to leader 2
client write log 8604628208579388263 (index 260) to leader 2
client write log 536616005010501222 (index 261) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 246->245
------------------------------------------------------
term 43 leader 2 nextIndex[0]: 0  matchIndex[0]: 245
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
flag 35328 term 43 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 43 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 40 239} {8886950459652850210 40 240} {1265651411106981627 40 241} {986372833712778135 40 242} {7459650331946057462 43 243} {4443304801280723391 43 244} {5796973413083747263 43 245} {7762606093773111844 43 246} {3428302835105785912 43 247} {5884697506396716644 43 248} {8115215579721085635 43 249} {8464677709793352150 43 250} {1075350010005260866 43 251} {8188965159523816112 43 252} {14400671461787195 43 253} {7046207242086253733 43 254} {1927009000955497248 43 255} {1762721170573586348 43 256} {3327996763143749020 43 257} {7062470715501773328 43 258} {5284426025830226217 43 259} {8604628208579388263 43 260} {536616005010501222 43 261}]
------------------------------------------------------
term 43 Server2 start snapshot! index=249
term 43 server2 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=261
-------------------------------------------------------------
term 43 Server2 start snapshot! index=259
term 43 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=261
-------------------------------------------------------------
term 43 leader 2 nextIndex[0]: 0  matchIndex[0]: 245
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 43
------------------------------------------------------
flag 24550 term 43 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 43 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261}]
------------------------------------------------------
term 43 Server1 start snapshot! index=249
term 43 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=261
-------------------------------------------------------------
term 43 Server1 start snapshot! index=259
term 43 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=261
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2852756567869710283 (index 262) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 2 nextIndex[0]: 0  matchIndex[0]: 245
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 43
------------------------------------------------------
flag 11061 term 43 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 43 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 44 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 1 vote for server 2
term 45 server 0 vote for server 2
term 45 server 2 get vote from server 1
term 45 server 2 become leader
------------------------------------------------------
term 45 server 2 get outdate rpc reply from server 0
flag 9612 term 45 leader 2 nextIndex[0]: 263  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
flag 56662 term 45 leader 2 nextIndex[1]: 263  matchIndex[1]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 45 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 263->262
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
term 45 leader 2 nextIndex[0]: 246  matchIndex[0]: 0
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 43
------------------------------------------------------
flag 88184 term 45 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
term 45 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
Server0 get CondInstallSnapshot!
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 260 matchIndex[0] 259 
------------------------------------------------------------------------
rf.lastIncludedIndex 259 rf.lastIncludedTerm 43 rf.commitIndex 259 rf.lastApplied 259
flag 45870 term 45 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 45 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
flag 10554 term 45 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76504 term 45 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
flag 44312 term 45 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
flag 78294 term 45 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
flag 66847 term 45 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29395 term 45 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
flag 21690 term 45 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
flag 46201 term 45 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
flag 98847 term 45 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29186 term 45 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
flag 20462 term 45 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 45 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
update nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
flag 25751 term 45 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
flag 99592 term 45 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75262 term 45 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
flag 26937 term 45 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
flag 49765 term 45 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
flag 43845 term 45 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
flag 8310 term 45 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
flag 12523 term 45 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
flag 13255 term 45 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
flag 73338 term 45 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
flag 11519 term 45 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
flag 77107 term 45 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24886 term 45 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
flag 25283 term 45 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
flag 39160 term 45 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
flag 2656 term 45 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
flag 81102 term 45 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
flag 99526 term 45 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
flag 3753 term 45 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
flag 26004 term 45 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
flag 85922 term 45 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
flag 15288 term 45 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
term 45 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262}]
------------------------------------------------------
client write log 2852756567869710283 (index 263) to leader 2
flag 69589 term 45 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
flag 10338 term 45 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 45 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262} {2852756567869710283 45 263}]
term 45 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262} {2852756567869710283 45 263}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62384 term 45 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 45 leaderCommit: 263 
------------------------------------------------------
flag 53615 term 45 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 45 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 45 leaderCommit: 263 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262} {2852756567869710283 45 263}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262} {2852756567869710283 45 263}]
------------------------------------------------------
flag 2004 term 45 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 45 leaderCommit: 263 
------------------------------------------------------
flag 77185 term 45 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 45 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 45 leaderCommit: 263 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262} {2852756567869710283 45 263}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262} {2852756567869710283 45 263}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 0 not vote for server 1, 任期不够新
term 45 server 1 get outdate rpc reply from server 0
term 45 server 0 not vote for server 2, 任期不够新
term 45 server 2 get outdate rpc reply from server 0
flag 61330 term 45 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 45 leaderCommit: 263 
------------------------------------------------------
flag 35825 term 45 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 45 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 45 leaderCommit: 263 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262} {2852756567869710283 45 263}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262} {2852756567869710283 45 263}]
------------------------------------------------------
flag 17538 term 45 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 45 leaderCommit: 263 
------------------------------------------------------
flag 42096 term 45 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 45 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 45 leaderCommit: 263 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262} {2852756567869710283 45 263}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262} {2852756567869710283 45 263}]
------------------------------------------------------
flag 23920 term 45 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 45 leaderCommit: 263 
------------------------------------------------------
flag 45633 term 45 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 45 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 45 leaderCommit: 263 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262} {2852756567869710283 45 263}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262} {2852756567869710283 45 263}]
------------------------------------------------------
flag 63146 term 45 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 45 leaderCommit: 263 
------------------------------------------------------
flag 8243 term 45 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 45 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 45 leaderCommit: 263 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262} {2852756567869710283 45 263}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262} {2852756567869710283 45 263}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4685673652573376635 (index 264) to leader 2
flag 38131 term 45 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 45 leaderCommit: 263 
------------------------------------------------------
flag 77489 term 45 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 45 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 45 leaderCommit: 263 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262} {2852756567869710283 45 263} {4685673652573376635 45 264}]
------------------------------------------------------
flag 31739 term 45 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
flag 34368 term 45 leader 2 nextIndex[1]: 265  matchIndex[1]: 264
term 45 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262} {2852756567869710283 45 263} {4685673652573376635 45 264}]
------------------------------------------------------
client write log 4330273831564038376 (index 265) to leader 2
client write log 6285626498503899190 (index 266) to leader 2
client write log 8706459919526958027 (index 267) to leader 2
client write log 554222147150153636 (index 268) to leader 2
client write log 7227024474486537499 (index 269) to leader 2
client write log 1321295217282805856 (index 270) to leader 2
client write log 3034213043264082340 (index 271) to leader 2
client write log 8870003264959086186 (index 272) to leader 2
client write log 1744062946409227126 (index 273) to leader 2
client write log 7000622211733330475 (index 274) to leader 2
client write log 1241251150450968379 (index 275) to leader 2
client write log 6959232964693310725 (index 276) to leader 2
client write log 6657875974292324385 (index 277) to leader 2
flag 58648 term 45 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
flag 13922 term 45 leader 2 nextIndex[1]: 265  matchIndex[1]: 264
term 45 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 45 leaderCommit: 264 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 43 259} {8604628208579388263 43 260} {536616005010501222 43 261} {2852756567869710283 43 262} {2852756567869710283 45 263} {4685673652573376635 45 264} {4330273831564038376 45 265} {6285626498503899190 45 266} {8706459919526958027 45 267} {554222147150153636 45 268} {7227024474486537499 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277}]
------------------------------------------------------
term 45 Server2 start snapshot! index=269
term 45 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=277
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 45
------------------------------------------------------
flag 15177 term 45 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 45 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277}]
------------------------------------------------------
term 45 Server1 start snapshot! index=269
term 45 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=277
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2623738761125303611 (index 278) to leader 2
term 45 server 2 not vote for server 0, 日志不够新
term 45 server 1 not vote for server 0, 日志不够新
term 47 server 1 vote for server 2
term 47 server 2 get vote from server 1
term 47 server 2 become leader
------------------------------------------------------
term 47 server 0 vote for server 2
term 47 server 2 get outdate rpc reply from server 0
flag 45326 term 47 leader 2 nextIndex[0]: 279  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
flag 14077 term 47 leader 2 nextIndex[1]: 279  matchIndex[1]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
term 47 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 279->278
------------------------------------------------------
term 47 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 279->278
------------------------------------------------------
term 47 leader 2 nextIndex[0]: 264  matchIndex[0]: 0
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 45
------------------------------------------------------
flag 45524 term 47 leader 2 nextIndex[1]: 278  matchIndex[1]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
term 47 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 45 rf.commitIndex 269 rf.lastApplied 269
term 47 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 270 matchIndex[0] 269 
------------------------------------------------------------------------
flag 36686 term 47 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
flag 64122 term 47 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
term 47 server 2 not vote for server 0, 任期不够新
term 47 server 0 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82668 term 47 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
flag 74132 term 47 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
flag 74421 term 47 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
flag 40278 term 47 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
flag 27987 term 47 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
flag 92833 term 47 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29709 term 47 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
flag 56706 term 47 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24456 term 47 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
flag 19089 term 47 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20324 term 47 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
flag 50026 term 47 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25421 term 47 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
flag 62064 term 47 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93659 term 47 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
flag 27992 term 47 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
flag 61105 term 47 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
flag 54814 term 47 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17360 term 47 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
flag 94422 term 47 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
flag 83208 term 47 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
flag 93017 term 47 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
flag 31087 term 47 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
flag 2056 term 47 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49708 term 47 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
flag 61092 term 47 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 515 term 47 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
flag 97462 term 47 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88344 term 47 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
flag 62066 term 47 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
flag 22279 term 47 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
flag 95083 term 47 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
flag 66011 term 47 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
flag 26481 term 47 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278}]
------------------------------------------------------
client write log 2623738761125303611 (index 279) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25473 term 47 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
flag 69775 term 47 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278} {2623738761125303611 47 279}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 45 269} {1321295217282805856 45 270} {3034213043264082340 45 271} {8870003264959086186 45 272} {1744062946409227126 45 273} {7000622211733330475 45 274} {1241251150450968379 45 275} {6959232964693310725 45 276} {6657875974292324385 45 277} {2623738761125303611 45 278} {2623738761125303611 47 279}]
------------------------------------------------------
term 47 Server2 start snapshot! index=279
term 47 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
flag 99836 term 47 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
flag 51093 term 47 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 47 279}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 47 279}]
------------------------------------------------------
term 47 Server0 start snapshot! index=279
term 47 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
term 47 Server1 start snapshot! index=279
term 47 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
flag 99855 term 47 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
flag 49037 term 47 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 47 279}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 47 279}]
------------------------------------------------------
flag 76893 term 47 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
flag 87100 term 47 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 47 279}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 47 279}]
------------------------------------------------------
flag 16274 term 47 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
flag 39658 term 47 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 47 279}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 47 279}]
------------------------------------------------------
flag 23452 term 47 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
flag 15235 term 47 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 47 279}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 47 279}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 56854 term 47 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
flag 14194 term 47 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
flag 14609 term 47 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
flag 16974 term 47 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
flag 84228 term 47 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
flag 3461 term 47 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
term 47 server 1 not vote for server 0, 任期不够新
term 47 server 0 get outdate rpc reply from server 1
term 48 server 0 vote for server 1
term 48 server 1 get vote from server 0
term 48 server 1 become leader
------------------------------------------------------
flag 21205 term 47 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
flag 97600 term 47 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
flag 62973 term 48 leader 1 nextIndex[0]: 280  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
flag 88166 term 48 leader 1 nextIndex[2]: 280  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 47 279}]
------------------------------------------------------
client write log 2963632558436963680 (index 280) to leader 1
flag 15563 term 47 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
flag 63034 term 47 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
flag 2432 term 48 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
flag 3962 term 48 leader 1 nextIndex[2]: 280  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {2963632558436963680 48 280}]
------------------------------------------------------
flag 76896 term 47 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
flag 12012 term 47 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
flag 89123 term 48 leader 1 nextIndex[0]: 281  matchIndex[0]: 280
term 48 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 14568 term 48 leader 1 nextIndex[2]: 280  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {2963632558436963680 48 280}]
------------------------------------------------------
client write log 8925984722042702926 (index 281) to leader 1
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 280->279
------------------------------------------------------
term 47 leader 2 nextIndex[0]: 0  matchIndex[0]: 279
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 47
------------------------------------------------------
flag 33614 term 47 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
flag 27872 term 48 leader 1 nextIndex[0]: 281  matchIndex[0]: 280
term 48 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 56951 term 48 leader 1 nextIndex[2]: 280  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 47 279} {2963632558436963680 48 280} {8925984722042702926 48 281}]
------------------------------------------------------
term 47 leader 2 nextIndex[0]: 0  matchIndex[0]: 279
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 47
------------------------------------------------------
flag 94144 term 47 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
flag 21736 term 48 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 48 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 281 
------------------------------------------------------
flag 18524 term 48 leader 1 nextIndex[2]: 280  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 281 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 47 279} {2963632558436963680 48 280} {8925984722042702926 48 281}]
------------------------------------------------------
!!!!!!connect server 2
client write log 2371822126462798946 (index 282) to leader 1
term 47 leader 2 nextIndex[0]: 0  matchIndex[0]: 279
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 47
------------------------------------------------------
flag 57381 term 47 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
term 48 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 47 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 server 1 AppendEntries false 领导者任期过期 args.Term 47
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53847 term 48 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 48 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 281 
------------------------------------------------------
flag 48222 term 48 leader 1 nextIndex[2]: 280  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 281 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {2963632558436963680 48 280} {8925984722042702926 48 281} {2371822126462798946 48 282}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {2963632558436963680 48 280} {8925984722042702926 48 281} {2371822126462798946 48 282}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57681 term 48 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 48 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 48 leaderCommit: 282 
------------------------------------------------------
flag 27623 term 48 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 48 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 48 leaderCommit: 282 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {2963632558436963680 48 280} {8925984722042702926 48 281} {2371822126462798946 48 282}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {2963632558436963680 48 280} {8925984722042702926 48 281} {2371822126462798946 48 282}]
------------------------------------------------------
flag 90789 term 48 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 48 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 48 leaderCommit: 282 
------------------------------------------------------
flag 88503 term 48 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 48 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 48 leaderCommit: 282 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {2963632558436963680 48 280} {8925984722042702926 48 281} {2371822126462798946 48 282}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {2963632558436963680 48 280} {8925984722042702926 48 281} {2371822126462798946 48 282}]
------------------------------------------------------
flag 97483 term 48 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 48 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 48 leaderCommit: 282 
------------------------------------------------------
flag 17278 term 48 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 48 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 48 leaderCommit: 282 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {2963632558436963680 48 280} {8925984722042702926 48 281} {2371822126462798946 48 282}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {2963632558436963680 48 280} {8925984722042702926 48 281} {2371822126462798946 48 282}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 283->282
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50395 term 48 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 48 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 48 leaderCommit: 282 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 0  matchIndex[2]: 282
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 47
------------------------------------------------------
term 48 server 2 InstallSnapshot fail
rf.commitIndex 282 args.LastIncludedIndex 279
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 280 matchIndex[2] 279 
------------------------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {2963632558436963680 48 280} {8925984722042702926 48 281} {2371822126462798946 48 282}]
------------------------------------------------------
flag 23520 term 48 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 48 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 48 leaderCommit: 282 
------------------------------------------------------
flag 59244 term 48 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {2963632558436963680 48 280} {8925984722042702926 48 281} {2371822126462798946 48 282}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {2963632558436963680 48 280} {8925984722042702926 48 281} {2371822126462798946 48 282}]
------------------------------------------------------
flag 79520 term 48 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 48 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 48 leaderCommit: 282 
------------------------------------------------------
flag 65929 term 48 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 48 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 48 leaderCommit: 282 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {2963632558436963680 48 280} {8925984722042702926 48 281} {2371822126462798946 48 282}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {2963632558436963680 48 280} {8925984722042702926 48 281} {2371822126462798946 48 282}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6807482567216713608 (index 283) to leader 1
flag 58536 term 48 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 48 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 48 leaderCommit: 282 
------------------------------------------------------
flag 2468 term 48 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 48 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 48 leaderCommit: 282 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {2963632558436963680 48 280} {8925984722042702926 48 281} {2371822126462798946 48 282} {6807482567216713608 48 283}]
------------------------------------------------------
flag 30326 term 48 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 48 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 10926 term 48 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 48 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {2963632558436963680 48 280} {8925984722042702926 48 281} {2371822126462798946 48 282} {6807482567216713608 48 283}]
------------------------------------------------------
client write log 8743701382963354993 (index 284) to leader 1
client write log 8505502168317228593 (index 285) to leader 1
client write log 6633323137476123594 (index 286) to leader 1
client write log 8745795230534068674 (index 287) to leader 1
client write log 4824011964914442192 (index 288) to leader 1
client write log 4947855213632545627 (index 289) to leader 1
client write log 5850648669024822911 (index 290) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53537 term 48 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 48 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 64385 term 48 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 48 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 47 279} {2963632558436963680 48 280} {8925984722042702926 48 281} {2371822126462798946 48 282} {6807482567216713608 48 283} {8743701382963354993 48 284} {8505502168317228593 48 285} {6633323137476123594 48 286} {8745795230534068674 48 287} {4824011964914442192 48 288} {4947855213632545627 48 289} {5850648669024822911 48 290}]
------------------------------------------------------
term 48 Server1 start snapshot! index=289
term 48 server1 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=290
-------------------------------------------------------------
flag 95575 term 48 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 48 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290}]
------------------------------------------------------
term 48 Server0 start snapshot! index=289
term 48 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=290
-------------------------------------------------------------
!!!!!!connect server 2
client write log 730340012385646600 (index 291) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 283->282
------------------------------------------------------
flag 48207 term 48 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 48 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 0  matchIndex[2]: 282
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 48
------------------------------------------------------
term 49 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 0 vote for server 1
term 50 server 1 get vote from server 0
term 50 server 1 become leader
------------------------------------------------------
term 50 server 2 vote for server 1
term 50 server 1 get outdate rpc reply from server 2
flag 60004 term 50 leader 1 nextIndex[0]: 292  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 1317 term 50 leader 1 nextIndex[2]: 292  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
term 50 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 292->291
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71005 term 50 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 283  matchIndex[2]: 0
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 48
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
term 50 server 2 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 48 rf.commitIndex 289 rf.lastApplied 289
term 50 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 290 matchIndex[2] 289 
------------------------------------------------------------------------
flag 27343 term 50 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 80856 term 50 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 50 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 761 term 50 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 29835 term 50 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
flag 94143 term 50 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 91384 term 50 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39689 term 50 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 67987 term 50 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80970 term 50 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 9916 term 50 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
flag 66359 term 50 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 94156 term 50 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
flag 56492 term 50 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 76212 term 50 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
flag 52094 term 50 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 39808 term 50 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66239 term 50 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 57743 term 50 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
update nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71975 term 50 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 55926 term 50 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
flag 76704 term 50 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 32091 term 50 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88748 term 50 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 34869 term 50 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
flag 9190 term 50 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 5205 term 50 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
flag 58613 term 50 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 42153 term 50 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
term 50 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
flag 88107 term 50 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 50654 term 50 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
flag 54378 term 50 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 52132 term 50 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
flag 64596 term 50 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 94449 term 50 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291}]
------------------------------------------------------
client write log 730340012385646600 (index 292) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19824 term 50 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 54692 term 50 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 50 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291} {730340012385646600 50 292}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291} {730340012385646600 50 292}]
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48693 term 50 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
flag 86487 term 50 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 50 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291} {730340012385646600 50 292}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291} {730340012385646600 50 292}]
------------------------------------------------------
term 50 server 1 not vote for server 2, 任期不够新
term 50 server 2 get outdate rpc reply from server 1
flag 61500 term 50 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
flag 27367 term 50 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 50 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291} {730340012385646600 50 292}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291} {730340012385646600 50 292}]
------------------------------------------------------
flag 32331 term 50 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
flag 90892 term 50 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 50 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291} {730340012385646600 50 292}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291} {730340012385646600 50 292}]
------------------------------------------------------
flag 56265 term 50 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
flag 44988 term 50 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 50 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291} {730340012385646600 50 292}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291} {730340012385646600 50 292}]
------------------------------------------------------
flag 17279 term 50 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
flag 1182 term 50 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 50 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291} {730340012385646600 50 292}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291} {730340012385646600 50 292}]
------------------------------------------------------
flag 22108 term 50 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
flag 17062 term 50 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 50 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291} {730340012385646600 50 292}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291} {730340012385646600 50 292}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7718708404443451218 (index 293) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25574 term 50 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
flag 28409 term 50 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 50 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291} {730340012385646600 50 292} {7718708404443451218 50 293}]
------------------------------------------------------
flag 97613 term 50 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 50 leaderCommit: 293 
------------------------------------------------------
flag 33434 term 50 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 50 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 293 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291} {730340012385646600 50 292} {7718708404443451218 50 293}]
------------------------------------------------------
client write log 7573118360600868692 (index 294) to leader 1
client write log 2104017725332543287 (index 295) to leader 1
client write log 8008392592532481078 (index 296) to leader 1
client write log 5783685982356496309 (index 297) to leader 1
client write log 6974678584211751470 (index 298) to leader 1
client write log 8192064473909986348 (index 299) to leader 1
client write log 1014297367896838550 (index 300) to leader 1
client write log 5392364745362707347 (index 301) to leader 1
client write log 6794496427657087554 (index 302) to leader 1
flag 95667 term 50 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 50 leaderCommit: 293 
------------------------------------------------------
flag 5068 term 50 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 50 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 293 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 48 289} {5850648669024822911 48 290} {730340012385646600 48 291} {730340012385646600 50 292} {7718708404443451218 50 293} {7573118360600868692 50 294} {2104017725332543287 50 295} {8008392592532481078 50 296} {5783685982356496309 50 297} {6974678584211751470 50 298} {8192064473909986348 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302}]
------------------------------------------------------
term 50 Server1 start snapshot! index=299
term 50 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=302
-------------------------------------------------------------
flag 51767 term 50 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 50 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302}]
------------------------------------------------------
term 50 Server0 start snapshot! index=299
term 50 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=302
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7984934181949526684 (index 303) to leader 1
flag 11053 term 50 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 50 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
term 51 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 server 2 vote for server 1
term 52 server 1 get vote from server 2
term 52 server 1 become leader
------------------------------------------------------
term 52 server 0 vote for server 1
term 52 server 1 get outdate rpc reply from server 0
flag 34932 term 52 leader 1 nextIndex[0]: 304  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 28891 term 52 leader 1 nextIndex[2]: 304  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
term 52 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 304->303
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 52 server 2 not vote for server 1, 任期不够新
term 52 server 1 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84177 term 52 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 293  matchIndex[2]: 0
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
term 52 server 2 InstallSnapshot success
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 50 rf.commitIndex 299 rf.lastApplied 299
term 52 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
flag 65310 term 52 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 10194 term 52 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
term 52 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
flag 19027 term 52 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 48744 term 52 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
term 52 server 0 not vote for server 2, 任期不够新
term 52 server 2 get outdate rpc reply from server 0
flag 10931 term 52 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 27464 term 52 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85690 term 52 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 54873 term 52 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
flag 73517 term 52 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 25799 term 52 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
flag 72367 term 52 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 39468 term 52 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
flag 15106 term 52 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 8678 term 52 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
flag 99549 term 52 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 65952 term 52 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
term 52 server 1 not vote for server 2, 任期不够新
term 52 server 2 get outdate rpc reply from server 1
term 52 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79927 term 52 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 10062 term 52 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
flag 4993 term 52 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 98528 term 52 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25912 term 52 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 13466 term 52 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30343 term 52 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 25002 term 52 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12615 term 52 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 58119 term 52 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
flag 39155 term 52 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 81604 term 52 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16798 term 52 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 73209 term 52 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42287 term 52 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 7281 term 52 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
flag 93555 term 52 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 55899 term 52 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303}]
------------------------------------------------------
client write log 7984934181949526684 (index 304) to leader 1
flag 44600 term 52 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 6559 term 52 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 52 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304}]
------------------------------------------------------
flag 96603 term 52 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 304 
------------------------------------------------------
flag 47001 term 52 leader 1 nextIndex[2]: 305  matchIndex[2]: 304
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 304 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304}]
------------------------------------------------------
flag 36236 term 52 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 304 
------------------------------------------------------
flag 67102 term 52 leader 1 nextIndex[2]: 305  matchIndex[2]: 304
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 304 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304}]
------------------------------------------------------
flag 85293 term 52 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 304 
------------------------------------------------------
flag 98797 term 52 leader 1 nextIndex[2]: 305  matchIndex[2]: 304
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 304 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304}]
------------------------------------------------------
flag 75277 term 52 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 304 
------------------------------------------------------
flag 13679 term 52 leader 1 nextIndex[2]: 305  matchIndex[2]: 304
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 304 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304}]
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53541 term 52 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 304 
------------------------------------------------------
flag 92708 term 52 leader 1 nextIndex[2]: 305  matchIndex[2]: 304
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 304 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304}]
------------------------------------------------------
term 52 server 0 not vote for server 2, 任期不够新
term 52 server 2 get outdate rpc reply from server 0
flag 38413 term 52 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 304 
------------------------------------------------------
flag 10941 term 52 leader 1 nextIndex[2]: 305  matchIndex[2]: 304
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 304 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 65416 term 52 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 304 
------------------------------------------------------
flag 6272 term 52 leader 1 nextIndex[2]: 305  matchIndex[2]: 304
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 304 
------------------------------------------------------
flag 56797 term 52 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 304 
------------------------------------------------------
flag 23848 term 52 leader 1 nextIndex[2]: 305  matchIndex[2]: 304
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 304 
------------------------------------------------------
flag 94477 term 52 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 304 
------------------------------------------------------
flag 2208 term 52 leader 1 nextIndex[2]: 305  matchIndex[2]: 304
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 305->304
------------------------------------------------------
term 53 server 2 vote for server 0
term 53 server 0 get vote from server 2
term 53 server 0 become leader
------------------------------------------------------
flag 2563 term 53 leader 0 nextIndex[1]: 305  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 304 
------------------------------------------------------
flag 10133 term 53 leader 0 nextIndex[2]: 305  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 304 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304}]
------------------------------------------------------
client write log 8008890797000065091 (index 305) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84780 term 52 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 304 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 0  matchIndex[2]: 304
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20591 term 53 leader 0 nextIndex[1]: 305  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 304 
------------------------------------------------------
flag 77038 term 53 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 53 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 304 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305}]
------------------------------------------------------
flag 72095 term 52 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 304 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 0  matchIndex[2]: 304
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
flag 18771 term 53 leader 0 nextIndex[1]: 305  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 305 
------------------------------------------------------
flag 61510 term 53 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 53 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305}]
------------------------------------------------------
client write log 7300769042006070196 (index 306) to leader 0
flag 71742 term 52 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 304 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 0  matchIndex[2]: 304
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
flag 95766 term 53 leader 0 nextIndex[1]: 305  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 305 
------------------------------------------------------
flag 87259 term 53 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 53 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
flag 1152 term 52 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 304 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 0  matchIndex[2]: 304
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
flag 22605 term 53 leader 0 nextIndex[1]: 305  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
flag 35040 term 53 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
!!!!!!connect server 1
client write log 1259651064115911680 (index 305) to leader 1
flag 90927 term 52 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 52 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 304 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 0  matchIndex[2]: 304
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
term 53 server 0 AppendEntries false 领导者任期过期 args.Term 52
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 53 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 19484 term 53 leader 0 nextIndex[1]: 305  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
flag 72371 term 53 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 913 term 53 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 78098 term 53 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
flag 98146 term 53 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 97880 term 53 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
flag 57671 term 53 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 98665 term 53 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
flag 47311 term 53 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 30319 term 53 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
flag 745 term 53 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 90752 term 53 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
flag 62933 term 53 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 86873 term 53 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
flag 35802 term 53 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 76151 term 53 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54900 term 53 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 28380 term 53 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
flag 11314 term 53 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 17524 term 53 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 307->306
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 306
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
flag 78675 term 53 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 1 InstallSnapshot fail
rf.commitIndex 306 args.LastIncludedIndex 299
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
flag 32580 term 53 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 53 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 86959 term 53 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
flag 86432 term 53 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 13596 term 53 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
flag 95929 term 53 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 73431 term 53 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
flag 1399 term 53 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 16479 term 53 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 307->306
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 306
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
flag 57252 term 53 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
term 53 server 1 InstallSnapshot fail
rf.commitIndex 306 args.LastIncludedIndex 299
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52390 term 53 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 53 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 15452 term 53 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16438 term 53 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 84387 term 53 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
flag 58915 term 53 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 70409 term 53 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
flag 49304 term 53 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 8719 term 53 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306}]
------------------------------------------------------
client write log 1259651064115911680 (index 307) to leader 0
flag 73736 term 53 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 86709 term 53 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306} {1259651064115911680 53 307}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306} {1259651064115911680 53 307}]
------------------------------------------------------
flag 78959 term 53 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 53 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
flag 83346 term 53 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 53 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306} {1259651064115911680 53 307}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306} {1259651064115911680 53 307}]
------------------------------------------------------
flag 50192 term 53 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 53 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
flag 98222 term 53 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 53 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
term 53 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
update leader CommitIndex=307
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306} {1259651064115911680 53 307}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306} {1259651064115911680 53 307}]
------------------------------------------------------
flag 12940 term 53 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 53 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
flag 50282 term 53 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 53 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306} {1259651064115911680 53 307}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306} {1259651064115911680 53 307}]
------------------------------------------------------
flag 48736 term 53 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 53 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
flag 33055 term 53 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 53 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306} {1259651064115911680 53 307}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306} {1259651064115911680 53 307}]
------------------------------------------------------
flag 19206 term 53 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 53 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
flag 35845 term 53 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 53 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306} {1259651064115911680 53 307}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306} {1259651064115911680 53 307}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 811755045692735756 (index 308) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52768 term 53 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 53 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
flag 72806 term 53 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 53 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306} {1259651064115911680 53 307} {811755045692735756 53 308}]
------------------------------------------------------
flag 16243 term 53 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 53 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
flag 90169 term 53 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 53 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306} {1259651064115911680 53 307} {811755045692735756 53 308}]
------------------------------------------------------
client write log 1432601617270736813 (index 309) to leader 0
client write log 1681411970834462313 (index 310) to leader 0
client write log 8439108513242693953 (index 311) to leader 0
client write log 3011126424360819300 (index 312) to leader 0
client write log 1588320375340352781 (index 313) to leader 0
client write log 6454957549408104449 (index 314) to leader 0
client write log 5630102200596181415 (index 315) to leader 0
client write log 496927179755778919 (index 316) to leader 0
client write log 2646875995789670991 (index 317) to leader 0
client write log 2035447070926973730 (index 318) to leader 0
client write log 6386162922489044626 (index 319) to leader 0
client write log 72566771370550632 (index 320) to leader 0
client write log 852644236111459970 (index 321) to leader 0
client write log 1005659118952871632 (index 322) to leader 0
flag 88473 term 53 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 53 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
flag 15832 term 53 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 53 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 50 299} {1014297367896838550 50 300} {5392364745362707347 50 301} {6794496427657087554 50 302} {7984934181949526684 50 303} {7984934181949526684 52 304} {8008890797000065091 53 305} {7300769042006070196 53 306} {1259651064115911680 53 307} {811755045692735756 53 308} {1432601617270736813 53 309} {1681411970834462313 53 310} {8439108513242693953 53 311} {3011126424360819300 53 312} {1588320375340352781 53 313} {6454957549408104449 53 314} {5630102200596181415 53 315} {496927179755778919 53 316} {2646875995789670991 53 317} {2035447070926973730 53 318} {6386162922489044626 53 319} {72566771370550632 53 320} {852644236111459970 53 321} {1005659118952871632 53 322}]
------------------------------------------------------
term 53 Server0 start snapshot! index=309
term 53 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=322
-------------------------------------------------------------
term 53 Server0 start snapshot! index=319
term 53 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=322
-------------------------------------------------------------
term 53 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 53
------------------------------------------------------
flag 61335 term 53 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 53 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 53 leaderCommit: 322 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 53 319} {72566771370550632 53 320} {852644236111459970 53 321} {1005659118952871632 53 322}]
------------------------------------------------------
term 53 Server2 start snapshot! index=309
term 53 server2 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=322
-------------------------------------------------------------
term 53 Server2 start snapshot! index=319
term 53 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=322
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1390924350706082934 (index 323) to leader 0
term 53 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 53
------------------------------------------------------
flag 13502 term 53 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 53 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 53 leaderCommit: 322 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 53 319} {72566771370550632 53 320} {852644236111459970 53 321} {1005659118952871632 53 322} {1390924350706082934 53 323}]
------------------------------------------------------
term 54 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 55 server 2 vote for server 0
term 55 server 0 get vote from server 2
term 55 server 1 vote for server 0
term 55 server 0 become leader
------------------------------------------------------
term 55 server 0 get outdate rpc reply from server 1
flag 28676 term 55 leader 0 nextIndex[1]: 324  matchIndex[1]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
flag 38014 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 53 319} {72566771370550632 53 320} {852644236111459970 53 321} {1005659118952871632 53 322} {1390924350706082934 53 323}]
------------------------------------------------------
term 55 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 324->323
------------------------------------------------------
term 55 leader 0 nextIndex[1]: 308  matchIndex[1]: 0
term 55 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 53
------------------------------------------------------
flag 36173 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 55 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 53 rf.commitIndex 319 rf.lastApplied 319
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 53 319} {72566771370550632 53 320} {852644236111459970 53 321} {1005659118952871632 53 322} {1390924350706082934 53 323}]
------------------------------------------------------
term 55 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
term 55 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75010 term 55 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 55 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
flag 2586 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 53 319} {72566771370550632 53 320} {852644236111459970 53 321} {1005659118952871632 53 322} {1390924350706082934 53 323}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 53 319} {72566771370550632 53 320} {852644236111459970 53 321} {1005659118952871632 53 322} {1390924350706082934 53 323}]
------------------------------------------------------
flag 31474 term 55 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
flag 55968 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 53 319} {72566771370550632 53 320} {852644236111459970 53 321} {1005659118952871632 53 322} {1390924350706082934 53 323}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 53 319} {72566771370550632 53 320} {852644236111459970 53 321} {1005659118952871632 53 322} {1390924350706082934 53 323}]
------------------------------------------------------
flag 80372 term 55 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
flag 91568 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 53 319} {72566771370550632 53 320} {852644236111459970 53 321} {1005659118952871632 53 322} {1390924350706082934 53 323}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 53 319} {72566771370550632 53 320} {852644236111459970 53 321} {1005659118952871632 53 322} {1390924350706082934 53 323}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86820 term 55 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
flag 57998 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 53 319} {72566771370550632 53 320} {852644236111459970 53 321} {1005659118952871632 53 322} {1390924350706082934 53 323}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 53 319} {72566771370550632 53 320} {852644236111459970 53 321} {1005659118952871632 53 322} {1390924350706082934 53 323}]
------------------------------------------------------
flag 23509 term 55 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
flag 60316 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
term 55 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 53 319} {72566771370550632 53 320} {852644236111459970 53 321} {1005659118952871632 53 322} {1390924350706082934 53 323}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 53 319} {72566771370550632 53 320} {852644236111459970 53 321} {1005659118952871632 53 322} {1390924350706082934 53 323}]
------------------------------------------------------
flag 68704 term 55 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
flag 99517 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 53 319} {72566771370550632 53 320} {852644236111459970 53 321} {1005659118952871632 53 322} {1390924350706082934 53 323}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 53 319} {72566771370550632 53 320} {852644236111459970 53 321} {1005659118952871632 53 322} {1390924350706082934 53 323}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
  ... Passed --  79.1  3 1810  775500  323
--- PASS: TestSnapshotInstall2D (79.14s)
PASS
