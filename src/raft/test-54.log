=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 0 vote for server 1
term 1 server 1 get vote from server 2
term 1 server 1 become leader
------------------------------------------------------
term 1 server 1 get outdate rpc reply from server 0
flag 14410 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 72223 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 2762812134050897076 (index 1) to leader 1
flag 22080 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 67506 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2762812134050897076 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2762812134050897076 1 1}]
------------------------------------------------------
flag 87729 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 52842 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2762812134050897076 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2762812134050897076 1 1}]
------------------------------------------------------
flag 58798 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 43131 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2762812134050897076 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2762812134050897076 1 1}]
------------------------------------------------------
flag 19217 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 24399 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2762812134050897076 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2762812134050897076 1 1}]
------------------------------------------------------
flag 53531 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 97741 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2762812134050897076 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2762812134050897076 1 1}]
------------------------------------------------------
flag 49153 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 61252 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2762812134050897076 1 1}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2762812134050897076 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8593404823011498517 (index 2) to leader 1
flag 98388 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 66128 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2762812134050897076 1 1} {8593404823011498517 1 2}]
------------------------------------------------------
flag 45377 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 68866 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2762812134050897076 1 1} {8593404823011498517 1 2}]
------------------------------------------------------
client write log 8541952982064777334 (index 3) to leader 1
client write log 2278397907233375496 (index 4) to leader 1
client write log 5058755767208922378 (index 5) to leader 1
client write log 3496693807444359450 (index 6) to leader 1
client write log 1680372504257983830 (index 7) to leader 1
client write log 6486089680074722343 (index 8) to leader 1
client write log 2983514809670503202 (index 9) to leader 1
client write log 3720691202236283093 (index 10) to leader 1
client write log 7413302180687849739 (index 11) to leader 1
flag 10903 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 15265 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{<nil> 0 0} {2762812134050897076 1 1} {8593404823011498517 1 2} {8541952982064777334 1 3} {2278397907233375496 1 4} {5058755767208922378 1 5} {3496693807444359450 1 6} {1680372504257983830 1 7} {6486089680074722343 1 8} {2983514809670503202 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=11
-------------------------------------------------------------
flag 60431 term 1 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 1 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=11
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2337689136113627323 (index 12) to leader 1
flag 46893 term 1 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 1 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 2 server 2 InstallSnapshot false 领导者任期过期
term 1 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12}]
------------------------------------------------------
term 1 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 3 server 2 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 0 vote for server 1
term 3 server 1 get outdate rpc reply from server 0
flag 65905 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 32306 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 13->12
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12}]
------------------------------------------------------
flag 60282 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12}]
------------------------------------------------------
flag 7273 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 9525 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12}]
------------------------------------------------------
flag 19469 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 5078 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12}]
------------------------------------------------------
flag 78714 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 88194 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12}]
------------------------------------------------------
flag 7894 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 75273 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12}]
------------------------------------------------------
flag 26818 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 13424 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12}]
------------------------------------------------------
term 3 server 1 not vote for server 2, 任期不够新
term 3 server 2 get outdate rpc reply from server 1
flag 59307 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 33953 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12}]
------------------------------------------------------
flag 32977 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 12781 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 13466 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 58792 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 90953 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 31868 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 5988 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 69886 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 vote for server 0
term 4 server 0 get vote from server 2
term 4 server 0 become leader
------------------------------------------------------
client write log 5886339577564393039 (index 13) to leader 0
flag 89149 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 65253 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13}]
------------------------------------------------------
flag 9066 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 31247 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 60379 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 78006 term 4 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13}]
------------------------------------------------------
client write log 406200612374158306 (index 14) to leader 0
flag 27474 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 53683 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 59747 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 2711 term 4 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
flag 512 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 76682 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 20540 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 91197 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
!!!!!!connect server 1
client write log 284032289864224919 (index 13) to leader 1
flag 11926 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 54536 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53091 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 563 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
flag 11891 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 9179 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
flag 77125 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 61279 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83942 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 60369 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 15->14
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 14
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 44793 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 14 args.LastIncludedIndex 9
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
flag 34285 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 54421 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71846 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 550 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
flag 99140 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 99752 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12850 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 8470 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
flag 94341 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 27253 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
flag 89825 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 71743 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
flag 74096 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 79331 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
flag 22584 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 26377 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 15->14
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 14
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 19317 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 14 args.LastIncludedIndex 9
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
flag 59665 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 14229 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55166 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 54510 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 15->14
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
flag 55221 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 1074 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
flag 41188 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 90821 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
flag 56427 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 79682 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
flag 55363 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 85065 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14}]
------------------------------------------------------
client write log 284032289864224919 (index 15) to leader 0
flag 84813 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 29944 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14} {284032289864224919 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14} {284032289864224919 4 15}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19337 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 49001 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14} {284032289864224919 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14} {284032289864224919 4 15}]
------------------------------------------------------
flag 37407 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 72336 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14} {284032289864224919 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14} {284032289864224919 4 15}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49146 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 92201 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14} {284032289864224919 4 15}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14} {284032289864224919 4 15}]
------------------------------------------------------
flag 51392 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 16866 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14} {284032289864224919 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14} {284032289864224919 4 15}]
------------------------------------------------------
flag 87230 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 75905 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14} {284032289864224919 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14} {284032289864224919 4 15}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 9039432065806646221 (index 16) to leader 0
flag 98754 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 61998 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14} {284032289864224919 4 15} {9039432065806646221 4 16}]
------------------------------------------------------
flag 94432 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 72087 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14} {284032289864224919 4 15} {9039432065806646221 4 16}]
------------------------------------------------------
client write log 8514725621272640401 (index 17) to leader 0
client write log 6575628720092298536 (index 18) to leader 0
client write log 4335675432276171825 (index 19) to leader 0
client write log 1854496156903939173 (index 20) to leader 0
client write log 5115042030380505611 (index 21) to leader 0
client write log 6432891239654051457 (index 22) to leader 0
client write log 7427724537117493132 (index 23) to leader 0
client write log 8697350809457101921 (index 24) to leader 0
client write log 151276630299112119 (index 25) to leader 0
client write log 3105564278868155987 (index 26) to leader 0
client write log 4628857750480555455 (index 27) to leader 0
client write log 6264525950546764479 (index 28) to leader 0
client write log 1213593180346860951 (index 29) to leader 0
flag 26432 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 74148 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 1 9} {3720691202236283093 1 10} {7413302180687849739 1 11} {2337689136113627323 1 12} {5886339577564393039 4 13} {406200612374158306 4 14} {284032289864224919 4 15} {9039432065806646221 4 16} {8514725621272640401 4 17} {6575628720092298536 4 18} {4335675432276171825 4 19} {1854496156903939173 4 20} {5115042030380505611 4 21} {6432891239654051457 4 22} {7427724537117493132 4 23} {8697350809457101921 4 24} {151276630299112119 4 25} {3105564278868155987 4 26} {4628857750480555455 4 27} {6264525950546764479 4 28} {1213593180346860951 4 29}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=29
-------------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 67796 term 4 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
term 4 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=29
-------------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2206421247872274453 (index 30) to leader 0
term 4 server 2 not vote for server 1, 日志不够新
term 4 server 0 not vote for server 1, 日志不够新
term 6 server 2 vote for server 0
term 6 server 1 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 0 get outdate rpc reply from server 1
flag 19299 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 68106 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 31->30
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 31->30
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 16  matchIndex[1]: 0
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 80364 term 6 leader 0 nextIndex[2]: 30  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75436 term 6 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 23153 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
flag 1227 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 19375 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
flag 84954 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 36186 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
flag 72297 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 69447 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
flag 12913 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 78803 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
flag 62449 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 37826 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
flag 2166 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 93948 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
flag 51434 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 45700 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
flag 55610 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 4959 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92209 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 46510 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
flag 8163 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 54261 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
flag 54522 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 4857 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
term 6 server 1 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 1
flag 85587 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 93710 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78269 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 5897 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39033 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 31640 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54146 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 38948 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
term 6 server 0 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 0
flag 28394 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 62811 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28432 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 82215 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {2206421247872274453 4 30}]
------------------------------------------------------
client write log 2206421247872274453 (index 31) to leader 0
flag 50907 term 6 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 36212 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {2206421247872274453 4 30} {2206421247872274453 6 31}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {2206421247872274453 4 30} {2206421247872274453 6 31}]
------------------------------------------------------
flag 35205 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 36815 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {2206421247872274453 4 30} {2206421247872274453 6 31}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {2206421247872274453 4 30} {2206421247872274453 6 31}]
------------------------------------------------------
flag 51624 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 4052 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {2206421247872274453 4 30} {2206421247872274453 6 31}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {2206421247872274453 4 30} {2206421247872274453 6 31}]
------------------------------------------------------
flag 34754 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 24979 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {2206421247872274453 4 30} {2206421247872274453 6 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {2206421247872274453 4 30} {2206421247872274453 6 31}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34351 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 35703 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {2206421247872274453 4 30} {2206421247872274453 6 31}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {2206421247872274453 4 30} {2206421247872274453 6 31}]
------------------------------------------------------
flag 2235 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 52696 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {2206421247872274453 4 30} {2206421247872274453 6 31}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {2206421247872274453 4 30} {2206421247872274453 6 31}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8626514246313036781 (index 32) to leader 0
flag 50607 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 31027 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {2206421247872274453 4 30} {2206421247872274453 6 31} {8626514246313036781 6 32}]
------------------------------------------------------
flag 29576 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 2127 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {2206421247872274453 4 30} {2206421247872274453 6 31} {8626514246313036781 6 32}]
------------------------------------------------------
client write log 908988017685004206 (index 33) to leader 0
client write log 7194414080235635369 (index 34) to leader 0
client write log 4954473979010504563 (index 35) to leader 0
client write log 5745040219072384032 (index 36) to leader 0
client write log 7132347074874447040 (index 37) to leader 0
client write log 6644484294849652232 (index 38) to leader 0
client write log 6210693814785026259 (index 39) to leader 0
client write log 1694907734033549458 (index 40) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82354 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 53121 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 29} {2206421247872274453 4 30} {2206421247872274453 6 31} {8626514246313036781 6 32} {908988017685004206 6 33} {7194414080235635369 6 34} {4954473979010504563 6 35} {5745040219072384032 6 36} {7132347074874447040 6 37} {6644484294849652232 6 38} {6210693814785026259 6 39} {1694907734033549458 6 40}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 10279 term 6 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {1694907734033549458 6 40}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7647216717257284781 (index 41) to leader 0
term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 97616 term 6 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41}]
------------------------------------------------------
term 7 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 vote for server 0
term 8 server 1 vote for server 0
term 8 server 0 get vote from server 2
term 8 server 0 become leader
------------------------------------------------------
term 8 server 0 get outdate rpc reply from server 1
flag 68796 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 64069 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41}]
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 42->41
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 32  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 93674 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41}]
------------------------------------------------------
term 8 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
flag 95398 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 30873 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41}]
------------------------------------------------------
flag 8210 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 57743 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41}]
------------------------------------------------------
flag 39547 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 61891 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41}]
------------------------------------------------------
flag 22603 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 33971 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41}]
------------------------------------------------------
flag 45406 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 62161 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41}]
------------------------------------------------------
flag 67558 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 79348 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 2
flag 69038 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 98580 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 81334 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 63200 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 6459 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 96938 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 42->41
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 42->41
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 41
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 41
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 1 vote for server 2
term 9 server 2 get vote from server 1
term 9 server 2 become leader
------------------------------------------------------
flag 35025 term 9 leader 2 nextIndex[0]: 42  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 86046 term 9 leader 2 nextIndex[1]: 42  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4458584439715170580 (index 42) to leader 2
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 41
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 41
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 58382 term 9 leader 2 nextIndex[0]: 42  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 6485 term 9 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 9 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41} {4458584439715170580 9 42}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 42->41
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 41
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 41
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 4128 term 9 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41} {4458584439715170580 9 42}]
------------------------------------------------------
client write log 3595106403056161525 (index 43) to leader 2
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 41
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 41
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 61619 term 9 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41} {4458584439715170580 9 42} {3595106403056161525 9 43}]
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 41
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 41
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 61799 term 9 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41} {4458584439715170580 9 42} {3595106403056161525 9 43}]
------------------------------------------------------
!!!!!!connect server 0
client write log 7362966987203879259 (index 44) to leader 2
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 41
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 41
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 8 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 86774 term 9 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 0 InstallSnapshot fail
rf.commitIndex 41 args.LastIncludedIndex 39
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41} {4458584439715170580 9 42} {3595106403056161525 9 43} {7362966987203879259 9 44}]
------------------------------------------------------
term 9 server 2 not vote for server 0, 日志不够新
term 9 server 1 not vote for server 0, 日志不够新
term 11 server 1 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 2 become leader
------------------------------------------------------
term 11 server 0 vote for server 2
term 11 server 2 get outdate rpc reply from server 0
flag 36022 term 11 leader 2 nextIndex[0]: 45  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 31774 term 11 leader 2 nextIndex[1]: 45  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 45->44
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41} {4458584439715170580 9 42} {3595106403056161525 9 43} {7362966987203879259 9 44}]
------------------------------------------------------
flag 83065 term 11 leader 2 nextIndex[0]: 42  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 36915 term 11 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 11 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41} {4458584439715170580 9 42} {3595106403056161525 9 43} {7362966987203879259 9 44}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41} {4458584439715170580 9 42} {3595106403056161525 9 43} {7362966987203879259 9 44}]
------------------------------------------------------
flag 88756 term 11 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 11 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 91684 term 11 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 11 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41} {4458584439715170580 9 42} {3595106403056161525 9 43} {7362966987203879259 9 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41} {4458584439715170580 9 42} {3595106403056161525 9 43} {7362966987203879259 9 44}]
------------------------------------------------------
flag 92584 term 11 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 11 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 25691 term 11 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 11 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41} {4458584439715170580 9 42} {3595106403056161525 9 43} {7362966987203879259 9 44}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41} {4458584439715170580 9 42} {3595106403056161525 9 43} {7362966987203879259 9 44}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60732 term 11 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 11 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 42125 term 11 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 11 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41} {4458584439715170580 9 42} {3595106403056161525 9 43} {7362966987203879259 9 44}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41} {4458584439715170580 9 42} {3595106403056161525 9 43} {7362966987203879259 9 44}]
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27871 term 11 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 11 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 6133 term 11 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 11 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41} {4458584439715170580 9 42} {3595106403056161525 9 43} {7362966987203879259 9 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41} {4458584439715170580 9 42} {3595106403056161525 9 43} {7362966987203879259 9 44}]
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56975 term 11 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 11 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 30559 term 11 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 11 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41} {4458584439715170580 9 42} {3595106403056161525 9 43} {7362966987203879259 9 44}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41} {4458584439715170580 9 42} {3595106403056161525 9 43} {7362966987203879259 9 44}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 685257161171738101 (index 45) to leader 2
flag 60078 term 11 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 11 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 14570 term 11 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 11 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41} {4458584439715170580 9 42} {3595106403056161525 9 43} {7362966987203879259 9 44} {685257161171738101 11 45}]
------------------------------------------------------
flag 22400 term 11 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 11 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 37441 term 11 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 11 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 11 leaderCommit: 45 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41} {4458584439715170580 9 42} {3595106403056161525 9 43} {7362966987203879259 9 44} {685257161171738101 11 45}]
------------------------------------------------------
client write log 877243691812117195 (index 46) to leader 2
client write log 3347155090184223487 (index 47) to leader 2
client write log 3045433645290660258 (index 48) to leader 2
client write log 3327322487331943028 (index 49) to leader 2
client write log 4845855605826183869 (index 50) to leader 2
client write log 7229502222623992892 (index 51) to leader 2
client write log 5082336330710122842 (index 52) to leader 2
client write log 1903452050844045270 (index 53) to leader 2
client write log 6380093982130422267 (index 54) to leader 2
client write log 7059972470692340286 (index 55) to leader 2
client write log 4845443374946179006 (index 56) to leader 2
client write log 1365983819202955339 (index 57) to leader 2
client write log 335583812707076906 (index 58) to leader 2
client write log 3831435380242629004 (index 59) to leader 2
flag 87394 term 11 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 11 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 33116 term 11 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 11 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 11 leaderCommit: 45 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 6 39} {1694907734033549458 6 40} {7647216717257284781 6 41} {4458584439715170580 9 42} {3595106403056161525 9 43} {7362966987203879259 9 44} {685257161171738101 11 45} {877243691812117195 11 46} {3347155090184223487 11 47} {3045433645290660258 11 48} {3327322487331943028 11 49} {4845855605826183869 11 50} {7229502222623992892 11 51} {5082336330710122842 11 52} {1903452050844045270 11 53} {6380093982130422267 11 54} {7059972470692340286 11 55} {4845443374946179006 11 56} {1365983819202955339 11 57} {335583812707076906 11 58} {3831435380242629004 11 59}]
------------------------------------------------------
term 11 Server2 start snapshot! index=49
term 11 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=59
-------------------------------------------------------------
term 11 Server2 start snapshot! index=59
term 11 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 11 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 54017 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 11 59}]
------------------------------------------------------
term 11 Server1 start snapshot! index=49
term 11 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=59
-------------------------------------------------------------
term 11 Server1 start snapshot! index=59
term 11 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5841184204558549355 (index 60) to leader 2
term 11 server 2 not vote for server 0, 日志不够新
term 11 server 1 not vote for server 0, 日志不够新
term 13 server 1 vote for server 2
term 13 server 2 get vote from server 1
term 13 server 0 vote for server 2
term 13 server 2 become leader
------------------------------------------------------
term 13 server 2 get outdate rpc reply from server 0
flag 86284 term 13 leader 2 nextIndex[0]: 61  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 6405 term 13 leader 2 nextIndex[1]: 61  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 61->60
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 61->60
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 leader 2 nextIndex[0]: 45  matchIndex[0]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 39152 term 13 leader 2 nextIndex[1]: 60  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 0 InstallSnapshot success
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 11 rf.commitIndex 59 rf.lastApplied 59
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68433 term 13 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 13 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 19743 term 13 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
flag 8014 term 13 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 33676 term 13 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
flag 60694 term 13 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 65510 term 13 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
term 13 server 0 not vote for server 1, 任期不够新
term 13 server 1 get outdate rpc reply from server 0
flag 35410 term 13 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 43987 term 13 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
flag 78691 term 13 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 25493 term 13 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47193 term 13 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 27357 term 13 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
flag 9691 term 13 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 13280 term 13 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
flag 6901 term 13 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 26823 term 13 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
flag 59233 term 13 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 5059 term 13 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
flag 77795 term 13 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 12824 term 13 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
flag 65573 term 13 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 59884 term 13 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
flag 1347 term 13 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 85854 term 13 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
flag 61457 term 13 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 83868 term 13 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7902 term 13 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 83641 term 13 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
flag 38496 term 13 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 60769 term 13 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
flag 64322 term 13 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 36850 term 13 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75513 term 13 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 12984 term 13 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {5841184204558549355 11 60}]
------------------------------------------------------
client write log 5841184204558549355 (index 61) to leader 2
flag 12486 term 13 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 17938 term 13 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {5841184204558549355 11 60} {5841184204558549355 13 61}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {5841184204558549355 11 60} {5841184204558549355 13 61}]
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99590 term 13 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 56243 term 13 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 13 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {5841184204558549355 11 60} {5841184204558549355 13 61}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {5841184204558549355 11 60} {5841184204558549355 13 61}]
------------------------------------------------------
flag 96932 term 13 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 30033 term 13 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 13 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {5841184204558549355 11 60} {5841184204558549355 13 61}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {5841184204558549355 11 60} {5841184204558549355 13 61}]
------------------------------------------------------
flag 78761 term 13 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 19348 term 13 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 13 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {5841184204558549355 11 60} {5841184204558549355 13 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {5841184204558549355 11 60} {5841184204558549355 13 61}]
------------------------------------------------------
flag 48978 term 13 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 4390 term 13 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 13 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {5841184204558549355 11 60} {5841184204558549355 13 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {5841184204558549355 11 60} {5841184204558549355 13 61}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2416 term 13 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 59695 term 13 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 13 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {5841184204558549355 11 60} {5841184204558549355 13 61}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {5841184204558549355 11 60} {5841184204558549355 13 61}]
------------------------------------------------------
flag 70549 term 13 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 48524 term 13 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 13 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {5841184204558549355 11 60} {5841184204558549355 13 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {5841184204558549355 11 60} {5841184204558549355 13 61}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 551052486324178639 (index 62) to leader 2
flag 16114 term 13 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 84164 term 13 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 13 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {5841184204558549355 11 60} {5841184204558549355 13 61} {551052486324178639 13 62}]
------------------------------------------------------
flag 31987 term 13 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 62 
------------------------------------------------------
flag 84571 term 13 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 13 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 13 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {5841184204558549355 11 60} {5841184204558549355 13 61} {551052486324178639 13 62}]
------------------------------------------------------
client write log 6071806058378709096 (index 63) to leader 2
client write log 165652956236520572 (index 64) to leader 2
client write log 6413595539175153434 (index 65) to leader 2
client write log 4662562111408007394 (index 66) to leader 2
client write log 986506062772386286 (index 67) to leader 2
client write log 4105542419952345108 (index 68) to leader 2
client write log 7585872142032130403 (index 69) to leader 2
client write log 6373938724903752393 (index 70) to leader 2
client write log 5097025275876155811 (index 71) to leader 2
client write log 316138580993015710 (index 72) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 62->61
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 leader 2 nextIndex[0]: 0  matchIndex[0]: 61
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 4806 term 13 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 13 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 13 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 59} {5841184204558549355 11 60} {5841184204558549355 13 61} {551052486324178639 13 62} {6071806058378709096 13 63} {165652956236520572 13 64} {6413595539175153434 13 65} {4662562111408007394 13 66} {986506062772386286 13 67} {4105542419952345108 13 68} {7585872142032130403 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72}]
------------------------------------------------------
term 13 Server2 start snapshot! index=69
term 13 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=72
-------------------------------------------------------------
term 13 leader 2 nextIndex[0]: 0  matchIndex[0]: 61
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 25363 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72}]
------------------------------------------------------
term 13 Server1 start snapshot! index=69
term 13 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=72
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6924386019423372222 (index 73) to leader 2
term 13 leader 2 nextIndex[0]: 0  matchIndex[0]: 61
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 76123 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 14 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 15 server 0 vote for server 2
term 15 server 2 get vote from server 0
term 15 server 2 become leader
------------------------------------------------------
term 15 server 1 vote for server 2
term 15 server 2 get outdate rpc reply from server 1
flag 70825 term 15 leader 2 nextIndex[0]: 74  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 93409 term 15 leader 2 nextIndex[1]: 74  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
term 15 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 74->73
------------------------------------------------------
term 15 leader 2 nextIndex[0]: 62  matchIndex[0]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 44290 term 15 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
term 15 server 0 InstallSnapshot success
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 13 rf.commitIndex 69 rf.lastApplied 69
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 15 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6533 term 15 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 93149 term 15 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
flag 46904 term 15 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 30537 term 15 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
flag 83944 term 15 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 43718 term 15 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
flag 24412 term 15 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 66874 term 15 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83842 term 15 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 50274 term 15 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
flag 35537 term 15 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 79080 term 15 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
flag 44005 term 15 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 70375 term 15 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
term 15 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10739 term 15 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 57898 term 15 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
flag 73571 term 15 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 504 term 15 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
flag 49196 term 15 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 10768 term 15 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
flag 65748 term 15 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 20270 term 15 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50821 term 15 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 27659 term 15 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
flag 6413 term 15 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 40655 term 15 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67045 term 15 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 89672 term 15 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
term 15 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 53236 term 15 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 25204 term 15 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
term 15 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57081 term 15 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 64388 term 15 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
flag 35130 term 15 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 36291 term 15 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73}]
------------------------------------------------------
client write log 6924386019423372222 (index 74) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67420 term 15 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 24827 term 15 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 15 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74}]
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 15 server 0 not vote for server 2, 任期不够新
term 15 server 2 get outdate rpc reply from server 0
flag 43426 term 15 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 56254 term 15 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 15 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74}]
------------------------------------------------------
flag 85552 term 15 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 14638 term 15 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 15 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25607 term 15 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 81625 term 15 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 15 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74}]
------------------------------------------------------
term 15 server 2 not vote for server 0, 任期不够新
term 15 server 0 get outdate rpc reply from server 2
flag 20362 term 15 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 60934 term 15 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 15 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74}]
------------------------------------------------------
flag 1421 term 15 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 20383 term 15 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 15 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 17723 term 15 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 86886 term 15 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 15 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 16183 term 15 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 54294 term 15 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 15 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 67293 term 15 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 27771 term 15 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 15 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
term 16 server 0 vote for server 1
term 16 server 1 get vote from server 0
term 16 server 1 become leader
------------------------------------------------------
flag 28262 term 16 leader 1 nextIndex[0]: 75  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 58247 term 16 leader 1 nextIndex[2]: 75  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74}]
------------------------------------------------------
client write log 6241779358400269383 (index 75) to leader 1
flag 91893 term 15 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 88390 term 15 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 15 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 24802 term 16 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 16 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 5453 term 16 leader 1 nextIndex[2]: 75  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74} {6241779358400269383 16 75}]
------------------------------------------------------
flag 3163 term 15 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 24338 term 15 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 15 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90307 term 16 leader 1 nextIndex[0]: 76  matchIndex[0]: 75
term 16 leader 1 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 16 leaderCommit: 75 
------------------------------------------------------
flag 94456 term 16 leader 1 nextIndex[2]: 75  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74} {6241779358400269383 16 75}]
------------------------------------------------------
client write log 1608017203227069988 (index 76) to leader 1
flag 55778 term 15 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 51428 term 15 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 15 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44258 term 16 leader 1 nextIndex[0]: 76  matchIndex[0]: 75
term 16 leader 1 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 16 leaderCommit: 75 
------------------------------------------------------
flag 24128 term 16 leader 1 nextIndex[2]: 75  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74} {6241779358400269383 16 75} {1608017203227069988 16 76}]
------------------------------------------------------
flag 14281 term 15 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 65335 term 15 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 15 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 82669 term 16 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 16 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 16 leaderCommit: 76 
------------------------------------------------------
flag 35936 term 16 leader 1 nextIndex[2]: 75  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74} {6241779358400269383 16 75} {1608017203227069988 16 76}]
------------------------------------------------------
!!!!!!connect server 2
client write log 7515830269004003466 (index 77) to leader 1
flag 50535 term 15 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 8874 term 15 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 15 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
term 16 server 1 AppendEntries false 领导者任期过期 args.Term 15
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 16 server 0 AppendEntries false 领导者任期过期 args.Term 15
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97865 term 16 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 16 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 16 leaderCommit: 76 
------------------------------------------------------
flag 26424 term 16 leader 1 nextIndex[2]: 75  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74} {6241779358400269383 16 75} {1608017203227069988 16 76} {7515830269004003466 16 77}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74} {6241779358400269383 16 75} {1608017203227069988 16 76} {7515830269004003466 16 77}]
------------------------------------------------------
flag 25840 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 16 leaderCommit: 77 
------------------------------------------------------
flag 69289 term 16 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 16 leaderCommit: 77 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74} {6241779358400269383 16 75} {1608017203227069988 16 76} {7515830269004003466 16 77}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74} {6241779358400269383 16 75} {1608017203227069988 16 76} {7515830269004003466 16 77}]
------------------------------------------------------
flag 40866 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 16 leaderCommit: 77 
------------------------------------------------------
flag 75617 term 16 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 16 leaderCommit: 77 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74} {6241779358400269383 16 75} {1608017203227069988 16 76} {7515830269004003466 16 77}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74} {6241779358400269383 16 75} {1608017203227069988 16 76} {7515830269004003466 16 77}]
------------------------------------------------------
flag 39653 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 16 leaderCommit: 77 
------------------------------------------------------
flag 7317 term 16 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 16 leaderCommit: 77 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74} {6241779358400269383 16 75} {1608017203227069988 16 76} {7515830269004003466 16 77}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74} {6241779358400269383 16 75} {1608017203227069988 16 76} {7515830269004003466 16 77}]
------------------------------------------------------
flag 91990 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 16 leaderCommit: 77 
------------------------------------------------------
flag 88727 term 16 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 16 leaderCommit: 77 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74} {6241779358400269383 16 75} {1608017203227069988 16 76} {7515830269004003466 16 77}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74} {6241779358400269383 16 75} {1608017203227069988 16 76} {7515830269004003466 16 77}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78779 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 16 leaderCommit: 77 
------------------------------------------------------
flag 20723 term 16 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 16 leaderCommit: 77 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74} {6241779358400269383 16 75} {1608017203227069988 16 76} {7515830269004003466 16 77}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74} {6241779358400269383 16 75} {1608017203227069988 16 76} {7515830269004003466 16 77}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 78->77
------------------------------------------------------
term 16 server 1 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 1
flag 45250 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 16 leaderCommit: 77 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 0  matchIndex[2]: 77
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
term 16 server 2 InstallSnapshot fail
rf.commitIndex 77 args.LastIncludedIndex 69
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74} {6241779358400269383 16 75} {1608017203227069988 16 76} {7515830269004003466 16 77}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2962341308046653495 (index 78) to leader 1
flag 48155 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 16 leaderCommit: 77 
------------------------------------------------------
flag 18304 term 16 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 16 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74} {6241779358400269383 16 75} {1608017203227069988 16 76} {7515830269004003466 16 77} {2962341308046653495 16 78}]
------------------------------------------------------
flag 21823 term 16 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
flag 19902 term 16 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 16 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74} {6241779358400269383 16 75} {1608017203227069988 16 76} {7515830269004003466 16 77} {2962341308046653495 16 78}]
------------------------------------------------------
client write log 6858724984419509350 (index 79) to leader 1
client write log 4671645159995904433 (index 80) to leader 1
client write log 176528125361524710 (index 81) to leader 1
client write log 8916179720961021851 (index 82) to leader 1
client write log 807993951119308050 (index 83) to leader 1
client write log 3063968737555346708 (index 84) to leader 1
client write log 8169943524134975223 (index 85) to leader 1
client write log 4856702565017621927 (index 86) to leader 1
client write log 311592466470771179 (index 87) to leader 1
client write log 2318743489300120402 (index 88) to leader 1
client write log 8366649018819180669 (index 89) to leader 1
client write log 3991702342413445307 (index 90) to leader 1
client write log 4488068442510845403 (index 91) to leader 1
client write log 5171659895624962016 (index 92) to leader 1
flag 17625 term 16 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
flag 52263 term 16 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 16 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 13 69} {6373938724903752393 13 70} {5097025275876155811 13 71} {316138580993015710 13 72} {6924386019423372222 13 73} {6924386019423372222 15 74} {6241779358400269383 16 75} {1608017203227069988 16 76} {7515830269004003466 16 77} {2962341308046653495 16 78} {6858724984419509350 16 79} {4671645159995904433 16 80} {176528125361524710 16 81} {8916179720961021851 16 82} {807993951119308050 16 83} {3063968737555346708 16 84} {8169943524134975223 16 85} {4856702565017621927 16 86} {311592466470771179 16 87} {2318743489300120402 16 88} {8366649018819180669 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92}]
------------------------------------------------------
term 16 Server1 start snapshot! index=79
term 16 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=92
-------------------------------------------------------------
term 16 Server1 start snapshot! index=89
term 16 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=92
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41062 term 16 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92}]
------------------------------------------------------
term 16 Server0 start snapshot! index=79
term 16 server0 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=92
-------------------------------------------------------------
term 16 Server0 start snapshot! index=89
term 16 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=92
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1012247660935808504 (index 93) to leader 1
flag 24274 term 16 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
term 17 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 server 1 not vote for server 2, 日志不够新
term 18 server 2 vote for server 1
term 18 server 0 vote for server 1
term 18 server 1 get vote from server 2
term 18 server 1 become leader
------------------------------------------------------
term 18 server 1 get outdate rpc reply from server 0
flag 50207 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 37108 term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 94->93
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
flag 85787 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 78  matchIndex[2]: 0
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
term 18 server 2 InstallSnapshot success
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 16 rf.commitIndex 89 rf.lastApplied 89
term 18 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
flag 50427 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 52992 term 18 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 18 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38310 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 62791 term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29318 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 36087 term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 0 not vote for server 2, 任期不够新
term 18 server 2 get outdate rpc reply from server 0
flag 47297 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 51300 term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
flag 39749 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 48648 term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95233 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 43564 term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
flag 66493 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 5610 term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22293 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 31248 term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
flag 29241 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 62457 term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
flag 9570 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 73060 term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
flag 72242 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 77506 term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90877 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 74779 term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
flag 77175 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 2796 term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
flag 40131 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 86672 term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
flag 22781 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 329 term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
flag 19748 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 94154 term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
flag 7880 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 48612 term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93}]
------------------------------------------------------
client write log 1012247660935808504 (index 94) to leader 1
flag 36033 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 12172 term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93} {1012247660935808504 18 94}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93} {1012247660935808504 18 94}]
------------------------------------------------------
flag 61554 term 18 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 18 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 29731 term 18 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 18 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93} {1012247660935808504 18 94}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93} {1012247660935808504 18 94}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76056 term 18 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 18 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 82677 term 18 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 18 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93} {1012247660935808504 18 94}]
term 18 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93} {1012247660935808504 18 94}]
------------------------------------------------------
flag 86359 term 18 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 18 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 11584 term 18 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 18 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93} {1012247660935808504 18 94}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93} {1012247660935808504 18 94}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76624 term 18 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 18 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 70497 term 18 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 18 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93} {1012247660935808504 18 94}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93} {1012247660935808504 18 94}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14810 term 18 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 18 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 57594 term 18 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 18 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93} {1012247660935808504 18 94}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93} {1012247660935808504 18 94}]
------------------------------------------------------
flag 59875 term 18 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 18 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 43929 term 18 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 18 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93} {1012247660935808504 18 94}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93} {1012247660935808504 18 94}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1296579884966228531 (index 95) to leader 1
flag 67595 term 18 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 18 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 15397 term 18 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 18 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93} {1012247660935808504 18 94} {1296579884966228531 18 95}]
------------------------------------------------------
flag 5210 term 18 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 18 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 95 
------------------------------------------------------
flag 52781 term 18 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 18 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 95 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93} {1012247660935808504 18 94} {1296579884966228531 18 95}]
------------------------------------------------------
client write log 8307041032230473389 (index 96) to leader 1
client write log 8715081116631413819 (index 97) to leader 1
client write log 4434463863330172886 (index 98) to leader 1
client write log 8350728119897102335 (index 99) to leader 1
client write log 478738985540409852 (index 100) to leader 1
client write log 1680210019321128704 (index 101) to leader 1
client write log 5908732087063394801 (index 102) to leader 1
client write log 5607241984397177730 (index 103) to leader 1
client write log 5463053391541163266 (index 104) to leader 1
client write log 6668165189573063644 (index 105) to leader 1
client write log 9097931316697578221 (index 106) to leader 1
client write log 3247371111661575466 (index 107) to leader 1
flag 77770 term 18 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 18 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 95 
------------------------------------------------------
flag 9647 term 18 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 18 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 95 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 89} {3991702342413445307 16 90} {4488068442510845403 16 91} {5171659895624962016 16 92} {1012247660935808504 16 93} {1012247660935808504 18 94} {1296579884966228531 18 95} {8307041032230473389 18 96} {8715081116631413819 18 97} {4434463863330172886 18 98} {8350728119897102335 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107}]
------------------------------------------------------
term 18 Server1 start snapshot! index=99
term 18 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=107
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17783 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107}]
------------------------------------------------------
term 18 Server0 start snapshot! index=99
term 18 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=107
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8175118936459222973 (index 108) to leader 1
term 18 server 1 not vote for server 2, 日志不够新
term 18 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 2 vote for server 1
term 20 server 0 vote for server 1
term 20 server 1 get vote from server 2
term 20 server 1 become leader
------------------------------------------------------
term 20 server 1 get outdate rpc reply from server 0
flag 34979 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 80740 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 109->108
------------------------------------------------------
term 20 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 109->108
------------------------------------------------------
flag 7090 term 20 leader 1 nextIndex[0]: 108  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 95  matchIndex[2]: 0
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
term 20 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 18 rf.commitIndex 99 rf.lastApplied 99
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
flag 17664 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 8234 term 20 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
flag 17772 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 23372 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
flag 26285 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 93802 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
flag 66397 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 48296 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
flag 68774 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 29605 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50190 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 87600 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
flag 92227 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 8339 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
flag 2981 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 79244 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
flag 44888 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 75021 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24325 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 20573 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
flag 26324 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 36700 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
flag 93471 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 88508 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82606 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 28401 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71468 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 72615 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 20 server 2 not vote for server 1, 任期不够新
term 20 server 1 get outdate rpc reply from server 2
flag 82847 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 30411 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26965 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 23445 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
flag 65176 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 91509 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108}]
------------------------------------------------------
client write log 8175118936459222973 (index 109) to leader 1
flag 57521 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 78593 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108} {8175118936459222973 20 109}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 99} {478738985540409852 18 100} {1680210019321128704 18 101} {5908732087063394801 18 102} {5607241984397177730 18 103} {5463053391541163266 18 104} {6668165189573063644 18 105} {9097931316697578221 18 106} {3247371111661575466 18 107} {8175118936459222973 18 108} {8175118936459222973 20 109}]
------------------------------------------------------
term 20 Server1 start snapshot! index=109
term 20 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
flag 43503 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 55648 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
term 20 Server2 start snapshot! index=109
term 20 Server0 start snapshot! index=109
term 20 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
term 20 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5057 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 3827 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
flag 22922 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 15254 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
flag 53839 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 58581 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
flag 13429 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 34298 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
flag 54941 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 37987 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 61057 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 48089 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69590 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 95958 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 37575 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 39213 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 89322 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 56135 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 21 server 0 vote for server 2
term 21 server 2 get vote from server 0
term 21 server 2 become leader
------------------------------------------------------
flag 27423 term 21 leader 2 nextIndex[0]: 110  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 30955 term 21 leader 2 nextIndex[1]: 110  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
client write log 4308883235300831151 (index 110) to leader 2
flag 17988 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 47086 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 7932 term 21 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 33024 term 21 leader 2 nextIndex[1]: 110  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 20 109} {4308883235300831151 21 110}]
------------------------------------------------------
flag 73394 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 73460 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 57720 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 45020 term 21 leader 2 nextIndex[1]: 110  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 20 109} {4308883235300831151 21 110}]
------------------------------------------------------
client write log 9163915449596729763 (index 111) to leader 2
client write log 1757301857025955825 (index 112) to leader 2
client write log 5526583365698382034 (index 113) to leader 2
client write log 8071443327518654491 (index 114) to leader 2
client write log 2059982917944642105 (index 115) to leader 2
client write log 1492866287925386991 (index 116) to leader 2
flag 98393 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 13639 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 8519 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 11596 term 21 leader 2 nextIndex[1]: 110  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 110->109
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 leader 1 nextIndex[0]: 0  matchIndex[0]: 109
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
flag 18213 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 51039 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 96504 term 21 leader 2 nextIndex[1]: 110  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5958726355132469462 (index 110) to leader 1
term 20 leader 1 nextIndex[0]: 0  matchIndex[0]: 109
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
flag 44283 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 21 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 server 2 AppendEntries false 领导者任期过期 args.Term 20
------------------------------------------------------
term 20 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64514 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 57247 term 21 leader 2 nextIndex[1]: 110  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
flag 54832 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 20814 term 21 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42945 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 63767 term 21 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
flag 60962 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 62048 term 21 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
flag 24616 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 79076 term 21 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 117->116
------------------------------------------------------
flag 48180 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 leader 2 nextIndex[1]: 0  matchIndex[1]: 116
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
term 21 server 1 InstallSnapshot fail
rf.commitIndex 116 args.LastIncludedIndex 109
------------------------------------------------------
term 21 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
flag 44146 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 96523 term 21 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
flag 89540 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 44522 term 21 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88493 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 98828 term 21 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
flag 53099 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 84625 term 21 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47722 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 40347 term 21 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
flag 84669 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 68021 term 21 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
flag 42886 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 6053 term 21 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
flag 40297 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 68263 term 21 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
flag 82717 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 81191 term 21 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
flag 84407 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 81674 term 21 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
flag 6225 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 1923 term 21 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88626 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 82215 term 21 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
flag 242 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 86136 term 21 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116}]
------------------------------------------------------
flag 25158 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 45672 term 21 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
client write log 5958726355132469462 (index 117) to leader 2
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116} {5958726355132469462 21 117}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116} {5958726355132469462 21 117}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26488 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 12020 term 21 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116} {5958726355132469462 21 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116} {5958726355132469462 21 117}]
------------------------------------------------------
flag 86858 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 21 leaderCommit: 117 
------------------------------------------------------
flag 1202 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 21 leaderCommit: 117 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116} {5958726355132469462 21 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116} {5958726355132469462 21 117}]
------------------------------------------------------
flag 88325 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 21 leaderCommit: 117 
------------------------------------------------------
flag 93965 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 21 leaderCommit: 117 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116} {5958726355132469462 21 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116} {5958726355132469462 21 117}]
------------------------------------------------------
flag 93957 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 21 leaderCommit: 117 
------------------------------------------------------
flag 60430 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 21 leaderCommit: 117 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116} {5958726355132469462 21 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116} {5958726355132469462 21 117}]
------------------------------------------------------
flag 9842 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 21 leaderCommit: 117 
------------------------------------------------------
flag 45181 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 21 leaderCommit: 117 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116} {5958726355132469462 21 117}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116} {5958726355132469462 21 117}]
------------------------------------------------------
flag 96170 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 21 leaderCommit: 117 
------------------------------------------------------
flag 63104 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 21 leaderCommit: 117 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116} {5958726355132469462 21 117}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116} {5958726355132469462 21 117}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4565068483806043233 (index 118) to leader 2
flag 43191 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 21 leaderCommit: 117 
------------------------------------------------------
flag 93757 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 21 leaderCommit: 117 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116} {5958726355132469462 21 117} {4565068483806043233 21 118}]
------------------------------------------------------
flag 56959 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 9386 term 21 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116} {5958726355132469462 21 117} {4565068483806043233 21 118}]
------------------------------------------------------
client write log 6768011612936153563 (index 119) to leader 2
client write log 6007917326058640752 (index 120) to leader 2
client write log 3267609934805964063 (index 121) to leader 2
client write log 4895596535166025519 (index 122) to leader 2
client write log 3382777804061621623 (index 123) to leader 2
client write log 2943286566993560897 (index 124) to leader 2
client write log 6265164515637030945 (index 125) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 119->118
------------------------------------------------------
flag 62907 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 leader 2 nextIndex[1]: 0  matchIndex[1]: 118
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
term 21 server 1 InstallSnapshot fail
rf.commitIndex 118 args.LastIncludedIndex 109
------------------------------------------------------
term 21 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
term 21 server 1 not vote for server 2, 日志不够新
term 21 server 2 get outdate rpc reply from server 1
flag 59301 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 21753 term 21 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 118 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 20 109} {4308883235300831151 21 110} {9163915449596729763 21 111} {1757301857025955825 21 112} {5526583365698382034 21 113} {8071443327518654491 21 114} {2059982917944642105 21 115} {1492866287925386991 21 116} {5958726355132469462 21 117} {4565068483806043233 21 118} {6768011612936153563 21 119} {6007917326058640752 21 120} {3267609934805964063 21 121} {4895596535166025519 21 122} {3382777804061621623 21 123} {2943286566993560897 21 124} {6265164515637030945 21 125}]
------------------------------------------------------
term 21 Server2 start snapshot! index=119
term 21 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=125
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 83934 term 21 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {6007917326058640752 21 120} {3267609934805964063 21 121} {4895596535166025519 21 122} {3382777804061621623 21 123} {2943286566993560897 21 124} {6265164515637030945 21 125}]
------------------------------------------------------
term 21 Server1 start snapshot! index=119
term 21 server1 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=125
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5267159837012368090 (index 126) to leader 2
term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 12334 term 21 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
term 22 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {6007917326058640752 21 120} {3267609934805964063 21 121} {4895596535166025519 21 122} {3382777804061621623 21 123} {2943286566993560897 21 124} {6265164515637030945 21 125} {5267159837012368090 21 126}]
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 server 0 vote for server 2
term 23 server 2 get vote from server 0
term 23 server 2 become leader
------------------------------------------------------
term 23 server 1 vote for server 2
term 23 server 2 get outdate rpc reply from server 1
flag 64445 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
flag 13839 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {6007917326058640752 21 120} {3267609934805964063 21 121} {4895596535166025519 21 122} {3382777804061621623 21 123} {2943286566993560897 21 124} {6265164515637030945 21 125} {5267159837012368090 21 126}]
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 127->126
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 118  matchIndex[0]: 0
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 56430 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {6007917326058640752 21 120} {3267609934805964063 21 121} {4895596535166025519 21 122} {3382777804061621623 21 123} {2943286566993560897 21 124} {6265164515637030945 21 125} {5267159837012368090 21 126}]
------------------------------------------------------
term 23 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 21 rf.commitIndex 119 rf.lastApplied 119
term 23 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 120 matchIndex[0] 119 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97531 term 23 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
flag 90587 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {6007917326058640752 21 120} {3267609934805964063 21 121} {4895596535166025519 21 122} {3382777804061621623 21 123} {2943286566993560897 21 124} {6265164515637030945 21 125} {5267159837012368090 21 126}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {6007917326058640752 21 120} {3267609934805964063 21 121} {4895596535166025519 21 122} {3382777804061621623 21 123} {2943286566993560897 21 124} {6265164515637030945 21 125} {5267159837012368090 21 126}]
------------------------------------------------------
flag 49152 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
flag 64379 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {6007917326058640752 21 120} {3267609934805964063 21 121} {4895596535166025519 21 122} {3382777804061621623 21 123} {2943286566993560897 21 124} {6265164515637030945 21 125} {5267159837012368090 21 126}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {6007917326058640752 21 120} {3267609934805964063 21 121} {4895596535166025519 21 122} {3382777804061621623 21 123} {2943286566993560897 21 124} {6265164515637030945 21 125} {5267159837012368090 21 126}]
------------------------------------------------------
flag 17065 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
flag 29124 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {6007917326058640752 21 120} {3267609934805964063 21 121} {4895596535166025519 21 122} {3382777804061621623 21 123} {2943286566993560897 21 124} {6265164515637030945 21 125} {5267159837012368090 21 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {6007917326058640752 21 120} {3267609934805964063 21 121} {4895596535166025519 21 122} {3382777804061621623 21 123} {2943286566993560897 21 124} {6265164515637030945 21 125} {5267159837012368090 21 126}]
------------------------------------------------------
flag 19499 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
flag 82404 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {6007917326058640752 21 120} {3267609934805964063 21 121} {4895596535166025519 21 122} {3382777804061621623 21 123} {2943286566993560897 21 124} {6265164515637030945 21 125} {5267159837012368090 21 126}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {6007917326058640752 21 120} {3267609934805964063 21 121} {4895596535166025519 21 122} {3382777804061621623 21 123} {2943286566993560897 21 124} {6265164515637030945 21 125} {5267159837012368090 21 126}]
------------------------------------------------------
flag 26378 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
flag 60326 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {6007917326058640752 21 120} {3267609934805964063 21 121} {4895596535166025519 21 122} {3382777804061621623 21 123} {2943286566993560897 21 124} {6265164515637030945 21 125} {5267159837012368090 21 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {6007917326058640752 21 120} {3267609934805964063 21 121} {4895596535166025519 21 122} {3382777804061621623 21 123} {2943286566993560897 21 124} {6265164515637030945 21 125} {5267159837012368090 21 126}]
------------------------------------------------------
flag 33549 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
flag 92619 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {6007917326058640752 21 120} {3267609934805964063 21 121} {4895596535166025519 21 122} {3382777804061621623 21 123} {2943286566993560897 21 124} {6265164515637030945 21 125} {5267159837012368090 21 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {6007917326058640752 21 120} {3267609934805964063 21 121} {4895596535166025519 21 122} {3382777804061621623 21 123} {2943286566993560897 21 124} {6265164515637030945 21 125} {5267159837012368090 21 126}]
------------------------------------------------------
term 23 server 1 not vote for server 0, 任期不够新
term 23 server 0 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50794 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
flag 78901 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {6007917326058640752 21 120} {3267609934805964063 21 121} {4895596535166025519 21 122} {3382777804061621623 21 123} {2943286566993560897 21 124} {6265164515637030945 21 125} {5267159837012368090 21 126}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {6007917326058640752 21 120} {3267609934805964063 21 121} {4895596535166025519 21 122} {3382777804061621623 21 123} {2943286566993560897 21 124} {6265164515637030945 21 125} {5267159837012368090 21 126}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6046202281289606614 (index 127) to leader 2
flag 40148 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
flag 62226 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6007917326058640752 21 120} {3267609934805964063 21 121} {4895596535166025519 21 122} {3382777804061621623 21 123} {2943286566993560897 21 124} {6265164515637030945 21 125} {5267159837012368090 21 126} {6046202281289606614 23 127}]
------------------------------------------------------
flag 89756 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 63065 term 23 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6007917326058640752 21 120} {3267609934805964063 21 121} {4895596535166025519 21 122} {3382777804061621623 21 123} {2943286566993560897 21 124} {6265164515637030945 21 125} {5267159837012368090 21 126} {6046202281289606614 23 127}]
------------------------------------------------------
client write log 5178656041470577142 (index 128) to leader 2
client write log 4065820296927912469 (index 129) to leader 2
client write log 938755762465394301 (index 130) to leader 2
client write log 366084132409611876 (index 131) to leader 2
client write log 6414354006455201191 (index 132) to leader 2
client write log 4031041052290469534 (index 133) to leader 2
client write log 246443752407174330 (index 134) to leader 2
client write log 8212893973529207065 (index 135) to leader 2
client write log 6381595623053967129 (index 136) to leader 2
client write log 7542507068825211627 (index 137) to leader 2
client write log 5726957981711125251 (index 138) to leader 2
client write log 4997979015254692802 (index 139) to leader 2
client write log 7632019701904475611 (index 140) to leader 2
flag 7328 term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 75645 term 23 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 119} {6007917326058640752 21 120} {3267609934805964063 21 121} {4895596535166025519 21 122} {3382777804061621623 21 123} {2943286566993560897 21 124} {6265164515637030945 21 125} {5267159837012368090 21 126} {6046202281289606614 23 127} {5178656041470577142 23 128} {4065820296927912469 23 129} {938755762465394301 23 130} {366084132409611876 23 131} {6414354006455201191 23 132} {4031041052290469534 23 133} {246443752407174330 23 134} {8212893973529207065 23 135} {6381595623053967129 23 136} {7542507068825211627 23 137} {5726957981711125251 23 138} {4997979015254692802 23 139} {7632019701904475611 23 140}]
------------------------------------------------------
term 23 Server2 start snapshot! index=129
term 23 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=140
-------------------------------------------------------------
term 23 Server2 start snapshot! index=139
term 23 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=140
-------------------------------------------------------------
term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 14396 term 23 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140}]
------------------------------------------------------
term 23 Server1 start snapshot! index=129
term 23 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=140
-------------------------------------------------------------
term 23 Server1 start snapshot! index=139
term 23 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=140
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7877863965859775871 (index 141) to leader 2
term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 71408 term 23 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 24 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 server 1 vote for server 2
term 25 server 0 vote for server 2
term 25 server 2 get vote from server 1
term 25 server 2 become leader
------------------------------------------------------
term 25 server 2 get outdate rpc reply from server 0
flag 89147 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 31285 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 142->141
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 leader 2 nextIndex[0]: 127  matchIndex[0]: 0
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 85418 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 0 InstallSnapshot success
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 23 rf.commitIndex 139 rf.lastApplied 139
flag 34029 term 25 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 25 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 80159 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71767 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 45865 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
flag 26284 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 37596 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
flag 31481 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 71316 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55961 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 72827 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70740 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 87724 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19192 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 2143 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36989 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 64996 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
flag 64001 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 63263 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 server 2 not vote for server 0, 任期不够新
term 25 server 0 get outdate rpc reply from server 2
flag 15875 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 24707 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98516 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 42603 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
flag 33270 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 89496 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20943 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 43428 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
flag 73238 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 62779 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
flag 59396 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 77853 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6628 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 18527 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38306 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 92341 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
client write log 7877863965859775871 (index 142) to leader 2
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99302 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 84200 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142}]
------------------------------------------------------
flag 96702 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 3108 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142}]
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44039 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 55500 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142}]
------------------------------------------------------
flag 96521 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 21537 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142}]
------------------------------------------------------
flag 38700 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 52288 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142}]
------------------------------------------------------
flag 38886 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 20203 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142}]
------------------------------------------------------
flag 26611 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 81244 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 93155 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 42415 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 7416 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 12245 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 50058 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 4647 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 48589 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 41620 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 26 server 0 vote for server 1
term 26 server 1 get vote from server 0
term 26 server 1 become leader
------------------------------------------------------
flag 99149 term 26 leader 1 nextIndex[0]: 143  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 58121 term 26 leader 1 nextIndex[2]: 143  matchIndex[2]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142}]
------------------------------------------------------
client write log 1148243377525835226 (index 143) to leader 1
flag 33928 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 58197 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 51523 term 26 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 26 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 15558 term 26 leader 1 nextIndex[2]: 143  matchIndex[2]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142} {1148243377525835226 26 143}]
------------------------------------------------------
flag 71264 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 56693 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 34450 term 26 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 26 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 26 leaderCommit: 143 
------------------------------------------------------
flag 65933 term 26 leader 1 nextIndex[2]: 143  matchIndex[2]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142} {1148243377525835226 26 143}]
------------------------------------------------------
client write log 7270457063744995310 (index 144) to leader 1
flag 10230 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 58339 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 26 server 1 not vote for server 0, 任期不够新
term 26 server 0 get outdate rpc reply from server 1
flag 49400 term 26 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 26 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 26 leaderCommit: 143 
------------------------------------------------------
flag 37283 term 26 leader 1 nextIndex[2]: 143  matchIndex[2]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142} {1148243377525835226 26 143} {7270457063744995310 26 144}]
------------------------------------------------------
flag 53188 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 25843 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 25441 term 26 leader 1 nextIndex[0]: 145  matchIndex[0]: 144
term 26 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 26 leaderCommit: 144 
------------------------------------------------------
flag 13925 term 26 leader 1 nextIndex[2]: 143  matchIndex[2]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142} {1148243377525835226 26 143} {7270457063744995310 26 144}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5130880837413906117 (index 145) to leader 1
flag 58947 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 61475 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 26 server 0 AppendEntries false 领导者任期过期 args.Term 25
------------------------------------------------------
term 26 server 1 AppendEntries false 领导者任期过期 args.Term 25
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15242 term 26 leader 1 nextIndex[0]: 145  matchIndex[0]: 144
term 26 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 26 leaderCommit: 144 
------------------------------------------------------
flag 1887 term 26 leader 1 nextIndex[2]: 143  matchIndex[2]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142} {1148243377525835226 26 143} {7270457063744995310 26 144} {5130880837413906117 26 145}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142} {1148243377525835226 26 143} {7270457063744995310 26 144} {5130880837413906117 26 145}]
------------------------------------------------------
flag 29798 term 26 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 26 leaderCommit: 145 
------------------------------------------------------
flag 55458 term 26 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 26 leaderCommit: 145 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142} {1148243377525835226 26 143} {7270457063744995310 26 144} {5130880837413906117 26 145}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142} {1148243377525835226 26 143} {7270457063744995310 26 144} {5130880837413906117 26 145}]
------------------------------------------------------
flag 97304 term 26 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 26 leaderCommit: 145 
------------------------------------------------------
flag 82391 term 26 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 26 leaderCommit: 145 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142} {1148243377525835226 26 143} {7270457063744995310 26 144} {5130880837413906117 26 145}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142} {1148243377525835226 26 143} {7270457063744995310 26 144} {5130880837413906117 26 145}]
------------------------------------------------------
flag 27004 term 26 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 26 leaderCommit: 145 
------------------------------------------------------
flag 72206 term 26 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 26 leaderCommit: 145 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142} {1148243377525835226 26 143} {7270457063744995310 26 144} {5130880837413906117 26 145}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142} {1148243377525835226 26 143} {7270457063744995310 26 144} {5130880837413906117 26 145}]
------------------------------------------------------
flag 50482 term 26 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 26 leaderCommit: 145 
------------------------------------------------------
flag 15455 term 26 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 26 leaderCommit: 145 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142} {1148243377525835226 26 143} {7270457063744995310 26 144} {5130880837413906117 26 145}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142} {1148243377525835226 26 143} {7270457063744995310 26 144} {5130880837413906117 26 145}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 146->145
------------------------------------------------------
term 26 server 2 not vote for server 0, 任期不够新
term 26 server 0 get outdate rpc reply from server 2
flag 66621 term 26 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 26 leaderCommit: 145 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 0  matchIndex[2]: 145
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
term 26 server 2 InstallSnapshot fail
rf.commitIndex 145 args.LastIncludedIndex 139
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142} {1148243377525835226 26 143} {7270457063744995310 26 144} {5130880837413906117 26 145}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6109135590486111742 (index 146) to leader 1
flag 86314 term 26 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 26 leaderCommit: 145 
------------------------------------------------------
flag 23627 term 26 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 26 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 145 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142} {1148243377525835226 26 143} {7270457063744995310 26 144} {5130880837413906117 26 145} {6109135590486111742 26 146}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46671 term 26 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 26 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 26 leaderCommit: 146 
------------------------------------------------------
flag 59307 term 26 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 26 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 146 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142} {1148243377525835226 26 143} {7270457063744995310 26 144} {5130880837413906117 26 145} {6109135590486111742 26 146}]
------------------------------------------------------
client write log 2640315435185211078 (index 147) to leader 1
client write log 5667003722748405992 (index 148) to leader 1
client write log 3761577978415634771 (index 149) to leader 1
client write log 4326391984686129257 (index 150) to leader 1
client write log 4987375487449662622 (index 151) to leader 1
client write log 5556850266073778456 (index 152) to leader 1
client write log 8807681075398768828 (index 153) to leader 1
client write log 8997474282296110222 (index 154) to leader 1
flag 94882 term 26 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 26 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 26 leaderCommit: 146 
------------------------------------------------------
flag 5790 term 26 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 26 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 146 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 23 139} {7632019701904475611 23 140} {7877863965859775871 23 141} {7877863965859775871 25 142} {1148243377525835226 26 143} {7270457063744995310 26 144} {5130880837413906117 26 145} {6109135590486111742 26 146} {2640315435185211078 26 147} {5667003722748405992 26 148} {3761577978415634771 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154}]
------------------------------------------------------
term 26 Server1 start snapshot! index=149
term 26 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=154
-------------------------------------------------------------
flag 96946 term 26 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 26 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154}]
------------------------------------------------------
term 26 Server0 start snapshot! index=149
term 26 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=154
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3907775370382497342 (index 155) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 140->139
------------------------------------------------------
flag 43835 term 26 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 26 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 0  matchIndex[2]: 139
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
term 27 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 2 vote for server 1
term 28 server 0 vote for server 1
term 28 server 1 get vote from server 0
term 28 server 1 become leader
------------------------------------------------------
term 28 server 1 get outdate rpc reply from server 2
flag 82658 term 28 leader 1 nextIndex[0]: 156  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 45277 term 28 leader 1 nextIndex[2]: 156  matchIndex[2]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 156->155
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
flag 69660 term 28 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 146  matchIndex[2]: 0
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
term 28 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 26 rf.commitIndex 149 rf.lastApplied 149
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4876 term 28 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 63708 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
update nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37505 term 28 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 83900 term 28 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48431 term 28 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 59347 term 28 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
flag 77855 term 28 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 86623 term 28 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
flag 67872 term 28 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 89683 term 28 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
flag 57101 term 28 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 10434 term 28 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
flag 26990 term 28 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 99511 term 28 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
flag 63045 term 28 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 64575 term 28 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
flag 73961 term 28 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 69426 term 28 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
flag 4062 term 28 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 38890 term 28 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
flag 84092 term 28 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 168 term 28 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
flag 55859 term 28 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 15252 term 28 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
flag 46208 term 28 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 61892 term 28 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
flag 28193 term 28 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 79406 term 28 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
flag 15885 term 28 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 78602 term 28 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 206 term 28 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 97786 term 28 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74794 term 28 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 92638 term 28 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155}]
------------------------------------------------------
client write log 3907775370382497342 (index 156) to leader 1
flag 76352 term 28 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 85411 term 28 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155} {3907775370382497342 28 156}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155} {3907775370382497342 28 156}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22569 term 28 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 55149 term 28 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 28 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155} {3907775370382497342 28 156}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155} {3907775370382497342 28 156}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68708 term 28 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 17537 term 28 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 28 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155} {3907775370382497342 28 156}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155} {3907775370382497342 28 156}]
------------------------------------------------------
flag 63052 term 28 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 40147 term 28 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 28 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155} {3907775370382497342 28 156}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155} {3907775370382497342 28 156}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75884 term 28 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 81415 term 28 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 28 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155} {3907775370382497342 28 156}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155} {3907775370382497342 28 156}]
------------------------------------------------------
flag 13295 term 28 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 23836 term 28 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 28 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155} {3907775370382497342 28 156}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155} {3907775370382497342 28 156}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34912 term 28 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 63796 term 28 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 28 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155} {3907775370382497342 28 156}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155} {3907775370382497342 28 156}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4025525914754727157 (index 157) to leader 1
flag 56102 term 28 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 84057 term 28 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 28 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155} {3907775370382497342 28 156} {4025525914754727157 28 157}]
------------------------------------------------------
flag 81663 term 28 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 59731 term 28 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 28 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155} {3907775370382497342 28 156} {4025525914754727157 28 157}]
------------------------------------------------------
client write log 5865411299864850867 (index 158) to leader 1
client write log 8665098196580652989 (index 159) to leader 1
client write log 7839707427354725102 (index 160) to leader 1
client write log 427565780822532496 (index 161) to leader 1
client write log 4807054748181742189 (index 162) to leader 1
client write log 4950034345236527182 (index 163) to leader 1
client write log 6953674787964657078 (index 164) to leader 1
client write log 2476510260826144596 (index 165) to leader 1
client write log 7808929946971168267 (index 166) to leader 1
client write log 4664844786933098624 (index 167) to leader 1
client write log 1698540602719011227 (index 168) to leader 1
client write log 1788192018586713189 (index 169) to leader 1
client write log 6356172922610799524 (index 170) to leader 1
client write log 574747586369084358 (index 171) to leader 1
flag 72963 term 28 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 12161 term 28 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 28 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 26 149} {4326391984686129257 26 150} {4987375487449662622 26 151} {5556850266073778456 26 152} {8807681075398768828 26 153} {8997474282296110222 26 154} {3907775370382497342 26 155} {3907775370382497342 28 156} {4025525914754727157 28 157} {5865411299864850867 28 158} {8665098196580652989 28 159} {7839707427354725102 28 160} {427565780822532496 28 161} {4807054748181742189 28 162} {4950034345236527182 28 163} {6953674787964657078 28 164} {2476510260826144596 28 165} {7808929946971168267 28 166} {4664844786933098624 28 167} {1698540602719011227 28 168} {1788192018586713189 28 169} {6356172922610799524 28 170} {574747586369084358 28 171}]
------------------------------------------------------
term 28 Server1 start snapshot! index=159
term 28 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=171
-------------------------------------------------------------
term 28 Server1 start snapshot! index=169
term 28 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=171
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87211 term 28 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 28 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171}]
------------------------------------------------------
term 28 Server0 start snapshot! index=159
term 28 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=171
-------------------------------------------------------------
term 28 Server0 start snapshot! index=169
term 28 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=171
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1055120464296098323 (index 172) to leader 1
term 28 server 1 not vote for server 2, 日志不够新
term 28 server 0 not vote for server 2, 日志不够新
term 30 server 2 vote for server 1
term 30 server 0 vote for server 1
term 30 server 1 get vote from server 2
term 30 server 1 become leader
------------------------------------------------------
term 30 server 1 get outdate rpc reply from server 0
flag 92022 term 30 leader 1 nextIndex[0]: 173  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 73393 term 30 leader 1 nextIndex[2]: 173  matchIndex[2]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 173->172
------------------------------------------------------
term 30 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 173->172
------------------------------------------------------
flag 80915 term 30 leader 1 nextIndex[0]: 172  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 157  matchIndex[2]: 0
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
term 30 server 2 InstallSnapshot success
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 28 rf.commitIndex 169 rf.lastApplied 169
term 30 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
flag 94633 term 30 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 20765 term 30 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
flag 15721 term 30 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 22860 term 30 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
flag 99629 term 30 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 38125 term 30 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
flag 85441 term 30 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 78834 term 30 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
term 30 server 1 not vote for server 2, 任期不够新
term 30 server 2 get outdate rpc reply from server 1
flag 51169 term 30 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 62363 term 30 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
flag 63515 term 30 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 20900 term 30 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 2 not vote for server 1, 任期不够新
term 30 server 1 get outdate rpc reply from server 2
flag 95623 term 30 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 36910 term 30 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40310 term 30 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 95144 term 30 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
flag 16779 term 30 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 24460 term 30 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
flag 10733 term 30 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 99663 term 30 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
flag 18427 term 30 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 94970 term 30 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
flag 68528 term 30 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 14744 term 30 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
flag 61842 term 30 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 65907 term 30 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
flag 22414 term 30 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 44035 term 30 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
flag 21952 term 30 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 63598 term 30 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68729 term 30 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 40919 term 30 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54222 term 30 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 83710 term 30 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58017 term 30 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 42667 term 30 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172}]
------------------------------------------------------
client write log 1055120464296098323 (index 173) to leader 1
flag 86294 term 30 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 62323 term 30 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 30 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173}]
------------------------------------------------------
flag 78035 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 355 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173}]
------------------------------------------------------
flag 64607 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 12513 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173}]
------------------------------------------------------
flag 58342 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 26585 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173}]
------------------------------------------------------
term 30 server 0 not vote for server 2, 任期不够新
term 30 server 2 get outdate rpc reply from server 0
flag 77479 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 83222 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
term 30 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173}]
------------------------------------------------------
flag 1230 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 6643 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173}]
------------------------------------------------------
term 30 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 53032 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 95627 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 92239 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 28864 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 87404 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 64628 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 59587 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 95123 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 31 server 2 vote for server 0
term 31 server 0 get vote from server 2
term 31 server 0 become leader
------------------------------------------------------
flag 56196 term 31 leader 0 nextIndex[1]: 174  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 49558 term 31 leader 0 nextIndex[2]: 174  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173}]
------------------------------------------------------
client write log 7546078052499494941 (index 174) to leader 0
flag 5546 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 6813 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 90366 term 31 leader 0 nextIndex[1]: 174  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 93354 term 31 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 31 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174}]
------------------------------------------------------
flag 45002 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 3061 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 174->173
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 20613 term 31 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 31 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 31 leaderCommit: 174 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174}]
------------------------------------------------------
client write log 6721201437915056672 (index 175) to leader 0
flag 31795 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 2086 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 17587 term 31 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 31 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 31 leaderCommit: 174 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
flag 24522 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 6450 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 28549 term 31 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 4506164696751836789 (index 174) to leader 1
flag 72893 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 86492 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 31 server 2 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 31 server 0 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
flag 2559 term 31 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 31 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 99438 term 31 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
flag 57105 term 31 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
flag 8657 term 31 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47573 term 31 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
flag 64042 term 31 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
flag 75964 term 31 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
flag 46830 term 31 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
flag 54906 term 31 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
flag 49016 term 31 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
flag 91887 term 31 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
flag 10635 term 31 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
flag 48834 term 31 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 31 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 41995 term 31 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
flag 80236 term 31 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
flag 22351 term 31 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93316 term 31 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
flag 26235 term 31 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9237 term 31 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
flag 65696 term 31 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
flag 87146 term 31 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
flag 98624 term 31 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
flag 75358 term 31 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
flag 7602 term 31 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
flag 68302 term 31 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
flag 83114 term 31 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
flag 29611 term 31 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
flag 89050 term 31 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
flag 7451 term 31 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
flag 51871 term 31 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47357 term 31 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
flag 11994 term 31 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
flag 64217 term 31 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
flag 82353 term 31 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
flag 21949 term 31 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
flag 76250 term 31 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1436 term 31 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
flag 35867 term 31 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
flag 967 term 31 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
flag 25219 term 31 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175}]
------------------------------------------------------
client write log 4506164696751836789 (index 176) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31013 term 31 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
flag 39023 term 31 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175} {4506164696751836789 31 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175} {4506164696751836789 31 176}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99557 term 31 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 96555 term 31 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175} {4506164696751836789 31 176}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175} {4506164696751836789 31 176}]
------------------------------------------------------
flag 90320 term 31 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 2150 term 31 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175} {4506164696751836789 31 176}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175} {4506164696751836789 31 176}]
------------------------------------------------------
flag 49801 term 31 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 80754 term 31 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175} {4506164696751836789 31 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175} {4506164696751836789 31 176}]
------------------------------------------------------
flag 79642 term 31 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 79709 term 31 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175} {4506164696751836789 31 176}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175} {4506164696751836789 31 176}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79185 term 31 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 89686 term 31 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175} {4506164696751836789 31 176}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175} {4506164696751836789 31 176}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4196165993946505877 (index 177) to leader 0
flag 90585 term 31 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 99715 term 31 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175} {4506164696751836789 31 176} {4196165993946505877 31 177}]
------------------------------------------------------
flag 67729 term 31 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 177 
------------------------------------------------------
flag 50238 term 31 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 31 leaderCommit: 177 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175} {4506164696751836789 31 176} {4196165993946505877 31 177}]
------------------------------------------------------
client write log 4842638654079179661 (index 178) to leader 0
client write log 7783976339921317570 (index 179) to leader 0
client write log 405238886592874579 (index 180) to leader 0
client write log 140861297229322727 (index 181) to leader 0
client write log 5003774965812689181 (index 182) to leader 0
client write log 1789048764739315585 (index 183) to leader 0
client write log 3512019545182289806 (index 184) to leader 0
flag 53458 term 31 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 177 
------------------------------------------------------
flag 77723 term 31 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 31 leaderCommit: 177 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 28 169} {6356172922610799524 28 170} {574747586369084358 28 171} {1055120464296098323 28 172} {1055120464296098323 30 173} {7546078052499494941 31 174} {6721201437915056672 31 175} {4506164696751836789 31 176} {4196165993946505877 31 177} {4842638654079179661 31 178} {7783976339921317570 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184}]
------------------------------------------------------
term 31 Server0 start snapshot! index=179
term 31 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=184
-------------------------------------------------------------
term 31 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
flag 1360 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184}]
------------------------------------------------------
term 31 Server2 start snapshot! index=179
term 31 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=184
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7981082201726504019 (index 185) to leader 0
term 31 server 2 not vote for server 1, 日志不够新
term 31 server 0 not vote for server 1, 日志不够新
term 33 server 2 vote for server 0
term 33 server 1 vote for server 0
term 33 server 0 get vote from server 2
term 33 server 0 become leader
------------------------------------------------------
term 33 server 0 get outdate rpc reply from server 1
flag 64613 term 33 leader 0 nextIndex[1]: 186  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 26581 term 33 leader 0 nextIndex[2]: 186  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 33 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 186->185
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 186->185
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 177  matchIndex[1]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
flag 72142 term 33 leader 0 nextIndex[2]: 185  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
term 33 server 1 InstallSnapshot success
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 31 rf.commitIndex 179 rf.lastApplied 179
flag 54772 term 33 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 55163 term 33 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:179 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
term 33 server 1 not vote for server 0, 任期不够新
term 33 server 0 get outdate rpc reply from server 1
flag 31301 term 33 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 16507 term 33 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
flag 7229 term 33 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 67033 term 33 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
flag 17081 term 33 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 86110 term 33 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
flag 49026 term 33 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 25280 term 33 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
flag 84549 term 33 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 56754 term 33 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
flag 88061 term 33 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 64688 term 33 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85040 term 33 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 50120 term 33 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
flag 60071 term 33 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 91256 term 33 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88144 term 33 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 57320 term 33 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
flag 93537 term 33 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 58476 term 33 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
flag 36211 term 33 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 39156 term 33 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
flag 95123 term 33 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 90252 term 33 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
flag 63258 term 33 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 34173 term 33 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
flag 60264 term 33 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 83515 term 33 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80069 term 33 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 19619 term 33 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
flag 80828 term 33 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 3449 term 33 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
flag 12865 term 33 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 42468 term 33 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185}]
------------------------------------------------------
client write log 7981082201726504019 (index 186) to leader 0
flag 9037 term 33 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 23609 term 33 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 33 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185} {7981082201726504019 33 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185} {7981082201726504019 33 186}]
------------------------------------------------------
flag 36062 term 33 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 33 leaderCommit: 186 
------------------------------------------------------
flag 56059 term 33 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 33 leaderCommit: 186 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185} {7981082201726504019 33 186}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185} {7981082201726504019 33 186}]
------------------------------------------------------
flag 9831 term 33 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 33 leaderCommit: 186 
------------------------------------------------------
flag 45135 term 33 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 33 leaderCommit: 186 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185} {7981082201726504019 33 186}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185} {7981082201726504019 33 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31389 term 33 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 33 leaderCommit: 186 
------------------------------------------------------
flag 41679 term 33 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 33 leaderCommit: 186 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185} {7981082201726504019 33 186}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185} {7981082201726504019 33 186}]
------------------------------------------------------
flag 20643 term 33 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 33 leaderCommit: 186 
------------------------------------------------------
flag 25152 term 33 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 33 leaderCommit: 186 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185} {7981082201726504019 33 186}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185} {7981082201726504019 33 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20302 term 33 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 33 leaderCommit: 186 
------------------------------------------------------
flag 80889 term 33 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 33 leaderCommit: 186 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185} {7981082201726504019 33 186}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185} {7981082201726504019 33 186}]
------------------------------------------------------
flag 22501 term 33 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 33 leaderCommit: 186 
------------------------------------------------------
flag 48433 term 33 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 33 leaderCommit: 186 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
term 33 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185} {7981082201726504019 33 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185} {7981082201726504019 33 186}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3952280678074988157 (index 187) to leader 0
flag 29994 term 33 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 33 leaderCommit: 186 
------------------------------------------------------
flag 66190 term 33 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 33 leaderCommit: 186 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185} {7981082201726504019 33 186} {3952280678074988157 33 187}]
------------------------------------------------------
flag 72956 term 33 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 36147 term 33 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 33 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185} {7981082201726504019 33 186} {3952280678074988157 33 187}]
------------------------------------------------------
client write log 3418841958757734529 (index 188) to leader 0
client write log 548918732527004077 (index 189) to leader 0
client write log 8411085253567881509 (index 190) to leader 0
client write log 1357782889835854076 (index 191) to leader 0
client write log 5035822713085537273 (index 192) to leader 0
client write log 519639905321455839 (index 193) to leader 0
client write log 8843648422808128685 (index 194) to leader 0
client write log 6391469826308628501 (index 195) to leader 0
client write log 7352604161989477853 (index 196) to leader 0
client write log 5507303762385907644 (index 197) to leader 0
client write log 9016992678950468430 (index 198) to leader 0
client write log 372771826878550469 (index 199) to leader 0
client write log 9206159805796299726 (index 200) to leader 0
client write log 6331599125467186105 (index 201) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92697 term 33 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 98434 term 33 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 33 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 179} {405238886592874579 31 180} {140861297229322727 31 181} {5003774965812689181 31 182} {1789048764739315585 31 183} {3512019545182289806 31 184} {7981082201726504019 31 185} {7981082201726504019 33 186} {3952280678074988157 33 187} {3418841958757734529 33 188} {548918732527004077 33 189} {8411085253567881509 33 190} {1357782889835854076 33 191} {5035822713085537273 33 192} {519639905321455839 33 193} {8843648422808128685 33 194} {6391469826308628501 33 195} {7352604161989477853 33 196} {5507303762385907644 33 197} {9016992678950468430 33 198} {372771826878550469 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201}]
------------------------------------------------------
term 33 Server0 start snapshot! index=189
term 33 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=201
-------------------------------------------------------------
term 33 Server0 start snapshot! index=199
term 33 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=201
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 76482 term 33 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201}]
------------------------------------------------------
term 33 Server2 start snapshot! index=189
term 33 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=201
-------------------------------------------------------------
term 33 Server2 start snapshot! index=199
term 33 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=201
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2956968142192368839 (index 202) to leader 0
term 33 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 73307 term 33 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 34 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 server 2 vote for server 0
term 35 server 0 get vote from server 2
term 35 server 0 become leader
------------------------------------------------------
term 35 server 1 vote for server 0
term 35 server 0 get outdate rpc reply from server 1
flag 69715 term 35 leader 0 nextIndex[1]: 203  matchIndex[1]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 32405 term 35 leader 0 nextIndex[2]: 203  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
term 35 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 203->202
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 35 leader 0 nextIndex[1]: 187  matchIndex[1]: 0
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 11786 term 35 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
term 35 server 1 InstallSnapshot success
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 33 rf.commitIndex 199 rf.lastApplied 199
flag 95246 term 35 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 35 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 14286 term 35 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
flag 12112 term 35 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 47325 term 35 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44465 term 35 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 26070 term 35 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
flag 97606 term 35 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 94244 term 35 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
flag 17604 term 35 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 91220 term 35 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:201 
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
flag 29852 term 35 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 56181 term 35 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
flag 44318 term 35 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 41961 term 35 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
flag 28578 term 35 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 88565 term 35 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
flag 74274 term 35 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 98123 term 35 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
flag 84976 term 35 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 21768 term 35 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
flag 31412 term 35 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 48767 term 35 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
flag 56512 term 35 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 65949 term 35 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
flag 96794 term 35 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 45375 term 35 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
flag 33947 term 35 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 86303 term 35 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
term 35 server 0 not vote for server 1, 任期不够新
term 35 server 1 get outdate rpc reply from server 0
flag 58608 term 35 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 94435 term 35 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
flag 66399 term 35 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 60142 term 35 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
flag 57997 term 35 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 59198 term 35 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202}]
------------------------------------------------------
client write log 2956968142192368839 (index 203) to leader 0
flag 38895 term 35 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 11594 term 35 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 35 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203}]
------------------------------------------------------
flag 32207 term 35 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 35 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
flag 45492 term 35 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203}]
------------------------------------------------------
flag 46238 term 35 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 35 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
flag 13905 term 35 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203}]
------------------------------------------------------
flag 65413 term 35 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 35 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
flag 81674 term 35 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203}]
------------------------------------------------------
flag 44418 term 35 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 35 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
flag 75548 term 35 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203}]
------------------------------------------------------
flag 64351 term 35 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 35 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
flag 71126 term 35 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 45365 term 35 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 35 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
flag 43135 term 35 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40824 term 35 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 35 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
flag 14655 term 35 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88410 term 35 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 35 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
flag 73316 term 35 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
term 36 server 1 vote for server 2
term 36 server 2 get vote from server 1
term 36 server 2 become leader
------------------------------------------------------
flag 59865 term 36 leader 2 nextIndex[0]: 204  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
flag 54496 term 36 leader 2 nextIndex[1]: 204  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203}]
------------------------------------------------------
flag 1967 term 35 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 35 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
client write log 1118749300714658043 (index 204) to leader 2
flag 85979 term 35 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
flag 67326 term 36 leader 2 nextIndex[0]: 204  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
flag 93761 term 36 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 36 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 204->203
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203} {1118749300714658043 36 204}]
------------------------------------------------------
flag 67059 term 35 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 35 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
flag 70303 term 35 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 204->203
------------------------------------------------------
term 36 server 2 not vote for server 1, 任期不够新
term 36 server 1 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 78275 term 36 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 36 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 36 leaderCommit: 204 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203} {1118749300714658043 36 204}]
------------------------------------------------------
term 35 leader 0 nextIndex[1]: 0  matchIndex[1]: 203
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 18111 term 35 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
client write log 4368669998319835358 (index 205) to leader 2
term 36 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 31355 term 36 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 36 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 36 leaderCommit: 204 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203} {1118749300714658043 36 204} {4368669998319835358 36 205}]
------------------------------------------------------
term 35 leader 0 nextIndex[1]: 0  matchIndex[1]: 203
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 34928 term 35 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 leader 0 nextIndex[1]: 0  matchIndex[1]: 203
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 85187 term 35 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
term 36 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 59322 term 36 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 36 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 36 leaderCommit: 205 
------------------------------------------------------
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203} {1118749300714658043 36 204} {4368669998319835358 36 205}]
------------------------------------------------------
!!!!!!connect server 0
client write log 8618718033226742538 (index 206) to leader 2
term 36 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 19933 term 36 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 36 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 36 leaderCommit: 205 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
term 35 leader 0 nextIndex[1]: 0  matchIndex[1]: 203
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 7237 term 35 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203} {1118749300714658043 36 204} {4368669998319835358 36 205} {8618718033226742538 36 206}]
------------------------------------------------------
term 36 server 2 AppendEntries false 领导者任期过期 args.Term 35
------------------------------------------------------
term 36 server 0 InstallSnapshot fail
rf.commitIndex 203 args.LastIncludedIndex 199
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 200 matchIndex[0] 199 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89686 term 36 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 36 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
flag 29580 term 36 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 36 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 36 leaderCommit: 206 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203} {1118749300714658043 36 204} {4368669998319835358 36 205} {8618718033226742538 36 206}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203} {1118749300714658043 36 204} {4368669998319835358 36 205} {8618718033226742538 36 206}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78982 term 36 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 36 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 36 leaderCommit: 206 
------------------------------------------------------
flag 66286 term 36 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 36 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 36 leaderCommit: 206 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203} {1118749300714658043 36 204} {4368669998319835358 36 205} {8618718033226742538 36 206}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203} {1118749300714658043 36 204} {4368669998319835358 36 205} {8618718033226742538 36 206}]
------------------------------------------------------
flag 7307 term 36 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 36 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 36 leaderCommit: 206 
------------------------------------------------------
flag 2671 term 36 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 36 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 36 leaderCommit: 206 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203} {1118749300714658043 36 204} {4368669998319835358 36 205} {8618718033226742538 36 206}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203} {1118749300714658043 36 204} {4368669998319835358 36 205} {8618718033226742538 36 206}]
------------------------------------------------------
flag 26766 term 36 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 36 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 36 leaderCommit: 206 
------------------------------------------------------
flag 85875 term 36 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 36 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 36 leaderCommit: 206 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203} {1118749300714658043 36 204} {4368669998319835358 36 205} {8618718033226742538 36 206}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203} {1118749300714658043 36 204} {4368669998319835358 36 205} {8618718033226742538 36 206}]
------------------------------------------------------
flag 12923 term 36 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 36 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 36 leaderCommit: 206 
------------------------------------------------------
flag 90835 term 36 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 36 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 36 leaderCommit: 206 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203} {1118749300714658043 36 204} {4368669998319835358 36 205} {8618718033226742538 36 206}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203} {1118749300714658043 36 204} {4368669998319835358 36 205} {8618718033226742538 36 206}]
------------------------------------------------------
flag 90142 term 36 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 36 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 36 leaderCommit: 206 
------------------------------------------------------
flag 294 term 36 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 36 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 36 leaderCommit: 206 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203} {1118749300714658043 36 204} {4368669998319835358 36 205} {8618718033226742538 36 206}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203} {1118749300714658043 36 204} {4368669998319835358 36 205} {8618718033226742538 36 206}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3405132448707985702 (index 207) to leader 2
flag 30352 term 36 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 36 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 36 leaderCommit: 206 
------------------------------------------------------
flag 98431 term 36 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 36 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 36 leaderCommit: 206 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203} {1118749300714658043 36 204} {4368669998319835358 36 205} {8618718033226742538 36 206} {3405132448707985702 36 207}]
------------------------------------------------------
flag 38228 term 36 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 36 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
flag 37659 term 36 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 36 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203} {1118749300714658043 36 204} {4368669998319835358 36 205} {8618718033226742538 36 206} {3405132448707985702 36 207}]
------------------------------------------------------
client write log 7624003805874397076 (index 208) to leader 2
client write log 7992379627575175850 (index 209) to leader 2
client write log 971911565292812816 (index 210) to leader 2
client write log 2400394741179571682 (index 211) to leader 2
client write log 7560889531290263486 (index 212) to leader 2
client write log 3050731469308732000 (index 213) to leader 2
client write log 7069604627727266944 (index 214) to leader 2
client write log 4845919148719528315 (index 215) to leader 2
client write log 6599308433418044772 (index 216) to leader 2
client write log 6875000793240460586 (index 217) to leader 2
client write log 6368123039486872158 (index 218) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48136 term 36 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 36 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
flag 8734 term 36 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 36 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 199} {9206159805796299726 33 200} {6331599125467186105 33 201} {2956968142192368839 33 202} {2956968142192368839 35 203} {1118749300714658043 36 204} {4368669998319835358 36 205} {8618718033226742538 36 206} {3405132448707985702 36 207} {7624003805874397076 36 208} {7992379627575175850 36 209} {971911565292812816 36 210} {2400394741179571682 36 211} {7560889531290263486 36 212} {3050731469308732000 36 213} {7069604627727266944 36 214} {4845919148719528315 36 215} {6599308433418044772 36 216} {6875000793240460586 36 217} {6368123039486872158 36 218}]
------------------------------------------------------
term 36 Server2 start snapshot! index=209
term 36 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=218
-------------------------------------------------------------
term 36 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
flag 37402 term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 218 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 36 209} {971911565292812816 36 210} {2400394741179571682 36 211} {7560889531290263486 36 212} {3050731469308732000 36 213} {7069604627727266944 36 214} {4845919148719528315 36 215} {6599308433418044772 36 216} {6875000793240460586 36 217} {6368123039486872158 36 218}]
------------------------------------------------------
term 36 Server1 start snapshot! index=209
term 36 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=218
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8045471479041859069 (index 219) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
flag 90310 term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 218 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 209} {971911565292812816 36 210} {2400394741179571682 36 211} {7560889531290263486 36 212} {3050731469308732000 36 213} {7069604627727266944 36 214} {4845919148719528315 36 215} {6599308433418044772 36 216} {6875000793240460586 36 217} {6368123039486872158 36 218} {8045471479041859069 36 219}]
------------------------------------------------------
term 37 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 37 Server2 start snapshot! index=219
term 37 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 1 vote for server 2
term 38 server 0 vote for server 2
term 38 server 2 get vote from server 0
term 38 server 2 become leader
------------------------------------------------------
term 38 server 2 get outdate rpc reply from server 1
flag 25148 term 38 leader 2 nextIndex[0]: 220  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 10756 term 38 leader 2 nextIndex[1]: 220  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 220->219
------------------------------------------------------
term 38 Server1 start snapshot! index=219
term 38 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 207  matchIndex[0]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 90090 term 38 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 38 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
term 38 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
term 38 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
rf.lastIncludedIndex 219 rf.lastIncludedTerm 36 rf.commitIndex 219 rf.lastApplied 219
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2116 term 38 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 38 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 68351 term 38 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 38 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
flag 1465 term 38 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 38 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 15011 term 38 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 38 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
flag 91347 term 38 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 38 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 50386 term 38 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 38 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
flag 23601 term 38 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 38 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 98168 term 38 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 38 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5624870112224320675 (index 220) to leader 2
flag 59047 term 38 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 38 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 45736 term 38 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 38 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 36 219} {5624870112224320675 38 220}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60602 term 38 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 38 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 220 
------------------------------------------------------
flag 72996 term 38 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 38 leaderCommit: 220 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 36 219} {5624870112224320675 38 220}]
------------------------------------------------------
client write log 640825457071190412 (index 221) to leader 2
client write log 6112171698800658252 (index 222) to leader 2
client write log 9025620845180853704 (index 223) to leader 2
client write log 4837688394872962115 (index 224) to leader 2
client write log 2755874497680748029 (index 225) to leader 2
client write log 8651062211066348405 (index 226) to leader 2
client write log 6252477801630902202 (index 227) to leader 2
client write log 7956007877603438765 (index 228) to leader 2
client write log 4817628633293750681 (index 229) to leader 2
client write log 4610832765431804316 (index 230) to leader 2
client write log 4641166547092695888 (index 231) to leader 2
client write log 8756215180424455500 (index 232) to leader 2
client write log 7704692879617245476 (index 233) to leader 2
client write log 1592305137168722838 (index 234) to leader 2
client write log 3144474196651195307 (index 235) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59236 term 38 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 38 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 220 
------------------------------------------------------
flag 50090 term 38 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 38 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 38 leaderCommit: 220 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 36 219} {5624870112224320675 38 220} {640825457071190412 38 221} {6112171698800658252 38 222} {9025620845180853704 38 223} {4837688394872962115 38 224} {2755874497680748029 38 225} {8651062211066348405 38 226} {6252477801630902202 38 227} {7956007877603438765 38 228} {4817628633293750681 38 229} {4610832765431804316 38 230} {4641166547092695888 38 231} {8756215180424455500 38 232} {7704692879617245476 38 233} {1592305137168722838 38 234} {3144474196651195307 38 235}]
------------------------------------------------------
term 38 Server2 start snapshot! index=229
term 38 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=235
-------------------------------------------------------------
term 38 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 28913 term 38 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 38 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 38 229} {4610832765431804316 38 230} {4641166547092695888 38 231} {8756215180424455500 38 232} {7704692879617245476 38 233} {1592305137168722838 38 234} {3144474196651195307 38 235}]
------------------------------------------------------
term 38 Server1 start snapshot! index=229
term 38 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=235
-------------------------------------------------------------
!!!!!!connect server 0
client write log 873870706176782840 (index 236) to leader 2
term 38 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 86236 term 38 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 38 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {4610832765431804316 38 230} {4641166547092695888 38 231} {8756215180424455500 38 232} {7704692879617245476 38 233} {1592305137168722838 38 234} {3144474196651195307 38 235} {873870706176782840 38 236}]
------------------------------------------------------
term 39 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 server 1 vote for server 2
term 40 server 2 get vote from server 1
term 40 server 2 become leader
------------------------------------------------------
term 40 server 0 vote for server 2
term 40 server 2 not vote for server 0, 任期不够新
term 40 server 2 get outdate rpc reply from server 0
term 40 server 0 get outdate rpc reply from server 2
flag 81327 term 40 leader 2 nextIndex[0]: 237  matchIndex[0]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 13788 term 40 leader 2 nextIndex[1]: 237  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {4610832765431804316 38 230} {4641166547092695888 38 231} {8756215180424455500 38 232} {7704692879617245476 38 233} {1592305137168722838 38 234} {3144474196651195307 38 235} {873870706176782840 38 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 237->236
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 220  matchIndex[0]: 0
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 75805 term 40 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {4610832765431804316 38 230} {4641166547092695888 38 231} {8756215180424455500 38 232} {7704692879617245476 38 233} {1592305137168722838 38 234} {3144474196651195307 38 235} {873870706176782840 38 236}]
------------------------------------------------------
term 40 server 0 InstallSnapshot success
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 38 rf.commitIndex 229 rf.lastApplied 229
flag 20417 term 40 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 32166 term 40 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {4610832765431804316 38 230} {4641166547092695888 38 231} {8756215180424455500 38 232} {7704692879617245476 38 233} {1592305137168722838 38 234} {3144474196651195307 38 235} {873870706176782840 38 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {4610832765431804316 38 230} {4641166547092695888 38 231} {8756215180424455500 38 232} {7704692879617245476 38 233} {1592305137168722838 38 234} {3144474196651195307 38 235} {873870706176782840 38 236}]
------------------------------------------------------
flag 94740 term 40 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 57271 term 40 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {4610832765431804316 38 230} {4641166547092695888 38 231} {8756215180424455500 38 232} {7704692879617245476 38 233} {1592305137168722838 38 234} {3144474196651195307 38 235} {873870706176782840 38 236}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {4610832765431804316 38 230} {4641166547092695888 38 231} {8756215180424455500 38 232} {7704692879617245476 38 233} {1592305137168722838 38 234} {3144474196651195307 38 235} {873870706176782840 38 236}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20360 term 40 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 31437 term 40 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {4610832765431804316 38 230} {4641166547092695888 38 231} {8756215180424455500 38 232} {7704692879617245476 38 233} {1592305137168722838 38 234} {3144474196651195307 38 235} {873870706176782840 38 236}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {4610832765431804316 38 230} {4641166547092695888 38 231} {8756215180424455500 38 232} {7704692879617245476 38 233} {1592305137168722838 38 234} {3144474196651195307 38 235} {873870706176782840 38 236}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15711 term 40 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 77401 term 40 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {4610832765431804316 38 230} {4641166547092695888 38 231} {8756215180424455500 38 232} {7704692879617245476 38 233} {1592305137168722838 38 234} {3144474196651195307 38 235} {873870706176782840 38 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {4610832765431804316 38 230} {4641166547092695888 38 231} {8756215180424455500 38 232} {7704692879617245476 38 233} {1592305137168722838 38 234} {3144474196651195307 38 235} {873870706176782840 38 236}]
------------------------------------------------------
flag 28219 term 40 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 59245 term 40 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {4610832765431804316 38 230} {4641166547092695888 38 231} {8756215180424455500 38 232} {7704692879617245476 38 233} {1592305137168722838 38 234} {3144474196651195307 38 235} {873870706176782840 38 236}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {4610832765431804316 38 230} {4641166547092695888 38 231} {8756215180424455500 38 232} {7704692879617245476 38 233} {1592305137168722838 38 234} {3144474196651195307 38 235} {873870706176782840 38 236}]
------------------------------------------------------
flag 94074 term 40 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 4427 term 40 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {4610832765431804316 38 230} {4641166547092695888 38 231} {8756215180424455500 38 232} {7704692879617245476 38 233} {1592305137168722838 38 234} {3144474196651195307 38 235} {873870706176782840 38 236}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {4610832765431804316 38 230} {4641166547092695888 38 231} {8756215180424455500 38 232} {7704692879617245476 38 233} {1592305137168722838 38 234} {3144474196651195307 38 235} {873870706176782840 38 236}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68794 term 40 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 21585 term 40 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {4610832765431804316 38 230} {4641166547092695888 38 231} {8756215180424455500 38 232} {7704692879617245476 38 233} {1592305137168722838 38 234} {3144474196651195307 38 235} {873870706176782840 38 236}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {4610832765431804316 38 230} {4641166547092695888 38 231} {8756215180424455500 38 232} {7704692879617245476 38 233} {1592305137168722838 38 234} {3144474196651195307 38 235} {873870706176782840 38 236}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 36618 term 40 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 94849 term 40 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41709 term 40 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 22651 term 40 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 3305 term 40 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 13229 term 40 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 server 0 vote for server 1
term 41 server 1 get vote from server 0
term 41 server 1 become leader
------------------------------------------------------
flag 39692 term 40 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 49531 term 40 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 60571 term 41 leader 1 nextIndex[0]: 237  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 14242 term 41 leader 1 nextIndex[2]: 237  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {4610832765431804316 38 230} {4641166547092695888 38 231} {8756215180424455500 38 232} {7704692879617245476 38 233} {1592305137168722838 38 234} {3144474196651195307 38 235} {873870706176782840 38 236}]
------------------------------------------------------
client write log 7925948818376319462 (index 237) to leader 1
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 237->236
------------------------------------------------------
flag 25882 term 41 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 41 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 974 term 41 leader 1 nextIndex[2]: 237  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 236
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 26336 term 40 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 38 229} {4610832765431804316 38 230} {4641166547092695888 38 231} {8756215180424455500 38 232} {7704692879617245476 38 233} {1592305137168722838 38 234} {3144474196651195307 38 235} {873870706176782840 38 236} {7925948818376319462 41 237}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78507 term 41 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 41 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
flag 99805 term 41 leader 1 nextIndex[2]: 237  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 237 
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 236
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 27233 term 40 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 38 229} {4610832765431804316 38 230} {4641166547092695888 38 231} {8756215180424455500 38 232} {7704692879617245476 38 233} {1592305137168722838 38 234} {3144474196651195307 38 235} {873870706176782840 38 236} {7925948818376319462 41 237}]
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 4424365098486159588 (index 238) to leader 1
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 236
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 5694 term 40 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 65961 term 41 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 41 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 41 leaderCommit: 237 
------------------------------------------------------
flag 92028 term 41 leader 1 nextIndex[2]: 237  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 237 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4610832765431804316 38 230} {4641166547092695888 38 231} {8756215180424455500 38 232} {7704692879617245476 38 233} {1592305137168722838 38 234} {3144474196651195307 38 235} {873870706176782840 38 236} {7925948818376319462 41 237} {4424365098486159588 41 238}]
------------------------------------------------------
flag 64722 term 41 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 41 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 41 leaderCommit: 238 
------------------------------------------------------
flag 35470 term 41 leader 1 nextIndex[2]: 237  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 236
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 55762 term 40 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4610832765431804316 38 230} {4641166547092695888 38 231} {8756215180424455500 38 232} {7704692879617245476 38 233} {1592305137168722838 38 234} {3144474196651195307 38 235} {873870706176782840 38 236} {7925948818376319462 41 237} {4424365098486159588 41 238}]
------------------------------------------------------
!!!!!!connect server 2
client write log 6154279513373268071 (index 239) to leader 1
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 236
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 70898 term 40 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 40 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 17223 term 41 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 41 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 41 leaderCommit: 238 
------------------------------------------------------
flag 68553 term 41 leader 1 nextIndex[2]: 237  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 41 server 1 AppendEntries false 领导者任期过期 args.Term 40
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 41 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 38 229} {4610832765431804316 38 230} {4641166547092695888 38 231} {8756215180424455500 38 232} {7704692879617245476 38 233} {1592305137168722838 38 234} {3144474196651195307 38 235} {873870706176782840 38 236} {7925948818376319462 41 237} {4424365098486159588 41 238} {6154279513373268071 41 239}]
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 38 229} {4610832765431804316 38 230} {4641166547092695888 38 231} {8756215180424455500 38 232} {7704692879617245476 38 233} {1592305137168722838 38 234} {3144474196651195307 38 235} {873870706176782840 38 236} {7925948818376319462 41 237} {4424365098486159588 41 238} {6154279513373268071 41 239}]
------------------------------------------------------
term 41 Server1 start snapshot! index=239
term 41 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58393 term 41 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 41 leaderCommit: 239 
------------------------------------------------------
flag 77066 term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 41 leaderCommit: 239 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 41 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 41 239}]
------------------------------------------------------
term 41 Server0 start snapshot! index=239
term 41 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
term 41 Server2 start snapshot! index=239
term 41 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44250 term 41 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 41 leaderCommit: 239 
------------------------------------------------------
flag 48697 term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 41 leaderCommit: 239 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 41 239}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 41 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 240->239
------------------------------------------------------
flag 67025 term 41 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 41 leaderCommit: 239 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 0  matchIndex[2]: 239
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 2 InstallSnapshot fail
rf.commitIndex 239 args.LastIncludedIndex 239
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 41 239}]
------------------------------------------------------
flag 609 term 41 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 41 leaderCommit: 239 
------------------------------------------------------
flag 87292 term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 41 leaderCommit: 239 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 41 239}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 41 239}]
------------------------------------------------------
flag 51309 term 41 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 41 leaderCommit: 239 
------------------------------------------------------
flag 12324 term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 41 leaderCommit: 239 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 41 239}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 41 239}]
------------------------------------------------------
flag 83694 term 41 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 41 leaderCommit: 239 
------------------------------------------------------
flag 63563 term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 41 leaderCommit: 239 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 41 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 41 239}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3628554187902449688 (index 240) to leader 1
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97181 term 41 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 41 leaderCommit: 239 
------------------------------------------------------
flag 12911 term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 41 leaderCommit: 239 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 41 239} {3628554187902449688 41 240}]
------------------------------------------------------
flag 51200 term 41 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 41 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
flag 71060 term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 41 239} {3628554187902449688 41 240}]
------------------------------------------------------
client write log 3664322847811704288 (index 241) to leader 1
client write log 8981563794542101038 (index 242) to leader 1
client write log 3536928332954356970 (index 243) to leader 1
client write log 979083353721074918 (index 244) to leader 1
client write log 4492567300519511849 (index 245) to leader 1
client write log 5814837324100832572 (index 246) to leader 1
client write log 8796418619601498636 (index 247) to leader 1
client write log 7552263761660587045 (index 248) to leader 1
client write log 5232865205486473438 (index 249) to leader 1
client write log 5317642840517687125 (index 250) to leader 1
client write log 1905876832242135256 (index 251) to leader 1
term 41 server 1 not vote for server 0, 任期不够新
term 41 server 0 get outdate rpc reply from server 1
flag 1382 term 41 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 41 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
flag 84713 term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 41 239} {3628554187902449688 41 240} {3664322847811704288 41 241} {8981563794542101038 41 242} {3536928332954356970 41 243} {979083353721074918 41 244} {4492567300519511849 41 245} {5814837324100832572 41 246} {8796418619601498636 41 247} {7552263761660587045 41 248} {5232865205486473438 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251}]
------------------------------------------------------
term 41 Server1 start snapshot! index=249
term 41 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=251
-------------------------------------------------------------
flag 77902 term 41 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 41 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251}]
------------------------------------------------------
term 41 Server0 start snapshot! index=249
term 41 server0 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=251
-------------------------------------------------------------
!!!!!!connect server 2
client write log 905927652081378472 (index 252) to leader 1
flag 27807 term 41 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 41 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
term 42 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 0 vote for server 1
term 43 server 1 get vote from server 0
term 43 server 1 become leader
------------------------------------------------------
term 43 server 2 vote for server 1
term 43 server 1 get outdate rpc reply from server 2
flag 68878 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 1476 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 253->252
------------------------------------------------------
flag 34883 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 240  matchIndex[2]: 0
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
term 43 server 2 InstallSnapshot success
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 41 rf.commitIndex 249 rf.lastApplied 249
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54167 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 18905 term 43 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 43 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85098 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 27878 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
flag 9238 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 83197 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
flag 46510 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 96814 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
flag 65489 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 75213 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
term 43 server 1 not vote for server 0, 任期不够新
term 43 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63639 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 61772 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75335 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 27461 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31165 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 80288 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
flag 84429 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 78524 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
term 43 server 2 not vote for server 1, 任期不够新
term 43 server 1 get outdate rpc reply from server 2
flag 21530 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 71513 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93071 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 75470 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
flag 87575 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 20988 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61469 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 70056 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
flag 31131 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 61100 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
flag 81707 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 86859 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
flag 76445 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 94861 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252}]
------------------------------------------------------
client write log 905927652081378472 (index 253) to leader 1
flag 46272 term 43 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 4191 term 43 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252} {905927652081378472 43 253}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252} {905927652081378472 43 253}]
------------------------------------------------------
flag 75642 term 43 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 89603 term 43 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252} {905927652081378472 43 253}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252} {905927652081378472 43 253}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36707 term 43 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 34489 term 43 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252} {905927652081378472 43 253}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252} {905927652081378472 43 253}]
------------------------------------------------------
term 43 server 1 not vote for server 2, 任期不够新
term 43 server 2 get outdate rpc reply from server 1
flag 82565 term 43 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 59288 term 43 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252} {905927652081378472 43 253}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252} {905927652081378472 43 253}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60091 term 43 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 92553 term 43 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252} {905927652081378472 43 253}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252} {905927652081378472 43 253}]
------------------------------------------------------
flag 46971 term 43 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 19761 term 43 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252} {905927652081378472 43 253}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252} {905927652081378472 43 253}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1853900164599641029 (index 254) to leader 1
flag 30743 term 43 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 80374 term 43 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252} {905927652081378472 43 253} {1853900164599641029 43 254}]
------------------------------------------------------
flag 99497 term 43 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 43 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 43 leaderCommit: 254 
------------------------------------------------------
flag 25842 term 43 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 254 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252} {905927652081378472 43 253} {1853900164599641029 43 254}]
------------------------------------------------------
client write log 4564335552878458869 (index 255) to leader 1
client write log 3002153679547237031 (index 256) to leader 1
client write log 7106746296449072286 (index 257) to leader 1
client write log 5102909532602293545 (index 258) to leader 1
client write log 6015460697432969653 (index 259) to leader 1
client write log 271586762796331748 (index 260) to leader 1
client write log 4503137681458784912 (index 261) to leader 1
client write log 7062898804885782419 (index 262) to leader 1
client write log 2473844512564779010 (index 263) to leader 1
client write log 8731512605409057414 (index 264) to leader 1
client write log 1650257672096047487 (index 265) to leader 1
client write log 5932292715058329073 (index 266) to leader 1
client write log 3741679230899841341 (index 267) to leader 1
client write log 6676790732062234191 (index 268) to leader 1
client write log 3700301684911307106 (index 269) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62832 term 43 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 43 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 43 leaderCommit: 254 
------------------------------------------------------
flag 75275 term 43 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 254 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 41 249} {5317642840517687125 41 250} {1905876832242135256 41 251} {905927652081378472 41 252} {905927652081378472 43 253} {1853900164599641029 43 254} {4564335552878458869 43 255} {3002153679547237031 43 256} {7106746296449072286 43 257} {5102909532602293545 43 258} {6015460697432969653 43 259} {271586762796331748 43 260} {4503137681458784912 43 261} {7062898804885782419 43 262} {2473844512564779010 43 263} {8731512605409057414 43 264} {1650257672096047487 43 265} {5932292715058329073 43 266} {3741679230899841341 43 267} {6676790732062234191 43 268} {3700301684911307106 43 269}]
------------------------------------------------------
term 43 Server1 start snapshot! index=259
term 43 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=269
-------------------------------------------------------------
term 43 Server1 start snapshot! index=269
term 43 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65897 term 43 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 43 269}]
------------------------------------------------------
term 43 Server0 start snapshot! index=259
term 43 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=269
-------------------------------------------------------------
term 43 Server0 start snapshot! index=269
term 43 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8881724603627232050 (index 270) to leader 1
term 43 server 1 not vote for server 2, 日志不够新
term 43 server 0 not vote for server 2, 日志不够新
term 45 server 2 vote for server 1
term 45 server 1 get vote from server 2
term 45 server 1 become leader
------------------------------------------------------
term 45 server 0 vote for server 1
term 45 server 1 get outdate rpc reply from server 0
flag 98068 term 45 leader 1 nextIndex[0]: 271  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
flag 13795 term 45 leader 1 nextIndex[2]: 271  matchIndex[2]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 45 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 45 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 271->270
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 271->270
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 2 not vote for server 0, 任期不够新
term 45 server 0 get outdate rpc reply from server 2
flag 9925 term 45 leader 1 nextIndex[0]: 270  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 254  matchIndex[2]: 0
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
term 45 server 2 InstallSnapshot success
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 43 rf.commitIndex 269 rf.lastApplied 269
term 45 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
flag 52813 term 45 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
flag 82505 term 45 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
flag 71409 term 45 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
flag 47461 term 45 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
flag 57773 term 45 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
flag 17132 term 45 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91192 term 45 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
flag 40942 term 45 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
flag 21796 term 45 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
flag 75059 term 45 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14524 term 45 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
flag 35829 term 45 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89193 term 45 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
flag 43941 term 45 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
term 45 server 0 not vote for server 2, 任期不够新
term 45 server 2 get outdate rpc reply from server 0
flag 98397 term 45 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
flag 76686 term 45 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68445 term 45 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
flag 87904 term 45 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 114 term 45 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
flag 53636 term 45 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70152 term 45 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
flag 86918 term 45 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
flag 20914 term 45 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
flag 85437 term 45 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
flag 25897 term 45 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
flag 44102 term 45 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
flag 5470 term 45 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
flag 38825 term 45 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86859 term 45 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
flag 49391 term 45 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18818 term 45 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
flag 69418 term 45 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
flag 62286 term 45 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
flag 28685 term 45 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
flag 44565 term 45 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
flag 53650 term 45 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 43 269} {8881724603627232050 43 270}]
------------------------------------------------------
client write log 8881724603627232050 (index 271) to leader 1
flag 44971 term 45 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
flag 66076 term 45 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {8881724603627232050 43 270} {8881724603627232050 45 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {8881724603627232050 43 270} {8881724603627232050 45 271}]
------------------------------------------------------
flag 25818 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
flag 51596 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {8881724603627232050 43 270} {8881724603627232050 45 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {8881724603627232050 43 270} {8881724603627232050 45 271}]
------------------------------------------------------
flag 1280 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
flag 45293 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {8881724603627232050 43 270} {8881724603627232050 45 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {8881724603627232050 43 270} {8881724603627232050 45 271}]
------------------------------------------------------
flag 93907 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
flag 33530 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {8881724603627232050 43 270} {8881724603627232050 45 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {8881724603627232050 43 270} {8881724603627232050 45 271}]
------------------------------------------------------
flag 41120 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
flag 77737 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {8881724603627232050 43 270} {8881724603627232050 45 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {8881724603627232050 43 270} {8881724603627232050 45 271}]
------------------------------------------------------
flag 2325 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
flag 24334 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {8881724603627232050 43 270} {8881724603627232050 45 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {8881724603627232050 43 270} {8881724603627232050 45 271}]
------------------------------------------------------
flag 35942 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
flag 77885 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {8881724603627232050 43 270} {8881724603627232050 45 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {8881724603627232050 43 270} {8881724603627232050 45 271}]
------------------------------------------------------
!!!!!!diconnect server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30320 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
flag 32777 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
flag 98431 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
flag 7472 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
flag 4929 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
flag 12098 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
term 46 server 0 vote for server 2
term 46 server 2 get vote from server 0
term 46 server 2 become leader
------------------------------------------------------
flag 26563 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
flag 55562 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
flag 61248 term 46 leader 2 nextIndex[0]: 272  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
flag 68649 term 46 leader 2 nextIndex[1]: 272  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {8881724603627232050 43 270} {8881724603627232050 45 271}]
------------------------------------------------------
client write log 4796503930356529326 (index 272) to leader 2
flag 86154 term 46 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
flag 45570 term 46 leader 2 nextIndex[1]: 272  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
flag 31141 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
flag 83784 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8881724603627232050 43 270} {8881724603627232050 45 271} {4796503930356529326 46 272}]
------------------------------------------------------
flag 57279 term 46 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
flag 47153 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
flag 80079 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
term 46 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 43257 term 46 leader 2 nextIndex[1]: 272  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8881724603627232050 43 270} {8881724603627232050 45 271} {4796503930356529326 46 272}]
------------------------------------------------------
client write log 12293202014592839 (index 273) to leader 2
client write log 7921510210685295236 (index 274) to leader 2
client write log 4351665401197923270 (index 275) to leader 2
client write log 2296744910941200199 (index 276) to leader 2
client write log 88767518548232541 (index 277) to leader 2
client write log 1559658215196354108 (index 278) to leader 2
client write log 414775909076388686 (index 279) to leader 2
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 272->271
------------------------------------------------------
term 46 server 0 not vote for server 2, 任期不够新
term 46 server 2 get outdate rpc reply from server 0
term 45 leader 1 nextIndex[0]: 0  matchIndex[0]: 271
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 43352 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
flag 19333 term 46 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 46 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 28170 term 46 leader 2 nextIndex[1]: 272  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 269} {8881724603627232050 43 270} {8881724603627232050 45 271} {4796503930356529326 46 272} {12293202014592839 46 273} {7921510210685295236 46 274} {4351665401197923270 46 275} {2296744910941200199 46 276} {88767518548232541 46 277} {1559658215196354108 46 278} {414775909076388686 46 279}]
------------------------------------------------------
term 46 Server2 start snapshot! index=279
term 46 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42871 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 272  matchIndex[1]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 46
------------------------------------------------------
term 45 leader 1 nextIndex[0]: 0  matchIndex[0]: 271
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 52884 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
term 46 Server0 start snapshot! index=279
term 46 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
!!!!!!connect server 1
client write log 140564592064567367 (index 272) to leader 1
flag 41176 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 272  matchIndex[1]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 46
------------------------------------------------------
term 45 leader 1 nextIndex[0]: 0  matchIndex[0]: 271
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 29128 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
term 46 server 1 InstallSnapshot success
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
term 46 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueServer1 get CondInstallSnapshot!
term 46 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
rf.lastIncludedIndex 279 rf.lastIncludedTerm 46 rf.commitIndex 279 rf.lastApplied 279
term 46 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
update nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
term 46 server 2 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54755 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
flag 23466 term 46 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
flag 27192 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
flag 15162 term 46 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47529 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
flag 75947 term 46 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12095 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
flag 23181 term 46 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
flag 89803 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
flag 57479 term 46 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
flag 52305 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
flag 41839 term 46 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 280->279
------------------------------------------------------
flag 31426 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 0  matchIndex[1]: 279
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 1 InstallSnapshot fail
rf.commitIndex 279 args.LastIncludedIndex 279
------------------------------------------------------
term 46 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 53651 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
flag 91000 term 46 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
flag 22622 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
flag 91631 term 46 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
flag 75563 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
flag 37532 term 46 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
flag 90367 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
flag 78287 term 46 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
flag 85228 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
flag 75445 term 46 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61701 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
flag 53359 term 46 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
flag 40356 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
flag 12185 term 46 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38014 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
flag 22862 term 46 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
flag 68416 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
flag 43682 term 46 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
flag 38683 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
flag 18863 term 46 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
flag 3768 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
flag 88300 term 46 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
flag 79023 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
flag 61529 term 46 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 46 279}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 140564592064567367 (index 280) to leader 2
flag 33327 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
flag 31528 term 46 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 279 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 46 279} {140564592064567367 46 280}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 46 279} {140564592064567367 46 280}]
------------------------------------------------------
flag 22555 term 46 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 46 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 46 leaderCommit: 280 
------------------------------------------------------
flag 66974 term 46 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 46 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 46 leaderCommit: 280 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 46 279} {140564592064567367 46 280}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 46 279} {140564592064567367 46 280}]
------------------------------------------------------
flag 43132 term 46 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 46 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 46 leaderCommit: 280 
------------------------------------------------------
flag 75752 term 46 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 46 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 46 leaderCommit: 280 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 46 279} {140564592064567367 46 280}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 46 279} {140564592064567367 46 280}]
------------------------------------------------------
flag 21313 term 46 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 46 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 46 leaderCommit: 280 
------------------------------------------------------
flag 50674 term 46 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 46 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 46 leaderCommit: 280 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 46 279} {140564592064567367 46 280}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 46 279} {140564592064567367 46 280}]
------------------------------------------------------
flag 55998 term 46 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 46 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 46 leaderCommit: 280 
------------------------------------------------------
flag 31279 term 46 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 46 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 46 leaderCommit: 280 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 46 279} {140564592064567367 46 280}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 46 279} {140564592064567367 46 280}]
------------------------------------------------------
flag 33195 term 46 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 46 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 46 leaderCommit: 280 
------------------------------------------------------
flag 34107 term 46 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 46 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 46 leaderCommit: 280 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 46 279} {140564592064567367 46 280}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 46 279} {140564592064567367 46 280}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2956893990592104134 (index 281) to leader 2
flag 92250 term 46 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 46 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 46 leaderCommit: 280 
------------------------------------------------------
flag 1785 term 46 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 46 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 46 leaderCommit: 280 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {140564592064567367 46 280} {2956893990592104134 46 281}]
------------------------------------------------------
flag 6591 term 46 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 46 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 44389 term 46 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 46 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {140564592064567367 46 280} {2956893990592104134 46 281}]
------------------------------------------------------
client write log 2133638235484858575 (index 282) to leader 2
client write log 5322688079519986117 (index 283) to leader 2
client write log 6089751906857324061 (index 284) to leader 2
client write log 5031873424878824241 (index 285) to leader 2
client write log 159876790234276977 (index 286) to leader 2
client write log 9077925310042590233 (index 287) to leader 2
client write log 4040827255583645569 (index 288) to leader 2
client write log 8940081878067759000 (index 289) to leader 2
client write log 2256858155721399629 (index 290) to leader 2
client write log 8345820510273281184 (index 291) to leader 2
client write log 8844335313439171548 (index 292) to leader 2
client write log 5544098116261210929 (index 293) to leader 2
client write log 4688554078659551613 (index 294) to leader 2
flag 38938 term 46 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 46 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 64346 term 46 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 46 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 279} {140564592064567367 46 280} {2956893990592104134 46 281} {2133638235484858575 46 282} {5322688079519986117 46 283} {6089751906857324061 46 284} {5031873424878824241 46 285} {159876790234276977 46 286} {9077925310042590233 46 287} {4040827255583645569 46 288} {8940081878067759000 46 289} {2256858155721399629 46 290} {8345820510273281184 46 291} {8844335313439171548 46 292} {5544098116261210929 46 293} {4688554078659551613 46 294}]
------------------------------------------------------
term 46 Server2 start snapshot! index=289
term 46 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=294
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 2981 term 46 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 46 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 294 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {2256858155721399629 46 290} {8345820510273281184 46 291} {8844335313439171548 46 292} {5544098116261210929 46 293} {4688554078659551613 46 294}]
------------------------------------------------------
term 46 Server1 start snapshot! index=289
term 46 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=294
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6345930313286588676 (index 295) to leader 2
term 46 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 65865 term 46 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 46 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 294 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {2256858155721399629 46 290} {8345820510273281184 46 291} {8844335313439171548 46 292} {5544098116261210929 46 293} {4688554078659551613 46 294} {6345930313286588676 46 295}]
------------------------------------------------------
term 47 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 server 1 vote for server 2
term 48 server 2 get vote from server 1
term 48 server 0 vote for server 2
term 48 server 2 become leader
------------------------------------------------------
term 48 server 2 get outdate rpc reply from server 0
flag 98996 term 48 leader 2 nextIndex[0]: 296  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 46470 term 48 leader 2 nextIndex[1]: 296  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
term 48 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
[{snapshot 46 289} {2256858155721399629 46 290} {8345820510273281184 46 291} {8844335313439171548 46 292} {5544098116261210929 46 293} {4688554078659551613 46 294} {6345930313286588676 46 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 296->295
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 281  matchIndex[0]: 0
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 224 term 48 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 48 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {2256858155721399629 46 290} {8345820510273281184 46 291} {8844335313439171548 46 292} {5544098116261210929 46 293} {4688554078659551613 46 294} {6345930313286588676 46 295}]
------------------------------------------------------
term 48 server 0 InstallSnapshot success
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 46 rf.commitIndex 289 rf.lastApplied 289
flag 29392 term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 75381 term 48 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 48 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {2256858155721399629 46 290} {8345820510273281184 46 291} {8844335313439171548 46 292} {5544098116261210929 46 293} {4688554078659551613 46 294} {6345930313286588676 46 295}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {2256858155721399629 46 290} {8345820510273281184 46 291} {8844335313439171548 46 292} {5544098116261210929 46 293} {4688554078659551613 46 294} {6345930313286588676 46 295}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99826 term 48 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 48 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 63981 term 48 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 48 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {2256858155721399629 46 290} {8345820510273281184 46 291} {8844335313439171548 46 292} {5544098116261210929 46 293} {4688554078659551613 46 294} {6345930313286588676 46 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {2256858155721399629 46 290} {8345820510273281184 46 291} {8844335313439171548 46 292} {5544098116261210929 46 293} {4688554078659551613 46 294} {6345930313286588676 46 295}]
------------------------------------------------------
flag 87524 term 48 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 48 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 20416 term 48 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 48 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {2256858155721399629 46 290} {8345820510273281184 46 291} {8844335313439171548 46 292} {5544098116261210929 46 293} {4688554078659551613 46 294} {6345930313286588676 46 295}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {2256858155721399629 46 290} {8345820510273281184 46 291} {8844335313439171548 46 292} {5544098116261210929 46 293} {4688554078659551613 46 294} {6345930313286588676 46 295}]
------------------------------------------------------
flag 56394 term 48 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 48 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 84582 term 48 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 48 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {2256858155721399629 46 290} {8345820510273281184 46 291} {8844335313439171548 46 292} {5544098116261210929 46 293} {4688554078659551613 46 294} {6345930313286588676 46 295}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {2256858155721399629 46 290} {8345820510273281184 46 291} {8844335313439171548 46 292} {5544098116261210929 46 293} {4688554078659551613 46 294} {6345930313286588676 46 295}]
------------------------------------------------------
flag 84250 term 48 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 48 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 78328 term 48 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 48 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {2256858155721399629 46 290} {8345820510273281184 46 291} {8844335313439171548 46 292} {5544098116261210929 46 293} {4688554078659551613 46 294} {6345930313286588676 46 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {2256858155721399629 46 290} {8345820510273281184 46 291} {8844335313439171548 46 292} {5544098116261210929 46 293} {4688554078659551613 46 294} {6345930313286588676 46 295}]
------------------------------------------------------
flag 13668 term 48 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 48 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 12024 term 48 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 48 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {2256858155721399629 46 290} {8345820510273281184 46 291} {8844335313439171548 46 292} {5544098116261210929 46 293} {4688554078659551613 46 294} {6345930313286588676 46 295}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {2256858155721399629 46 290} {8345820510273281184 46 291} {8844335313439171548 46 292} {5544098116261210929 46 293} {4688554078659551613 46 294} {6345930313286588676 46 295}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3995 term 48 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 48 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 51336 term 48 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 48 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {2256858155721399629 46 290} {8345820510273281184 46 291} {8844335313439171548 46 292} {5544098116261210929 46 293} {4688554078659551613 46 294} {6345930313286588676 46 295}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {2256858155721399629 46 290} {8345820510273281184 46 291} {8844335313439171548 46 292} {5544098116261210929 46 293} {4688554078659551613 46 294} {6345930313286588676 46 295}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3664671699671073443 (index 296) to leader 2
flag 83231 term 48 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 48 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 66934 term 48 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 48 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2256858155721399629 46 290} {8345820510273281184 46 291} {8844335313439171548 46 292} {5544098116261210929 46 293} {4688554078659551613 46 294} {6345930313286588676 46 295} {3664671699671073443 48 296}]
------------------------------------------------------
flag 46421 term 48 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 48 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 6566 term 48 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 48 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2256858155721399629 46 290} {8345820510273281184 46 291} {8844335313439171548 46 292} {5544098116261210929 46 293} {4688554078659551613 46 294} {6345930313286588676 46 295} {3664671699671073443 48 296}]
------------------------------------------------------
client write log 1249987459485531215 (index 297) to leader 2
client write log 7279518087418048359 (index 298) to leader 2
client write log 7731265328582069707 (index 299) to leader 2
client write log 7133440381811701865 (index 300) to leader 2
client write log 4478022917546355783 (index 301) to leader 2
client write log 5758420495657416787 (index 302) to leader 2
client write log 5557798953801668079 (index 303) to leader 2
client write log 8936366083572921967 (index 304) to leader 2
client write log 6970976631005478677 (index 305) to leader 2
client write log 4844178357305244134 (index 306) to leader 2
flag 57166 term 48 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 48 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 24571 term 48 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 48 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 46 289} {2256858155721399629 46 290} {8345820510273281184 46 291} {8844335313439171548 46 292} {5544098116261210929 46 293} {4688554078659551613 46 294} {6345930313286588676 46 295} {3664671699671073443 48 296} {1249987459485531215 48 297} {7279518087418048359 48 298} {7731265328582069707 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306}]
------------------------------------------------------
term 48 Server2 start snapshot! index=299
term 48 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=306
-------------------------------------------------------------
term 48 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 3005 term 48 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306}]
------------------------------------------------------
term 48 Server1 start snapshot! index=299
term 48 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=306
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7390481376832085456 (index 307) to leader 2
term 48 server 2 not vote for server 0, 日志不够新
term 48 server 1 not vote for server 0, 日志不够新
term 50 server 1 vote for server 2
term 50 server 2 get vote from server 1
term 50 server 2 become leader
------------------------------------------------------
term 50 server 0 vote for server 2
term 50 server 2 get outdate rpc reply from server 0
flag 60105 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 42964 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 308->307
------------------------------------------------------
term 50 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 308->307
------------------------------------------------------
term 50 leader 2 nextIndex[0]: 296  matchIndex[0]: 0
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 93762 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 50 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 48 rf.commitIndex 299 rf.lastApplied 299
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86906 term 50 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 50 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 58554 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84699 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 42752 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
term 50 server 1 not vote for server 2, 任期不够新
term 50 server 2 get outdate rpc reply from server 1
flag 2592 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 96894 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
flag 16544 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 93631 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
term 50 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
flag 31933 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 64830 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
flag 14755 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 36002 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75392 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 78548 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38472 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 93067 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5977 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 59462 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70121 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 84434 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
term 50 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23518 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 78034 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
term 50 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21203 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 97940 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54192 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 87283 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
flag 3254 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 52225 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78945 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 28589 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 21403 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36184 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 50880 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
term 50 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81051 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 35255 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307}]
------------------------------------------------------
client write log 7390481376832085456 (index 308) to leader 2
flag 29605 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 13161 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307} {7390481376832085456 50 308}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307} {7390481376832085456 50 308}]
------------------------------------------------------
flag 66322 term 50 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 63642 term 50 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307} {7390481376832085456 50 308}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307} {7390481376832085456 50 308}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 355 term 50 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 69557 term 50 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307} {7390481376832085456 50 308}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307} {7390481376832085456 50 308}]
------------------------------------------------------
flag 67961 term 50 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 7338 term 50 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307} {7390481376832085456 50 308}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307} {7390481376832085456 50 308}]
------------------------------------------------------
term 50 server 2 not vote for server 0, 任期不够新
term 50 server 0 get outdate rpc reply from server 2
flag 29888 term 50 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 71589 term 50 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307} {7390481376832085456 50 308}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307} {7390481376832085456 50 308}]
------------------------------------------------------
flag 16908 term 50 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 3040 term 50 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307} {7390481376832085456 50 308}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307} {7390481376832085456 50 308}]
------------------------------------------------------
flag 91847 term 50 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 7355 term 50 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307} {7390481376832085456 50 308}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307} {7390481376832085456 50 308}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 21970 term 50 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 84777 term 50 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 20800 term 50 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 58516 term 50 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 73141 term 50 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 31921 term 50 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
term 51 server 1 vote for server 0
term 51 server 0 get vote from server 1
term 51 server 0 become leader
------------------------------------------------------
flag 46313 term 50 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 47521 term 50 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
client write log 392044535180316834 (index 309) to leader 0
flag 54280 term 51 leader 0 nextIndex[1]: 309  matchIndex[1]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 32195 term 51 leader 0 nextIndex[2]: 309  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 48 299} {7133440381811701865 48 300} {4478022917546355783 48 301} {5758420495657416787 48 302} {5557798953801668079 48 303} {8936366083572921967 48 304} {6970976631005478677 48 305} {4844178357305244134 48 306} {7390481376832085456 48 307} {7390481376832085456 50 308} {392044535180316834 51 309}]
------------------------------------------------------
term 51 Server0 start snapshot! index=309
term 51 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
flag 70932 term 50 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 58066 term 50 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 32264 term 51 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 51 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 309  matchIndex[2]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 51 309}]
------------------------------------------------------
term 51 Server1 start snapshot! index=309
term 51 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
client write log 4770877380275963158 (index 310) to leader 0
client write log 2998560247355464964 (index 311) to leader 0
client write log 8867856761659140327 (index 312) to leader 0
client write log 35751844161221351 (index 313) to leader 0
client write log 3693849841811948688 (index 314) to leader 0
client write log 8526019546925964713 (index 315) to leader 0
client write log 445645359346641599 (index 316) to leader 0
flag 5104 term 50 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 50842 term 50 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 61952 term 51 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 51 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 309  matchIndex[2]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
flag 55630 term 50 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 14356 term 50 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 11989 term 51 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 309  matchIndex[2]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
!!!!!!connect server 2
client write log 7750372386699657607 (index 309) to leader 2
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 309->308
------------------------------------------------------
flag 17395 term 50 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 23144 term 50 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
term 51 server 1 AppendEntries false 领导者任期过期 args.Term 50
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 51 server 0 AppendEntries false 领导者任期过期 args.Term 50
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37202 term 51 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 51 rf.commitIndex 309 rf.lastApplied 309
term 51 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
term 51 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
flag 58653 term 51 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 79742 term 51 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 51 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76164 term 51 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 61440 term 51 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
term 51 server 2 not vote for server 0, 日志不够新
term 51 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91604 term 51 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 85814 term 51 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
flag 56496 term 51 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 34202 term 51 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
flag 37316 term 51 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 10477 term 51 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
flag 68397 term 51 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 89304 term 51 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
flag 11442 term 51 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 70896 term 51 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
flag 88751 term 51 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 91105 term 51 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
flag 61767 term 51 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 86452 term 51 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
flag 67874 term 51 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 9299 term 51 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
term 51 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
flag 14915 term 51 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 28468 term 51 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
flag 42193 term 51 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 48923 term 51 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
term 51 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
flag 6864 term 51 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 79011 term 51 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 51 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
flag 50107 term 51 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 17732 term 51 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
flag 69450 term 51 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 84551 term 51 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71754 term 51 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 6586 term 51 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
flag 35738 term 51 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 44306 term 51 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
flag 70127 term 51 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 91568 term 51 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
term 51 server 1 not vote for server 0, 任期不够新
term 51 server 0 get outdate rpc reply from server 1
flag 23487 term 51 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 18540 term 51 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316}]
------------------------------------------------------
client write log 7750372386699657607 (index 317) to leader 0
flag 84067 term 51 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 25823 term 51 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316} {7750372386699657607 51 317}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316} {7750372386699657607 51 317}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
flag 87364 term 51 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 51 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 317 
------------------------------------------------------
flag 9936 term 51 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 51 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 317 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316} {7750372386699657607 51 317}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316} {7750372386699657607 51 317}]
------------------------------------------------------
flag 13494 term 51 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 51 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 317 
------------------------------------------------------
flag 77238 term 51 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 51 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 317 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316} {7750372386699657607 51 317}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316} {7750372386699657607 51 317}]
------------------------------------------------------
flag 73788 term 51 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 51 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 317 
------------------------------------------------------
flag 47031 term 51 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 51 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 317 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316} {7750372386699657607 51 317}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316} {7750372386699657607 51 317}]
------------------------------------------------------
flag 2126 term 51 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 51 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 317 
------------------------------------------------------
flag 40750 term 51 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 51 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 317 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316} {7750372386699657607 51 317}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316} {7750372386699657607 51 317}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2405 term 51 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 51 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 317 
------------------------------------------------------
flag 44429 term 51 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 51 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 317 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316} {7750372386699657607 51 317}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316} {7750372386699657607 51 317}]
------------------------------------------------------
flag 66150 term 51 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 51 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 317 
------------------------------------------------------
flag 29204 term 51 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 51 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 317 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316} {7750372386699657607 51 317}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316} {7750372386699657607 51 317}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5708276436927330643 (index 318) to leader 0
flag 76556 term 51 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 51 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 317 
------------------------------------------------------
flag 46609 term 51 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 51 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 317 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316} {7750372386699657607 51 317} {5708276436927330643 51 318}]
------------------------------------------------------
flag 598 term 51 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 51 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 318 
------------------------------------------------------
flag 14676 term 51 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 51 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 51 leaderCommit: 318 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316} {7750372386699657607 51 317} {5708276436927330643 51 318}]
------------------------------------------------------
client write log 3907362904272582038 (index 319) to leader 0
client write log 8177523563029217171 (index 320) to leader 0
client write log 2738567439873956113 (index 321) to leader 0
client write log 5477131143588896375 (index 322) to leader 0
client write log 1728300457603438953 (index 323) to leader 0
client write log 2273338996785903575 (index 324) to leader 0
client write log 367249513056692534 (index 325) to leader 0
client write log 4637636222208429189 (index 326) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21804 term 51 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 51 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 318 
------------------------------------------------------
flag 79589 term 51 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 51 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 51 leaderCommit: 318 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 309} {4770877380275963158 51 310} {2998560247355464964 51 311} {8867856761659140327 51 312} {35751844161221351 51 313} {3693849841811948688 51 314} {8526019546925964713 51 315} {445645359346641599 51 316} {7750372386699657607 51 317} {5708276436927330643 51 318} {3907362904272582038 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326}]
------------------------------------------------------
term 51 Server0 start snapshot! index=319
term 51 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=326
-------------------------------------------------------------
term 51 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
flag 68543 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326}]
------------------------------------------------------
term 51 Server2 start snapshot! index=319
term 51 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=326
-------------------------------------------------------------
!!!!!!connect server 1
client write log 488463628670330547 (index 327) to leader 0
term 51 server 2 not vote for server 1, 日志不够新
term 51 server 0 not vote for server 1, 日志不够新
term 53 server 2 vote for server 0
term 53 server 1 vote for server 0
term 53 server 0 get vote from server 2
term 53 server 0 become leader
------------------------------------------------------
term 53 server 0 get outdate rpc reply from server 1
flag 87304 term 53 leader 0 nextIndex[1]: 328  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 24685 term 53 leader 0 nextIndex[2]: 328  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 53 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 328->327
------------------------------------------------------
term 53 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 328->327
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 318  matchIndex[1]: 0
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
flag 68351 term 53 leader 0 nextIndex[2]: 327  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 53 server 1 InstallSnapshot success
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 51 rf.commitIndex 319 rf.lastApplied 319
term 53 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
flag 88768 term 53 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 59941 term 53 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44115 term 53 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 59160 term 53 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
flag 15414 term 53 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 63158 term 53 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
flag 73400 term 53 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 13785 term 53 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
flag 15292 term 53 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 70797 term 53 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
flag 94879 term 53 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 33347 term 53 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81139 term 53 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 52615 term 53 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
flag 25617 term 53 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 77719 term 53 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98500 term 53 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 45227 term 53 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
flag 41114 term 53 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 62979 term 53 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
flag 62894 term 53 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 32152 term 53 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
flag 7205 term 53 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 68724 term 53 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
flag 65007 term 53 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 56166 term 53 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
flag 50382 term 53 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 42166 term 53 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65436 term 53 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 74800 term 53 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
flag 7031 term 53 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 26319 term 53 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
flag 51089 term 53 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 96343 term 53 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41280 term 53 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 78520 term 53 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327}]
------------------------------------------------------
client write log 488463628670330547 (index 328) to leader 0
flag 31777 term 53 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 16207 term 53 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327} {488463628670330547 53 328}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327} {488463628670330547 53 328}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59907 term 53 leader 0 nextIndex[1]: 329  matchIndex[1]: 328
term 53 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
flag 95193 term 53 leader 0 nextIndex[2]: 329  matchIndex[2]: 328
term 53 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327} {488463628670330547 53 328}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327} {488463628670330547 53 328}]
------------------------------------------------------
flag 86237 term 53 leader 0 nextIndex[1]: 329  matchIndex[1]: 328
term 53 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
flag 6262 term 53 leader 0 nextIndex[2]: 329  matchIndex[2]: 328
term 53 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327} {488463628670330547 53 328}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327} {488463628670330547 53 328}]
------------------------------------------------------
flag 24909 term 53 leader 0 nextIndex[1]: 329  matchIndex[1]: 328
term 53 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
flag 61994 term 53 leader 0 nextIndex[2]: 329  matchIndex[2]: 328
term 53 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327} {488463628670330547 53 328}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327} {488463628670330547 53 328}]
------------------------------------------------------
flag 74058 term 53 leader 0 nextIndex[1]: 329  matchIndex[1]: 328
term 53 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
flag 5050 term 53 leader 0 nextIndex[2]: 329  matchIndex[2]: 328
term 53 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327} {488463628670330547 53 328}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327} {488463628670330547 53 328}]
------------------------------------------------------
flag 14743 term 53 leader 0 nextIndex[1]: 329  matchIndex[1]: 328
term 53 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
flag 86951 term 53 leader 0 nextIndex[2]: 329  matchIndex[2]: 328
term 53 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327} {488463628670330547 53 328}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {8177523563029217171 51 320} {2738567439873956113 51 321} {5477131143588896375 51 322} {1728300457603438953 51 323} {2273338996785903575 51 324} {367249513056692534 51 325} {4637636222208429189 51 326} {488463628670330547 51 327} {488463628670330547 53 328}]
------------------------------------------------------
  ... Passed --  76.9  3 1772  769908  328
--- PASS: TestSnapshotInstall2D (76.90s)
PASS
