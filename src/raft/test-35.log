=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 0 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 2 get outdate rpc reply from server 0
flag 96437 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 45959 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 2057029514198326107 (index 1) to leader 2
flag 51575 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 87100 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2057029514198326107 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2057029514198326107 1 1}]
------------------------------------------------------
flag 13087 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 59681 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2057029514198326107 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2057029514198326107 1 1}]
------------------------------------------------------
flag 16045 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 5034 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2057029514198326107 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2057029514198326107 1 1}]
------------------------------------------------------
flag 2516 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 6866 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2057029514198326107 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2057029514198326107 1 1}]
------------------------------------------------------
flag 14465 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 22005 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2057029514198326107 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2057029514198326107 1 1}]
------------------------------------------------------
flag 68245 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 22302 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2057029514198326107 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2057029514198326107 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4056854056529469259 (index 2) to leader 2
flag 79865 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 13532 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2057029514198326107 1 1} {4056854056529469259 1 2}]
------------------------------------------------------
flag 32733 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 79022 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2057029514198326107 1 1} {4056854056529469259 1 2}]
------------------------------------------------------
client write log 921071208135782307 (index 3) to leader 2
client write log 4051726581208052556 (index 4) to leader 2
client write log 2482108006056131869 (index 5) to leader 2
client write log 2617313688058537184 (index 6) to leader 2
client write log 4731111781047085416 (index 7) to leader 2
client write log 9145550147985413018 (index 8) to leader 2
client write log 1965099866129673423 (index 9) to leader 2
client write log 6761053352483743449 (index 10) to leader 2
client write log 4061605217612853765 (index 11) to leader 2
flag 9782 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 45249 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{<nil> 0 0} {2057029514198326107 1 1} {4056854056529469259 1 2} {921071208135782307 1 3} {4051726581208052556 1 4} {2482108006056131869 1 5} {2617313688058537184 1 6} {4731111781047085416 1 7} {9145550147985413018 1 8} {1965099866129673423 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=11
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 6190 term 1 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 1 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=11
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7018918353238275081 (index 12) to leader 2
term 1 server 2 not vote for server 0, 日志不够新
term 1 server 1 not vote for server 0, 日志不够新
term 2 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 3 server 1 vote for server 2
term 3 server 0 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 2 get outdate rpc reply from server 0
flag 99051 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 35925 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 13->12
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 13->12
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 28018 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
flag 98507 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 71490 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
flag 3105 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 24226 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
flag 87159 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 3700 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
flag 57939 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 41825 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17815 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 47677 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
flag 22035 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 7575 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
flag 114 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 77653 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
flag 52576 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 11741 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
flag 54133 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 74192 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
flag 76150 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 18330 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
flag 66742 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 13651 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
flag 97972 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 61393 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
flag 22969 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 38241 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
flag 71256 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 1448 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
flag 40777 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 43550 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
flag 87672 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 40925 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
flag 60996 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 75058 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
flag 36613 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 12664 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12}]
------------------------------------------------------
client write log 7018918353238275081 (index 13) to leader 2
flag 78432 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 82347 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13}]
------------------------------------------------------
flag 68071 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 50722 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13}]
------------------------------------------------------
flag 71302 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 34306 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13}]
------------------------------------------------------
flag 10402 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 72166 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13}]
------------------------------------------------------
flag 64079 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 20857 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13}]
------------------------------------------------------
flag 45431 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 47744 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13}]
------------------------------------------------------
flag 13889 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 59893 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 47049 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 35357 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 10034 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 91599 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 80739 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 20195 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 vote for server 1
term 4 server 1 get vote from server 0
term 4 server 1 become leader
------------------------------------------------------
flag 24256 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 15519 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13}]
------------------------------------------------------
flag 11718 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 91174 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
client write log 1629235374645264559 (index 14) to leader 1
flag 47085 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 89336 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13} {1629235374645264559 4 14}]
------------------------------------------------------
flag 47748 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 92492 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 34861 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 53103 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13} {1629235374645264559 4 14}]
------------------------------------------------------
flag 51291 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 55829 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
client write log 5740272995078947288 (index 15) to leader 1
flag 75789 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 15014 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13} {1629235374645264559 4 14} {5740272995078947288 4 15}]
------------------------------------------------------
flag 54999 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 29669 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 13001 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 22141 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13} {1629235374645264559 4 14} {5740272995078947288 4 15}]
------------------------------------------------------
flag 19364 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 32118 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
!!!!!!connect server 2
client write log 4551845672378458907 (index 16) to leader 1
flag 59440 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 33618 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13} {1629235374645264559 4 14} {5740272995078947288 4 15} {4551845672378458907 4 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13} {1629235374645264559 4 14} {5740272995078947288 4 15} {4551845672378458907 4 16}]
------------------------------------------------------
flag 63133 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 94700 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13} {1629235374645264559 4 14} {5740272995078947288 4 15} {4551845672378458907 4 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13} {1629235374645264559 4 14} {5740272995078947288 4 15} {4551845672378458907 4 16}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26034 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 52531 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13} {1629235374645264559 4 14} {5740272995078947288 4 15} {4551845672378458907 4 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13} {1629235374645264559 4 14} {5740272995078947288 4 15} {4551845672378458907 4 16}]
------------------------------------------------------
flag 64350 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 18239 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13} {1629235374645264559 4 14} {5740272995078947288 4 15} {4551845672378458907 4 16}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13} {1629235374645264559 4 14} {5740272995078947288 4 15} {4551845672378458907 4 16}]
------------------------------------------------------
flag 90765 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 851 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13} {1629235374645264559 4 14} {5740272995078947288 4 15} {4551845672378458907 4 16}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13} {1629235374645264559 4 14} {5740272995078947288 4 15} {4551845672378458907 4 16}]
------------------------------------------------------
flag 56780 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 16630 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13} {1629235374645264559 4 14} {5740272995078947288 4 15} {4551845672378458907 4 16}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13} {1629235374645264559 4 14} {5740272995078947288 4 15} {4551845672378458907 4 16}]
------------------------------------------------------
flag 47813 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 43057 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13} {1629235374645264559 4 14} {5740272995078947288 4 15} {4551845672378458907 4 16}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13} {1629235374645264559 4 14} {5740272995078947288 4 15} {4551845672378458907 4 16}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4882246733638261291 (index 17) to leader 1
flag 58357 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 19920 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13} {1629235374645264559 4 14} {5740272995078947288 4 15} {4551845672378458907 4 16} {4882246733638261291 4 17}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63834 term 4 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 2021 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13} {1629235374645264559 4 14} {5740272995078947288 4 15} {4551845672378458907 4 16} {4882246733638261291 4 17}]
------------------------------------------------------
client write log 3872694160528540326 (index 18) to leader 1
client write log 5704567886728888907 (index 19) to leader 1
client write log 8579484642618160094 (index 20) to leader 1
client write log 3935155443122802434 (index 21) to leader 1
client write log 5710082075160889637 (index 22) to leader 1
client write log 7127634830714838212 (index 23) to leader 1
client write log 2172343284516791828 (index 24) to leader 1
client write log 1057415064074120054 (index 25) to leader 1
client write log 4448236177709557901 (index 26) to leader 1
client write log 7796271290138565535 (index 27) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 17->16
------------------------------------------------------
flag 31785 term 4 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 16
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 1 9} {6761053352483743449 1 10} {4061605217612853765 1 11} {7018918353238275081 1 12} {7018918353238275081 3 13} {1629235374645264559 4 14} {5740272995078947288 4 15} {4551845672378458907 4 16} {4882246733638261291 4 17} {3872694160528540326 4 18} {5704567886728888907 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=27
-------------------------------------------------------------
flag 9805 term 4 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 16
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=27
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2223456181394260517 (index 28) to leader 1
flag 53897 term 4 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 16
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 5 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 vote for server 1
term 6 server 0 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 1 get outdate rpc reply from server 0
flag 29728 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 44704 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 29->28
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
flag 43010 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 17  matchIndex[2]: 0
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 6 server 2 InstallSnapshot success
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46929 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 73208 term 6 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 6 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48931 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 39522 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
flag 42347 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 56187 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
flag 26753 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 33940 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2797 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 21203 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
flag 20658 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 49275 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
term 6 server 1 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 1
flag 90712 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 54141 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43303 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 35104 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
flag 47883 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 31685 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
flag 36542 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 36291 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
flag 79493 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 89780 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
flag 87421 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 17738 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17118 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 51517 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86003 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 60726 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
flag 13243 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 78057 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
flag 76734 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 35855 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46939 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 75718 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28}]
------------------------------------------------------
client write log 2223456181394260517 (index 29) to leader 1
flag 76851 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 59662 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28} {2223456181394260517 6 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 19} {8579484642618160094 4 20} {3935155443122802434 4 21} {5710082075160889637 4 22} {7127634830714838212 4 23} {2172343284516791828 4 24} {1057415064074120054 4 25} {4448236177709557901 4 26} {7796271290138565535 4 27} {2223456181394260517 4 28} {2223456181394260517 6 29}]
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
flag 47725 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 12131 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 not vote for server 1, 任期不够新
term 6 server 1 get outdate rpc reply from server 2
flag 30995 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 26549 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
flag 74495 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 41130 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
flag 50845 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 73952 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22513 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 43015 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
flag 90946 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 3307 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1895054082746755010 (index 30) to leader 1
flag 59222 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 36119 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {1895054082746755010 6 30}]
------------------------------------------------------
flag 2157 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 68507 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {1895054082746755010 6 30}]
------------------------------------------------------
client write log 7928511993123559144 (index 31) to leader 1
client write log 8001028788149468084 (index 32) to leader 1
client write log 2669667833152809828 (index 33) to leader 1
client write log 1977672655456705930 (index 34) to leader 1
client write log 1835951037286033790 (index 35) to leader 1
client write log 5482575103201182365 (index 36) to leader 1
client write log 8598929076637104460 (index 37) to leader 1
client write log 3233164102579718067 (index 38) to leader 1
client write log 4508178783248602603 (index 39) to leader 1
client write log 6014681184275086948 (index 40) to leader 1
client write log 2823048142967620910 (index 41) to leader 1
flag 74865 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 5543 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 29} {1895054082746755010 6 30} {7928511993123559144 6 31} {8001028788149468084 6 32} {2669667833152809828 6 33} {1977672655456705930 6 34} {1835951037286033790 6 35} {5482575103201182365 6 36} {8598929076637104460 6 37} {3233164102579718067 6 38} {4508178783248602603 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=41
-------------------------------------------------------------
flag 69403 term 6 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=41
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8017415211151866739 (index 42) to leader 1
term 6 server 1 not vote for server 2, 日志不够新
term 6 server 0 not vote for server 2, 日志不够新
term 8 server 2 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 1 become leader
------------------------------------------------------
term 8 server 0 vote for server 1
term 8 server 1 get outdate rpc reply from server 0
flag 97384 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 63924 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 43->42
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 43->42
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37134 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 30  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
term 8 server 2 InstallSnapshot success
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85687 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 10299 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
flag 44289 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 86128 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
flag 1785 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 11764 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15710 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 29378 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80953 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 6794 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
flag 17935 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 16189 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
flag 19731 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 19921 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
flag 82207 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 5848 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
flag 95559 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 98519 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64137 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 11007 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
flag 58476 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 28874 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
flag 42570 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 14042 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
flag 5496 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 71595 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91466 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 81429 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
flag 17522 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 19232 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39897 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 82886 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
flag 37754 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 96616 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
flag 22988 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 43469 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42}]
------------------------------------------------------
client write log 8017415211151866739 (index 43) to leader 1
flag 58935 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 66665 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43}]
------------------------------------------------------
flag 53275 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 57876 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59465 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 18478 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93819 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 27052 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43}]
------------------------------------------------------
term 8 server 0 not vote for server 2, 任期不够新
term 8 server 2 get outdate rpc reply from server 0
flag 35735 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 17750 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43}]
------------------------------------------------------
flag 75144 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 45266 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43}]
------------------------------------------------------
flag 61143 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 67779 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 84232 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 35820 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21772 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 70652 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61773 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 31054 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 vote for server 0
term 9 server 0 get vote from server 2
term 9 server 0 become leader
------------------------------------------------------
flag 84226 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 44821 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43}]
------------------------------------------------------
flag 6652 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 20557 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
client write log 3093102673238478290 (index 44) to leader 0
flag 74197 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 68234 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44}]
------------------------------------------------------
flag 29984 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 68041 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69748 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 27215 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44}]
------------------------------------------------------
flag 25453 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 65777 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
client write log 6605263426695686061 (index 45) to leader 0
flag 37617 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 4283 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
flag 27071 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 40303 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 49209 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 28522 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
flag 42439 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 26425 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
!!!!!!connect server 1
client write log 217493654234016630 (index 44) to leader 1
flag 44475 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 27762 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
flag 87866 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 41443 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
flag 2867 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 97018 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 46->45
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 45
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 82454 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 45 args.LastIncludedIndex 39
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
flag 95201 term 9 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
flag 54818 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
flag 99542 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 43785 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
flag 40550 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 33135 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
flag 60403 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 53689 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
flag 717 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 76824 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11070 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 55874 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72549 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 17679 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 1 not vote for server 0, 日志不够新
term 9 server 0 get outdate rpc reply from server 1
flag 67510 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 15401 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
flag 57608 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 92834 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
flag 18624 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 51941 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
flag 78740 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 32541 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 46->45
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 45
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 98041 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 45 args.LastIncludedIndex 39
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
flag 6350 term 9 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
flag 39233 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
flag 54680 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 39437 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43523 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 86491 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
flag 1862 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 18158 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45}]
------------------------------------------------------
client write log 217493654234016630 (index 46) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63943 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 20470 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45} {217493654234016630 9 46}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45} {217493654234016630 9 46}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42198 term 9 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 2605 term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45} {217493654234016630 9 46}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45} {217493654234016630 9 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 47->46
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 46
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 696 term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 46 args.LastIncludedIndex 39
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45} {217493654234016630 9 46}]
------------------------------------------------------
flag 50048 term 9 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 43969 term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45} {217493654234016630 9 46}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45} {217493654234016630 9 46}]
------------------------------------------------------
flag 53105 term 9 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 95432 term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45} {217493654234016630 9 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45} {217493654234016630 9 46}]
------------------------------------------------------
flag 51166 term 9 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 71222 term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45} {217493654234016630 9 46}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45} {217493654234016630 9 46}]
------------------------------------------------------
flag 41782 term 9 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 51835 term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45} {217493654234016630 9 46}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45} {217493654234016630 9 46}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7115489574945430057 (index 47) to leader 0
flag 56186 term 9 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 32978 term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45} {217493654234016630 9 46} {7115489574945430057 9 47}]
------------------------------------------------------
flag 49851 term 9 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 3661 term 9 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45} {217493654234016630 9 46} {7115489574945430057 9 47}]
------------------------------------------------------
client write log 5737318212210934715 (index 48) to leader 0
client write log 6435629311882818352 (index 49) to leader 0
client write log 3156173689253784242 (index 50) to leader 0
client write log 7720039305681301630 (index 51) to leader 0
client write log 4382472843732136516 (index 52) to leader 0
client write log 339448439380129545 (index 53) to leader 0
client write log 4047501597229980502 (index 54) to leader 0
client write log 8800688143956241420 (index 55) to leader 0
client write log 8488286952381723905 (index 56) to leader 0
client write log 1085458059382821499 (index 57) to leader 0
client write log 8783042704189760799 (index 58) to leader 0
client write log 2153879048286247467 (index 59) to leader 0
client write log 2134864012551152653 (index 60) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72591 term 9 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 77008 term 9 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 6 39} {6014681184275086948 6 40} {2823048142967620910 6 41} {8017415211151866739 6 42} {8017415211151866739 8 43} {3093102673238478290 9 44} {6605263426695686061 9 45} {217493654234016630 9 46} {7115489574945430057 9 47} {5737318212210934715 9 48} {6435629311882818352 9 49} {3156173689253784242 9 50} {7720039305681301630 9 51} {4382472843732136516 9 52} {339448439380129545 9 53} {4047501597229980502 9 54} {8800688143956241420 9 55} {8488286952381723905 9 56} {1085458059382821499 9 57} {8783042704189760799 9 58} {2153879048286247467 9 59} {2134864012551152653 9 60}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=60
-------------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=60
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 53792 term 9 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 9 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=60
-------------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=60
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2249629392210232303 (index 61) to leader 0
term 9 server 2 not vote for server 1, 日志不够新
term 9 server 0 not vote for server 1, 日志不够新
term 11 server 2 vote for server 0
term 11 server 0 get vote from server 2
term 11 server 0 become leader
------------------------------------------------------
term 11 server 1 vote for server 0
term 11 server 0 get outdate rpc reply from server 1
flag 36547 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 46485 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 62->61
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 62->61
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 0
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 19123 term 11 leader 0 nextIndex[2]: 61  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
term 11 server 1 InstallSnapshot success
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
flag 94689 term 11 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 69756 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
flag 64701 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 67375 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43761 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 63455 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18639 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 95813 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
flag 66977 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 15533 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
flag 59131 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 56573 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
flag 43666 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 25648 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
flag 53504 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 10914 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47405 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 20166 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
flag 48314 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 43042 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
flag 74984 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 80940 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1346 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 69841 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
flag 41424 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 81238 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
flag 83989 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 73016 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
flag 30598 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 47371 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52957 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 4653 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
flag 92245 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 49580 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61}]
------------------------------------------------------
client write log 2249629392210232303 (index 62) to leader 0
flag 23645 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 36159 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61} {2249629392210232303 11 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61} {2249629392210232303 11 62}]
------------------------------------------------------
flag 46142 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 71853 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61} {2249629392210232303 11 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61} {2249629392210232303 11 62}]
------------------------------------------------------
flag 35885 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 41363 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61} {2249629392210232303 11 62}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61} {2249629392210232303 11 62}]
------------------------------------------------------
flag 62989 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 46871 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61} {2249629392210232303 11 62}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61} {2249629392210232303 11 62}]
------------------------------------------------------
flag 96030 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 69492 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61} {2249629392210232303 11 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61} {2249629392210232303 11 62}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64048 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 36503 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61} {2249629392210232303 11 62}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61} {2249629392210232303 11 62}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5315511156217374119 (index 63) to leader 0
flag 63692 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 39910 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61} {2249629392210232303 11 62} {5315511156217374119 11 63}]
------------------------------------------------------
flag 94275 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 96864 term 11 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61} {2249629392210232303 11 62} {5315511156217374119 11 63}]
------------------------------------------------------
client write log 2540942283037071750 (index 64) to leader 0
client write log 2808914328502555814 (index 65) to leader 0
client write log 4514752772025434828 (index 66) to leader 0
client write log 1884251430644230157 (index 67) to leader 0
client write log 1588501874913617431 (index 68) to leader 0
client write log 1548445158077480956 (index 69) to leader 0
client write log 7122209325397074565 (index 70) to leader 0
client write log 5431415671139362617 (index 71) to leader 0
client write log 5077897621330731975 (index 72) to leader 0
client write log 7245117759521714268 (index 73) to leader 0
client write log 4587298631978815965 (index 74) to leader 0
client write log 4650268842545367854 (index 75) to leader 0
client write log 6547704210602462565 (index 76) to leader 0
flag 80072 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 15013 term 11 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 59} {2134864012551152653 9 60} {2249629392210232303 9 61} {2249629392210232303 11 62} {5315511156217374119 11 63} {2540942283037071750 11 64} {2808914328502555814 11 65} {4514752772025434828 11 66} {1884251430644230157 11 67} {1588501874913617431 11 68} {1548445158077480956 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76}]
------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=76
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 85265 term 11 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76}]
------------------------------------------------------
term 11 Server2 start snapshot! index=69
term 11 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=76
-------------------------------------------------------------
!!!!!!connect server 1
client write log 9213228349203542802 (index 77) to leader 0
term 11 server 2 not vote for server 1, 日志不够新
term 11 server 0 not vote for server 1, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 2 vote for server 0
term 13 server 1 vote for server 0
term 13 server 0 get vote from server 1
term 13 server 0 become leader
------------------------------------------------------
term 13 server 0 get outdate rpc reply from server 2
flag 6119 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 69250 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 78->77
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 78->77
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 63  matchIndex[1]: 0
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 89493 term 13 leader 0 nextIndex[2]: 77  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot success
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 11 rf.commitIndex 69 rf.lastApplied 69
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
flag 27135 term 13 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 98481 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
flag 56350 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 32193 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
flag 34988 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 55125 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
flag 90215 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 50074 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97438 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 70279 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
flag 95906 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 3413 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8042 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 67867 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
flag 14533 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 90530 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
flag 88949 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 61369 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
flag 35276 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 14921 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
flag 83219 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 35509 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
flag 35655 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 45558 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
flag 59385 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 18310 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
flag 60090 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 71365 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
flag 70918 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 45940 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
flag 75729 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 5321 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
flag 76271 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 25301 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
flag 52248 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 23729 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77}]
------------------------------------------------------
client write log 9213228349203542802 (index 78) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71987 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 41051 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77} {9213228349203542802 13 78}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77} {9213228349203542802 13 78}]
------------------------------------------------------
flag 63331 term 13 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 16744 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77} {9213228349203542802 13 78}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77} {9213228349203542802 13 78}]
------------------------------------------------------
flag 6116 term 13 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 88149 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77} {9213228349203542802 13 78}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77} {9213228349203542802 13 78}]
------------------------------------------------------
flag 95317 term 13 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 73957 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77} {9213228349203542802 13 78}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77} {9213228349203542802 13 78}]
------------------------------------------------------
flag 11507 term 13 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 29503 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77} {9213228349203542802 13 78}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77} {9213228349203542802 13 78}]
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51271 term 13 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 40770 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77} {9213228349203542802 13 78}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77} {9213228349203542802 13 78}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 97049 term 13 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 7434 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51497 term 13 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 92880 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 92570 term 13 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 65026 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 93524 term 13 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 74984 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 14 server 1 vote for server 2
term 14 server 2 get vote from server 1
term 14 server 2 become leader
------------------------------------------------------
flag 31205 term 14 leader 2 nextIndex[0]: 79  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 36976 term 14 leader 2 nextIndex[1]: 79  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77} {9213228349203542802 13 78}]
------------------------------------------------------
client write log 8507487275335670756 (index 79) to leader 2
flag 31814 term 13 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 13128 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 72302 term 14 leader 2 nextIndex[0]: 79  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 42125 term 14 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 11 69} {7122209325397074565 11 70} {5431415671139362617 11 71} {5077897621330731975 11 72} {7245117759521714268 11 73} {4587298631978815965 11 74} {4650268842545367854 11 75} {6547704210602462565 11 76} {9213228349203542802 11 77} {9213228349203542802 13 78} {8507487275335670756 14 79}]
------------------------------------------------------
term 14 Server2 start snapshot! index=79
term 14 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
flag 97620 term 13 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 41478 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 14 leader 2 nextIndex[0]: 79  matchIndex[0]: 0
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 15696 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 Server1 start snapshot! index=79
term 14 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
client write log 3339131431284598643 (index 80) to leader 2
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 79->78
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 0  matchIndex[1]: 78
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 7174 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 14 leader 2 nextIndex[0]: 79  matchIndex[0]: 0
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 52562 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {3339131431284598643 14 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 0  matchIndex[1]: 78
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 19538 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 14 leader 2 nextIndex[0]: 79  matchIndex[0]: 0
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 54596 term 14 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {3339131431284598643 14 80}]
------------------------------------------------------
!!!!!!connect server 0
client write log 666727390338812104 (index 81) to leader 2
term 13 leader 0 nextIndex[1]: 0  matchIndex[1]: 78
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 9678 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
term 14 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 leader 2 nextIndex[0]: 79  matchIndex[0]: 0
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 23546 term 14 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 0 InstallSnapshot success
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {3339131431284598643 14 80} {666727390338812104 14 81}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 14 rf.commitIndex 79 rf.lastApplied 79
flag 83225 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 10346 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {3339131431284598643 14 80} {666727390338812104 14 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {3339131431284598643 14 80} {666727390338812104 14 81}]
------------------------------------------------------
flag 11776 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 29373 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {3339131431284598643 14 80} {666727390338812104 14 81}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {3339131431284598643 14 80} {666727390338812104 14 81}]
------------------------------------------------------
flag 73978 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 15909 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {3339131431284598643 14 80} {666727390338812104 14 81}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {3339131431284598643 14 80} {666727390338812104 14 81}]
------------------------------------------------------
flag 72089 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 94710 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {3339131431284598643 14 80} {666727390338812104 14 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {3339131431284598643 14 80} {666727390338812104 14 81}]
------------------------------------------------------
flag 94084 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 20796 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {3339131431284598643 14 80} {666727390338812104 14 81}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {3339131431284598643 14 80} {666727390338812104 14 81}]
------------------------------------------------------
flag 4532 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 48297 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {3339131431284598643 14 80} {666727390338812104 14 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {3339131431284598643 14 80} {666727390338812104 14 81}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5437251024153858691 (index 82) to leader 2
flag 41061 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 23631 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {3339131431284598643 14 80} {666727390338812104 14 81} {5437251024153858691 14 82}]
------------------------------------------------------
flag 70644 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 95901 term 14 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {3339131431284598643 14 80} {666727390338812104 14 81} {5437251024153858691 14 82}]
------------------------------------------------------
client write log 6554956476013914238 (index 83) to leader 2
client write log 8694553032833082477 (index 84) to leader 2
client write log 2014428564499541450 (index 85) to leader 2
client write log 6951216860179788850 (index 86) to leader 2
client write log 5346494630431238167 (index 87) to leader 2
client write log 7471669110198108889 (index 88) to leader 2
client write log 6686344408197171131 (index 89) to leader 2
client write log 6804649990633458619 (index 90) to leader 2
client write log 7062863986284575955 (index 91) to leader 2
term 14 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
flag 79974 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 43496 term 14 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 79} {3339131431284598643 14 80} {666727390338812104 14 81} {5437251024153858691 14 82} {6554956476013914238 14 83} {8694553032833082477 14 84} {2014428564499541450 14 85} {6951216860179788850 14 86} {5346494630431238167 14 87} {7471669110198108889 14 88} {6686344408197171131 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91}]
------------------------------------------------------
term 14 Server2 start snapshot! index=89
term 14 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=91
-------------------------------------------------------------
term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 24106 term 14 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 14 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91}]
------------------------------------------------------
term 14 Server1 start snapshot! index=89
term 14 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=91
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2177350681675970456 (index 92) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 80->79
------------------------------------------------------
term 14 server 2 not vote for server 0, 日志不够新
term 14 server 1 not vote for server 0, 日志不够新
term 16 server 0 vote for server 2
term 16 server 1 vote for server 2
term 16 server 2 get vote from server 0
term 16 server 2 become leader
------------------------------------------------------
term 16 server 2 get outdate rpc reply from server 1
flag 55118 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 2410 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 93->92
------------------------------------------------------
term 16 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 93->92
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 0
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 62227 term 16 leader 2 nextIndex[1]: 92  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
term 16 server 0 InstallSnapshot success
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 14 rf.commitIndex 89 rf.lastApplied 89
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74760 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 45357 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
flag 33867 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 2943 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41817 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 39736 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
flag 36968 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 21115 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11137 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 6416 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
flag 36802 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 36638 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
flag 28241 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 26663 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90264 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 46037 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
flag 1151 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 72296 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
flag 82748 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 17691 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
flag 74059 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 79253 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
flag 59302 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 66386 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
flag 30203 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 9311 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45189 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 45232 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
flag 60554 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 64335 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
flag 82632 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 58511 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
flag 10408 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 91918 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
flag 58725 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 34953 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92}]
------------------------------------------------------
client write log 2177350681675970456 (index 93) to leader 2
flag 10975 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 74233 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92} {2177350681675970456 16 93}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92} {2177350681675970456 16 93}]
------------------------------------------------------
flag 71043 term 16 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 95147 term 16 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 16 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92} {2177350681675970456 16 93}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92} {2177350681675970456 16 93}]
------------------------------------------------------
flag 80405 term 16 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 77031 term 16 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 16 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92} {2177350681675970456 16 93}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92} {2177350681675970456 16 93}]
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72152 term 16 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 90046 term 16 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 16 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92} {2177350681675970456 16 93}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92} {2177350681675970456 16 93}]
------------------------------------------------------
flag 73789 term 16 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 68442 term 16 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 16 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92} {2177350681675970456 16 93}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92} {2177350681675970456 16 93}]
------------------------------------------------------
flag 82369 term 16 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 64711 term 16 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 16 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92} {2177350681675970456 16 93}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92} {2177350681675970456 16 93}]
------------------------------------------------------
flag 31991 term 16 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 29661 term 16 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 16 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
term 16 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92} {2177350681675970456 16 93}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92} {2177350681675970456 16 93}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7029229736389498766 (index 94) to leader 2
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 336 term 16 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 86516 term 16 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 16 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92} {2177350681675970456 16 93} {7029229736389498766 16 94}]
------------------------------------------------------
flag 93420 term 16 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 15394 term 16 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 16 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92} {2177350681675970456 16 93} {7029229736389498766 16 94}]
------------------------------------------------------
client write log 956403092656434612 (index 95) to leader 2
client write log 6219313496706306805 (index 96) to leader 2
client write log 8368684357148020762 (index 97) to leader 2
client write log 4835925467085667677 (index 98) to leader 2
client write log 2820915152647790248 (index 99) to leader 2
client write log 8069909919073555386 (index 100) to leader 2
client write log 2789434282826014645 (index 101) to leader 2
client write log 4748470937059461122 (index 102) to leader 2
client write log 1589786673447704691 (index 103) to leader 2
client write log 6634761521888683519 (index 104) to leader 2
client write log 7627749181860821752 (index 105) to leader 2
client write log 7390145065419160495 (index 106) to leader 2
client write log 7990535051205789219 (index 107) to leader 2
flag 61017 term 16 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 61886 term 16 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 16 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 14 89} {6804649990633458619 14 90} {7062863986284575955 14 91} {2177350681675970456 14 92} {2177350681675970456 16 93} {7029229736389498766 16 94} {956403092656434612 16 95} {6219313496706306805 16 96} {8368684357148020762 16 97} {4835925467085667677 16 98} {2820915152647790248 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107}]
------------------------------------------------------
term 16 Server2 start snapshot! index=99
term 16 server2 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=107
-------------------------------------------------------------
term 16 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 87971 term 16 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 16 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107}]
------------------------------------------------------
term 16 Server1 start snapshot! index=99
term 16 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=107
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2674412285942082556 (index 108) to leader 2
term 16 server 2 not vote for server 0, 日志不够新
term 16 server 1 not vote for server 0, 日志不够新
term 18 server 1 vote for server 2
term 18 server 2 get vote from server 1
term 18 server 2 become leader
------------------------------------------------------
term 18 server 0 vote for server 2
term 18 server 2 get outdate rpc reply from server 0
flag 30151 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 91027 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 109->108
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 109->108
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 2 nextIndex[0]: 94  matchIndex[0]: 0
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 86519 term 18 leader 2 nextIndex[1]: 108  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 0 InstallSnapshot success
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 100 matchIndex[0] 99 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 16 rf.commitIndex 99 rf.lastApplied 99
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
flag 20299 term 18 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 67288 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
flag 33592 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 81747 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
flag 39187 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 8353 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
flag 2066 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 78786 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
flag 33319 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 80429 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23878 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 11080 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53706 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 46963 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26268 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 43104 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
flag 3025 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 60188 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52288 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 59449 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95597 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 51622 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
flag 64940 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 8320 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 0 not vote for server 2, 任期不够新
term 18 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62902 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 48903 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
flag 57223 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 35879 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
flag 88672 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 75184 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
flag 25582 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 42170 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76349 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 77866 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
flag 65188 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 39411 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108}]
------------------------------------------------------
client write log 2674412285942082556 (index 109) to leader 2
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94952 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 77979 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108} {2674412285942082556 18 109}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 16 99} {8069909919073555386 16 100} {2789434282826014645 16 101} {4748470937059461122 16 102} {1589786673447704691 16 103} {6634761521888683519 16 104} {7627749181860821752 16 105} {7390145065419160495 16 106} {7990535051205789219 16 107} {2674412285942082556 16 108} {2674412285942082556 18 109}]
------------------------------------------------------
term 18 Server2 start snapshot! index=109
term 18 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51171 term 18 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 23626 term 18 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 109}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 109}]
------------------------------------------------------
term 18 Server1 start snapshot! index=109
term 18 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
term 18 Server0 start snapshot! index=109
term 18 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
flag 43968 term 18 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 46062 term 18 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 109}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 109}]
------------------------------------------------------
flag 36074 term 18 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 43751 term 18 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 109}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 109}]
------------------------------------------------------
flag 2527 term 18 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 66294 term 18 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 109}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 109}]
------------------------------------------------------
flag 59321 term 18 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 9664 term 18 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 109}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 109}]
------------------------------------------------------
flag 31925 term 18 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 754 term 18 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 109}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 109}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 20715 term 18 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 38100 term 18 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 59925 term 18 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 91771 term 18 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 71980 term 18 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 43194 term 18 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 vote for server 0
term 19 server 0 get vote from server 1
term 19 server 0 become leader
------------------------------------------------------
flag 84220 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 80110 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 109}]
------------------------------------------------------
flag 88274 term 18 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 9213 term 18 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 110->109
------------------------------------------------------
client write log 6843505179484163944 (index 110) to leader 0
flag 22095 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 34295 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {6843505179484163944 19 110}]
------------------------------------------------------
term 18 leader 2 nextIndex[0]: 0  matchIndex[0]: 109
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
flag 21359 term 18 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 19033 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 69018 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {6843505179484163944 19 110}]
------------------------------------------------------
client write log 764836501827505473 (index 111) to leader 0
client write log 4765552832869159596 (index 112) to leader 0
client write log 8743413850324882926 (index 113) to leader 0
client write log 1521135257094141470 (index 114) to leader 0
client write log 8063132398440462957 (index 115) to leader 0
client write log 500434700051003331 (index 116) to leader 0
client write log 2858979939518716539 (index 117) to leader 0
client write log 2750795283112764383 (index 118) to leader 0
client write log 5742546732402913851 (index 119) to leader 0
client write log 3285812425569768451 (index 120) to leader 0
client write log 1861912431409821419 (index 121) to leader 0
client write log 4235080176000037397 (index 122) to leader 0
client write log 5897958471396575060 (index 123) to leader 0
term 18 leader 2 nextIndex[0]: 0  matchIndex[0]: 109
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
flag 49548 term 18 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 84311 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 24719 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 18 109} {6843505179484163944 19 110} {764836501827505473 19 111} {4765552832869159596 19 112} {8743413850324882926 19 113} {1521135257094141470 19 114} {8063132398440462957 19 115} {500434700051003331 19 116} {2858979939518716539 19 117} {2750795283112764383 19 118} {5742546732402913851 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
term 19 Server0 start snapshot! index=119
term 19 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=123
-------------------------------------------------------------
term 18 leader 2 nextIndex[0]: 0  matchIndex[0]: 109
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
flag 62093 term 18 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 110->109
------------------------------------------------------
flag 54392 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
term 19 Server1 start snapshot! index=119
term 19 server1 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=123
-------------------------------------------------------------
term 18 leader 2 nextIndex[0]: 0  matchIndex[0]: 109
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
term 18 leader 2 nextIndex[1]: 0  matchIndex[1]: 109
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
!!!!!!connect server 2
client write log 6133312540273952676 (index 110) to leader 2
flag 45559 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 19 rf.commitIndex 119 rf.lastApplied 119
term 19 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
flag 30752 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 12551 term 19 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
flag 94562 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 56741 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
flag 12827 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 24132 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
flag 3106 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 91174 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
flag 97911 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 53410 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
flag 87934 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 34887 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
flag 39966 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 70833 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
flag 35071 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 45880 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6562 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 53357 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50230 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 8481 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
flag 28945 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 45624 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
flag 94714 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 33685 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
flag 15529 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 72161 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
flag 70225 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 67548 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
flag 61135 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 7324 term 19 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31278 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 96616 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
flag 24520 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 25284 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
flag 15891 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 996 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
flag 14828 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 66444 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123}]
------------------------------------------------------
client write log 6133312540273952676 (index 124) to leader 0
flag 12045 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 47331 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123} {6133312540273952676 19 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123} {6133312540273952676 19 124}]
------------------------------------------------------
term 19 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 125->124
------------------------------------------------------
flag 62505 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 0  matchIndex[2]: 124
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 2 InstallSnapshot fail
rf.commitIndex 123 args.LastIncludedIndex 119
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123} {6133312540273952676 19 124}]
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
flag 27136 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 45228 term 19 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123} {6133312540273952676 19 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123} {6133312540273952676 19 124}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11961 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 84460 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123} {6133312540273952676 19 124}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123} {6133312540273952676 19 124}]
------------------------------------------------------
flag 11849 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 27599 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123} {6133312540273952676 19 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123} {6133312540273952676 19 124}]
------------------------------------------------------
flag 68318 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 51029 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123} {6133312540273952676 19 124}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123} {6133312540273952676 19 124}]
------------------------------------------------------
flag 75247 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 47268 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123} {6133312540273952676 19 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123} {6133312540273952676 19 124}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47456 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 20616 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123} {6133312540273952676 19 124}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123} {6133312540273952676 19 124}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1128249434754950355 (index 125) to leader 0
flag 92557 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 19443 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123} {6133312540273952676 19 124} {1128249434754950355 19 125}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5242 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
flag 39178 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123} {6133312540273952676 19 124} {1128249434754950355 19 125}]
------------------------------------------------------
client write log 5823616709420507697 (index 126) to leader 0
client write log 3917859039970284218 (index 127) to leader 0
client write log 3713313214021947283 (index 128) to leader 0
client write log 8219658661178537644 (index 129) to leader 0
client write log 2550613062176210057 (index 130) to leader 0
client write log 8055067922696455248 (index 131) to leader 0
client write log 1493819378367349969 (index 132) to leader 0
flag 83049 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
flag 85329 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 19 119} {3285812425569768451 19 120} {1861912431409821419 19 121} {4235080176000037397 19 122} {5897958471396575060 19 123} {6133312540273952676 19 124} {1128249434754950355 19 125} {5823616709420507697 19 126} {3917859039970284218 19 127} {3713313214021947283 19 128} {8219658661178537644 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132}]
------------------------------------------------------
term 19 Server0 start snapshot! index=129
term 19 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=132
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 96379 term 19 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 19 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132}]
------------------------------------------------------
term 19 Server2 start snapshot! index=129
term 19 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=132
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3695302923753240518 (index 133) to leader 0
term 19 server 2 not vote for server 1, 日志不够新
term 19 server 0 not vote for server 1, 日志不够新
term 21 server 2 vote for server 0
term 21 server 1 vote for server 0
term 21 server 0 get vote from server 2
term 21 server 0 become leader
------------------------------------------------------
term 21 server 0 get outdate rpc reply from server 1
flag 17923 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 83206 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 134->133
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 134->133
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 12031 term 21 leader 0 nextIndex[2]: 133  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 21 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 19 rf.commitIndex 129 rf.lastApplied 129
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
flag 730 term 21 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 21 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 85622 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
flag 24506 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 93150 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81091 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 60798 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
flag 99175 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 18519 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
flag 85505 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 17361 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88525 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 31635 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
flag 8174 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 12559 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
flag 72423 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 73196 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40003 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 90505 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
flag 27544 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 16468 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
flag 20863 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 45995 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
flag 58900 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 22075 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
flag 84364 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 96252 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54718 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 69055 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9977 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 83508 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
flag 74693 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 99872 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
term 21 server 2 not vote for server 0, 任期不够新
term 21 server 0 get outdate rpc reply from server 2
flag 92042 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 53796 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
flag 26047 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 90573 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133}]
------------------------------------------------------
client write log 3695302923753240518 (index 134) to leader 0
flag 50205 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 46568 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133} {3695302923753240518 21 134}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133} {3695302923753240518 21 134}]
------------------------------------------------------
flag 19134 term 21 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 71515 term 21 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133} {3695302923753240518 21 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133} {3695302923753240518 21 134}]
------------------------------------------------------
flag 24306 term 21 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 45582 term 21 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133} {3695302923753240518 21 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133} {3695302923753240518 21 134}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90836 term 21 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 85551 term 21 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133} {3695302923753240518 21 134}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133} {3695302923753240518 21 134}]
------------------------------------------------------
flag 84840 term 21 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 95566 term 21 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133} {3695302923753240518 21 134}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133} {3695302923753240518 21 134}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37612 term 21 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 44973 term 21 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133} {3695302923753240518 21 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133} {3695302923753240518 21 134}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 774811074045237689 (index 135) to leader 0
flag 77327 term 21 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 32664 term 21 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133} {3695302923753240518 21 134} {774811074045237689 21 135}]
------------------------------------------------------
flag 82810 term 21 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 40125 term 21 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 21 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133} {3695302923753240518 21 134} {774811074045237689 21 135}]
------------------------------------------------------
client write log 8443347874238843972 (index 136) to leader 0
client write log 6098800555884862455 (index 137) to leader 0
client write log 2917589986848490929 (index 138) to leader 0
client write log 6085441407482686579 (index 139) to leader 0
client write log 5251605715700410913 (index 140) to leader 0
client write log 5473777036224679082 (index 141) to leader 0
client write log 27094868633593128 (index 142) to leader 0
client write log 5719385959618158730 (index 143) to leader 0
client write log 656364379673250022 (index 144) to leader 0
client write log 9156073482148606081 (index 145) to leader 0
client write log 5402664003813968748 (index 146) to leader 0
client write log 2665166122018077996 (index 147) to leader 0
client write log 4453031014309177389 (index 148) to leader 0
client write log 2190014277140158023 (index 149) to leader 0
client write log 1898538667510752131 (index 150) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41389 term 21 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 35080 term 21 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 21 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 19 129} {2550613062176210057 19 130} {8055067922696455248 19 131} {1493819378367349969 19 132} {3695302923753240518 19 133} {3695302923753240518 21 134} {774811074045237689 21 135} {8443347874238843972 21 136} {6098800555884862455 21 137} {2917589986848490929 21 138} {6085441407482686579 21 139} {5251605715700410913 21 140} {5473777036224679082 21 141} {27094868633593128 21 142} {5719385959618158730 21 143} {656364379673250022 21 144} {9156073482148606081 21 145} {5402664003813968748 21 146} {2665166122018077996 21 147} {4453031014309177389 21 148} {2190014277140158023 21 149} {1898538667510752131 21 150}]
------------------------------------------------------
term 21 Server0 start snapshot! index=139
term 21 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=150
-------------------------------------------------------------
term 21 Server0 start snapshot! index=149
term 21 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=150
-------------------------------------------------------------
term 21 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
flag 84583 term 21 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150}]
------------------------------------------------------
term 21 Server2 start snapshot! index=139
term 21 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=150
-------------------------------------------------------------
term 21 Server2 start snapshot! index=149
term 21 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=150
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4702676058919199385 (index 151) to leader 0
term 21 server 2 not vote for server 1, 日志不够新
term 21 server 0 not vote for server 1, 日志不够新
term 23 server 2 vote for server 0
term 23 server 1 vote for server 0
term 23 server 0 get vote from server 2
term 23 server 0 become leader
------------------------------------------------------
term 23 server 0 get outdate rpc reply from server 1
flag 52383 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 62082 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 152->151
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 152->151
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 135  matchIndex[1]: 0
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
flag 4690 term 23 leader 0 nextIndex[2]: 151  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 1 InstallSnapshot success
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 21 rf.commitIndex 149 rf.lastApplied 149
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
flag 64590 term 23 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 23 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 70053 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
flag 60809 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 60296 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
flag 8528 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 37032 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
flag 13467 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 1082 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
flag 96185 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 39684 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
flag 69751 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 67400 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
flag 50259 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 54684 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
flag 1019 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 60098 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
flag 96107 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 27306 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
flag 33003 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 33607 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
flag 9182 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 27342 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22738 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 3536 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
flag 99832 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 51938 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
flag 74411 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 22462 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
flag 27601 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 34727 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
flag 90178 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 4226 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
flag 23408 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 25924 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151}]
------------------------------------------------------
client write log 4702676058919199385 (index 152) to leader 0
flag 83399 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 96195 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151} {4702676058919199385 23 152}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151} {4702676058919199385 23 152}]
------------------------------------------------------
flag 79949 term 23 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 99033 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151} {4702676058919199385 23 152}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151} {4702676058919199385 23 152}]
------------------------------------------------------
flag 42388 term 23 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 22369 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151} {4702676058919199385 23 152}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151} {4702676058919199385 23 152}]
------------------------------------------------------
flag 67241 term 23 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 70574 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
term 23 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151} {4702676058919199385 23 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151} {4702676058919199385 23 152}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4631 term 23 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 79294 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151} {4702676058919199385 23 152}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151} {4702676058919199385 23 152}]
------------------------------------------------------
flag 28367 term 23 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 46290 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151} {4702676058919199385 23 152}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151} {4702676058919199385 23 152}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 88730 term 23 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 17373 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 58298 term 23 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 81062 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 89060 term 23 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 79031 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 24 server 2 vote for server 1
term 24 server 1 get vote from server 2
term 24 server 1 become leader
------------------------------------------------------
flag 89953 term 24 leader 1 nextIndex[0]: 153  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 12800 term 24 leader 1 nextIndex[2]: 153  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151} {4702676058919199385 23 152}]
------------------------------------------------------
client write log 1531105862903769301 (index 153) to leader 1
flag 70909 term 23 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 30530 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 48607 term 24 leader 1 nextIndex[0]: 153  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 88455 term 24 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 24 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151} {4702676058919199385 23 152} {1531105862903769301 24 153}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89455 term 23 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 69812 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 43280 term 24 leader 1 nextIndex[0]: 153  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
flag 32544 term 24 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 24 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151} {4702676058919199385 23 152} {1531105862903769301 24 153}]
------------------------------------------------------
client write log 2526274271557929807 (index 154) to leader 1
client write log 1440077464941931258 (index 155) to leader 1
client write log 492867386454908530 (index 156) to leader 1
client write log 3455523605195872253 (index 157) to leader 1
client write log 8384898942869449653 (index 158) to leader 1
client write log 4100751468288192894 (index 159) to leader 1
client write log 2640192075123974181 (index 160) to leader 1
client write log 2837608775701825188 (index 161) to leader 1
client write log 38957588515306714 (index 162) to leader 1
client write log 5552916708815859726 (index 163) to leader 1
client write log 421583534372241418 (index 164) to leader 1
client write log 6960193505635366229 (index 165) to leader 1
client write log 8319131624242007312 (index 166) to leader 1
flag 72786 term 23 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 98937 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 10277 term 24 leader 1 nextIndex[0]: 153  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
flag 47327 term 24 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 24 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 21 149} {1898538667510752131 21 150} {4702676058919199385 21 151} {4702676058919199385 23 152} {1531105862903769301 24 153} {2526274271557929807 24 154} {1440077464941931258 24 155} {492867386454908530 24 156} {3455523605195872253 24 157} {8384898942869449653 24 158} {4100751468288192894 24 159} {2640192075123974181 24 160} {2837608775701825188 24 161} {38957588515306714 24 162} {5552916708815859726 24 163} {421583534372241418 24 164} {6960193505635366229 24 165} {8319131624242007312 24 166}]
------------------------------------------------------
term 24 Server1 start snapshot! index=159
term 24 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=166
-------------------------------------------------------------
flag 70009 term 23 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 85807 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 24 leader 1 nextIndex[0]: 153  matchIndex[0]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 28364 term 24 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 24 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 166 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 24 159} {2640192075123974181 24 160} {2837608775701825188 24 161} {38957588515306714 24 162} {5552916708815859726 24 163} {421583534372241418 24 164} {6960193505635366229 24 165} {8319131624242007312 24 166}]
------------------------------------------------------
term 24 Server2 start snapshot! index=159
term 24 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=166
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7905302173404107490 (index 167) to leader 1
flag 46792 term 23 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 43723 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 24 server 2 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 24 server 1 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 1 nextIndex[0]: 153  matchIndex[0]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 94622 term 24 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 24 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 166 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {2640192075123974181 24 160} {2837608775701825188 24 161} {38957588515306714 24 162} {5552916708815859726 24 163} {421583534372241418 24 164} {6960193505635366229 24 165} {8319131624242007312 24 166} {7905302173404107490 24 167}]
------------------------------------------------------
term 24 server 0 InstallSnapshot success
------------------------------------------------------
term 24 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 24 rf.commitIndex 159 rf.lastApplied 159
flag 2385 term 24 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
flag 48356 term 24 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {2640192075123974181 24 160} {2837608775701825188 24 161} {38957588515306714 24 162} {5552916708815859726 24 163} {421583534372241418 24 164} {6960193505635366229 24 165} {8319131624242007312 24 166} {7905302173404107490 24 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {2640192075123974181 24 160} {2837608775701825188 24 161} {38957588515306714 24 162} {5552916708815859726 24 163} {421583534372241418 24 164} {6960193505635366229 24 165} {8319131624242007312 24 166} {7905302173404107490 24 167}]
------------------------------------------------------
flag 72927 term 24 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
flag 22682 term 24 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
term 24 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
[{snapshot 24 159} {2640192075123974181 24 160} {2837608775701825188 24 161} {38957588515306714 24 162} {5552916708815859726 24 163} {421583534372241418 24 164} {6960193505635366229 24 165} {8319131624242007312 24 166} {7905302173404107490 24 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {2640192075123974181 24 160} {2837608775701825188 24 161} {38957588515306714 24 162} {5552916708815859726 24 163} {421583534372241418 24 164} {6960193505635366229 24 165} {8319131624242007312 24 166} {7905302173404107490 24 167}]
------------------------------------------------------
flag 1292 term 24 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
flag 53259 term 24 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {2640192075123974181 24 160} {2837608775701825188 24 161} {38957588515306714 24 162} {5552916708815859726 24 163} {421583534372241418 24 164} {6960193505635366229 24 165} {8319131624242007312 24 166} {7905302173404107490 24 167}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {2640192075123974181 24 160} {2837608775701825188 24 161} {38957588515306714 24 162} {5552916708815859726 24 163} {421583534372241418 24 164} {6960193505635366229 24 165} {8319131624242007312 24 166} {7905302173404107490 24 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 168->167
------------------------------------------------------
term 24 leader 1 nextIndex[0]: 0  matchIndex[0]: 167
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 86333 term 24 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {2640192075123974181 24 160} {2837608775701825188 24 161} {38957588515306714 24 162} {5552916708815859726 24 163} {421583534372241418 24 164} {6960193505635366229 24 165} {8319131624242007312 24 166} {7905302173404107490 24 167}]
------------------------------------------------------
term 24 server 0 InstallSnapshot fail
rf.commitIndex 167 args.LastIncludedIndex 159
------------------------------------------------------
term 24 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30749 term 24 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
flag 69576 term 24 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {2640192075123974181 24 160} {2837608775701825188 24 161} {38957588515306714 24 162} {5552916708815859726 24 163} {421583534372241418 24 164} {6960193505635366229 24 165} {8319131624242007312 24 166} {7905302173404107490 24 167}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {2640192075123974181 24 160} {2837608775701825188 24 161} {38957588515306714 24 162} {5552916708815859726 24 163} {421583534372241418 24 164} {6960193505635366229 24 165} {8319131624242007312 24 166} {7905302173404107490 24 167}]
------------------------------------------------------
flag 57904 term 24 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
flag 50788 term 24 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {2640192075123974181 24 160} {2837608775701825188 24 161} {38957588515306714 24 162} {5552916708815859726 24 163} {421583534372241418 24 164} {6960193505635366229 24 165} {8319131624242007312 24 166} {7905302173404107490 24 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {2640192075123974181 24 160} {2837608775701825188 24 161} {38957588515306714 24 162} {5552916708815859726 24 163} {421583534372241418 24 164} {6960193505635366229 24 165} {8319131624242007312 24 166} {7905302173404107490 24 167}]
------------------------------------------------------
flag 91673 term 24 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
flag 62894 term 24 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {2640192075123974181 24 160} {2837608775701825188 24 161} {38957588515306714 24 162} {5552916708815859726 24 163} {421583534372241418 24 164} {6960193505635366229 24 165} {8319131624242007312 24 166} {7905302173404107490 24 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {2640192075123974181 24 160} {2837608775701825188 24 161} {38957588515306714 24 162} {5552916708815859726 24 163} {421583534372241418 24 164} {6960193505635366229 24 165} {8319131624242007312 24 166} {7905302173404107490 24 167}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7458079563633497469 (index 168) to leader 1
flag 28839 term 24 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
flag 34143 term 24 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2640192075123974181 24 160} {2837608775701825188 24 161} {38957588515306714 24 162} {5552916708815859726 24 163} {421583534372241418 24 164} {6960193505635366229 24 165} {8319131624242007312 24 166} {7905302173404107490 24 167} {7458079563633497469 24 168}]
------------------------------------------------------
flag 96880 term 24 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 24 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 43664 term 24 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2640192075123974181 24 160} {2837608775701825188 24 161} {38957588515306714 24 162} {5552916708815859726 24 163} {421583534372241418 24 164} {6960193505635366229 24 165} {8319131624242007312 24 166} {7905302173404107490 24 167} {7458079563633497469 24 168}]
------------------------------------------------------
client write log 7773179423139156416 (index 169) to leader 1
client write log 7742573335226546160 (index 170) to leader 1
client write log 4491167685337719186 (index 171) to leader 1
client write log 3075714576444739510 (index 172) to leader 1
client write log 6738440594195288484 (index 173) to leader 1
client write log 6375666943515525159 (index 174) to leader 1
client write log 1558911074209875443 (index 175) to leader 1
client write log 4399444202280689266 (index 176) to leader 1
client write log 5496935425881220473 (index 177) to leader 1
client write log 4144091361929368656 (index 178) to leader 1
client write log 7779988145425104667 (index 179) to leader 1
client write log 4283407212333382000 (index 180) to leader 1
client write log 6082683208021070026 (index 181) to leader 1
client write log 6312666923794592173 (index 182) to leader 1
flag 65710 term 24 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 24 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 88273 term 24 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 24 159} {2640192075123974181 24 160} {2837608775701825188 24 161} {38957588515306714 24 162} {5552916708815859726 24 163} {421583534372241418 24 164} {6960193505635366229 24 165} {8319131624242007312 24 166} {7905302173404107490 24 167} {7458079563633497469 24 168} {7773179423139156416 24 169} {7742573335226546160 24 170} {4491167685337719186 24 171} {3075714576444739510 24 172} {6738440594195288484 24 173} {6375666943515525159 24 174} {1558911074209875443 24 175} {4399444202280689266 24 176} {5496935425881220473 24 177} {4144091361929368656 24 178} {7779988145425104667 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182}]
------------------------------------------------------
term 24 Server1 start snapshot! index=169
term 24 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=182
-------------------------------------------------------------
term 24 Server1 start snapshot! index=179
term 24 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=182
-------------------------------------------------------------
flag 46840 term 24 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 24 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182}]
------------------------------------------------------
term 24 Server0 start snapshot! index=169
term 24 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=182
-------------------------------------------------------------
term 24 Server0 start snapshot! index=179
term 24 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=182
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5347535392420907411 (index 183) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 server 1 not vote for server 2, 日志不够新
term 24 server 0 not vote for server 2, 日志不够新
term 26 server 2 vote for server 1
term 26 server 0 vote for server 1
term 26 server 1 get vote from server 0
term 26 server 1 become leader
------------------------------------------------------
term 26 server 1 get outdate rpc reply from server 2
flag 89921 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
flag 84630 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
term 26 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 26 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 184->183
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 184->183
------------------------------------------------------
flag 34541 term 26 leader 1 nextIndex[0]: 183  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 168  matchIndex[2]: 0
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 24
------------------------------------------------------
term 26 server 2 InstallSnapshot success
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 24 rf.commitIndex 179 rf.lastApplied 179
term 26 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45742 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
flag 55179 term 26 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 26 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
flag 26398 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
flag 76290 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
flag 23733 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
flag 48105 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
term 26 server 0 not vote for server 1, 任期不够新
term 26 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81909 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
flag 74810 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
flag 90156 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
flag 15402 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
flag 34358 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
flag 55086 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25326 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
flag 25326 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
flag 95156 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
flag 3371 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
term 26 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
flag 7001 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
flag 99135 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
flag 97744 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
flag 84671 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48810 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
flag 66515 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65435 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
flag 69510 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
flag 46975 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
flag 87680 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51178 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
flag 45585 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65203 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
flag 25116 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 26 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
update nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
flag 47126 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
flag 34134 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
flag 10917 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
flag 71217 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183}]
------------------------------------------------------
client write log 5347535392420907411 (index 184) to leader 1
flag 58223 term 26 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
flag 14272 term 26 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183} {5347535392420907411 26 184}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183} {5347535392420907411 26 184}]
------------------------------------------------------
flag 21574 term 26 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 26 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 76855 term 26 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 26 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183} {5347535392420907411 26 184}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183} {5347535392420907411 26 184}]
------------------------------------------------------
flag 58327 term 26 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 26 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 15741 term 26 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 26 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
term 26 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183} {5347535392420907411 26 184}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183} {5347535392420907411 26 184}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42690 term 26 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 26 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 90462 term 26 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 26 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183} {5347535392420907411 26 184}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183} {5347535392420907411 26 184}]
------------------------------------------------------
flag 63258 term 26 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 26 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 80801 term 26 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 26 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183} {5347535392420907411 26 184}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183} {5347535392420907411 26 184}]
------------------------------------------------------
flag 13850 term 26 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 26 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 4240 term 26 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 26 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183} {5347535392420907411 26 184}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183} {5347535392420907411 26 184}]
------------------------------------------------------
flag 51366 term 26 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 26 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 73664 term 26 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 26 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183} {5347535392420907411 26 184}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183} {5347535392420907411 26 184}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1485662781048041271 (index 185) to leader 1
flag 78658 term 26 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 26 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 97466 term 26 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 26 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183} {5347535392420907411 26 184} {1485662781048041271 26 185}]
------------------------------------------------------
flag 15374 term 26 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 26 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
flag 84635 term 26 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 26 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183} {5347535392420907411 26 184} {1485662781048041271 26 185}]
------------------------------------------------------
client write log 8198806347073480149 (index 186) to leader 1
client write log 3523940395471550637 (index 187) to leader 1
client write log 7242386910911276997 (index 188) to leader 1
client write log 6134472367858999272 (index 189) to leader 1
client write log 6184554258652025162 (index 190) to leader 1
client write log 1608397546544005369 (index 191) to leader 1
client write log 8284708107224450491 (index 192) to leader 1
client write log 914355891818166273 (index 193) to leader 1
client write log 6947148006129119173 (index 194) to leader 1
client write log 6807972494905085992 (index 195) to leader 1
flag 29573 term 26 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 26 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
flag 2271 term 26 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 26 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 24 179} {4283407212333382000 24 180} {6082683208021070026 24 181} {6312666923794592173 24 182} {5347535392420907411 24 183} {5347535392420907411 26 184} {1485662781048041271 26 185} {8198806347073480149 26 186} {3523940395471550637 26 187} {7242386910911276997 26 188} {6134472367858999272 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195}]
------------------------------------------------------
term 26 Server1 start snapshot! index=189
term 26 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=195
-------------------------------------------------------------
flag 13122 term 26 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 26 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195}]
------------------------------------------------------
term 26 Server0 start snapshot! index=189
term 26 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=195
-------------------------------------------------------------
!!!!!!connect server 2
client write log 9117242631644928159 (index 196) to leader 1
term 26 server 1 not vote for server 2, 日志不够新
term 26 server 0 not vote for server 2, 日志不够新
term 28 server 2 vote for server 1
term 28 server 1 get vote from server 2
term 28 server 1 become leader
------------------------------------------------------
term 28 server 0 vote for server 1
term 28 server 1 get outdate rpc reply from server 0
flag 53200 term 28 leader 1 nextIndex[0]: 197  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
flag 27962 term 28 leader 1 nextIndex[2]: 197  matchIndex[2]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
term 28 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 197->196
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 197->196
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33988 term 28 leader 1 nextIndex[0]: 196  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 185  matchIndex[2]: 0
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 26
------------------------------------------------------
term 28 server 2 InstallSnapshot success
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot success
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 26 rf.commitIndex 189 rf.lastApplied 189
term 28 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23357 term 28 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
flag 54556 term 28 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 28 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
flag 21481 term 28 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
flag 25019 term 28 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
flag 59345 term 28 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
flag 94198 term 28 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
flag 25704 term 28 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
flag 58625 term 28 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
flag 35506 term 28 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
flag 21821 term 28 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
term 28 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94159 term 28 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
flag 26538 term 28 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
flag 18543 term 28 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
flag 43212 term 28 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57829 term 28 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
flag 90842 term 28 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
flag 37791 term 28 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
flag 79595 term 28 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92136 term 28 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
flag 17136 term 28 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25832 term 28 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
flag 14838 term 28 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
flag 17484 term 28 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
flag 42025 term 28 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 987 term 28 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
flag 26536 term 28 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94947 term 28 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
flag 98357 term 28 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
flag 45256 term 28 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
flag 33075 term 28 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
flag 75821 term 28 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
flag 47512 term 28 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
term 28 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
flag 37834 term 28 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
flag 52633 term 28 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196}]
------------------------------------------------------
client write log 9117242631644928159 (index 197) to leader 1
flag 55335 term 28 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
flag 7628 term 28 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 28 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 26 leaderCommit: 195 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196} {9117242631644928159 28 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196} {9117242631644928159 28 197}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65580 term 28 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
flag 95002 term 28 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196} {9117242631644928159 28 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196} {9117242631644928159 28 197}]
------------------------------------------------------
flag 43093 term 28 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
flag 62173 term 28 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196} {9117242631644928159 28 197}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196} {9117242631644928159 28 197}]
------------------------------------------------------
flag 58584 term 28 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
flag 71662 term 28 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196} {9117242631644928159 28 197}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196} {9117242631644928159 28 197}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82308 term 28 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
flag 65227 term 28 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196} {9117242631644928159 28 197}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196} {9117242631644928159 28 197}]
------------------------------------------------------
flag 9631 term 28 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
flag 81206 term 28 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196} {9117242631644928159 28 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196} {9117242631644928159 28 197}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 69725 term 28 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
flag 26422 term 28 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
flag 99229 term 28 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
flag 49085 term 28 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
flag 9052 term 28 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
flag 30822 term 28 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
flag 3594 term 28 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
flag 5776 term 28 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
term 29 server 0 vote for server 2
term 29 server 2 get vote from server 0
term 29 server 2 become leader
------------------------------------------------------
flag 87149 term 29 leader 2 nextIndex[0]: 198  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
flag 11595 term 29 leader 2 nextIndex[1]: 198  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196} {9117242631644928159 28 197}]
------------------------------------------------------
client write log 2330437100457829206 (index 198) to leader 2
flag 87440 term 28 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
flag 85306 term 28 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
flag 76063 term 29 leader 2 nextIndex[0]: 198  matchIndex[0]: 197
term 29 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
flag 28928 term 29 leader 2 nextIndex[1]: 198  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196} {9117242631644928159 28 197} {2330437100457829206 29 198}]
------------------------------------------------------
flag 82836 term 28 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
flag 48325 term 28 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
flag 26309 term 29 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 46689 term 29 leader 2 nextIndex[1]: 198  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 198 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196} {9117242631644928159 28 197} {2330437100457829206 29 198}]
------------------------------------------------------
client write log 4741911906625778220 (index 199) to leader 2
client write log 7185380181166813948 (index 200) to leader 2
client write log 530717778033821394 (index 201) to leader 2
client write log 1575223421078469888 (index 202) to leader 2
client write log 3158736910244853743 (index 203) to leader 2
client write log 6072980862014918713 (index 204) to leader 2
client write log 8431333404063714820 (index 205) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16839 term 28 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
flag 78055 term 28 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
flag 86683 term 29 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 39603 term 29 leader 2 nextIndex[1]: 198  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 198 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 26 189} {6184554258652025162 26 190} {1608397546544005369 26 191} {8284708107224450491 26 192} {914355891818166273 26 193} {6947148006129119173 26 194} {6807972494905085992 26 195} {9117242631644928159 26 196} {9117242631644928159 28 197} {2330437100457829206 29 198} {4741911906625778220 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
term 29 Server2 start snapshot! index=199
term 29 server2 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=205
-------------------------------------------------------------
flag 45935 term 28 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
flag 6429 term 28 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
flag 47393 term 29 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 198  matchIndex[1]: 0
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
term 29 Server0 start snapshot! index=199
term 29 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=205
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1681666144813846886 (index 198) to leader 1
flag 55053 term 28 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
flag 10910 term 28 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 28 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 28 leaderCommit: 197 
------------------------------------------------------
term 29 server 2 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 29 server 0 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43515 term 29 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 198  matchIndex[1]: 0
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 1 InstallSnapshot success
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 29 rf.commitIndex 199 rf.lastApplied 199
term 29 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
flag 26608 term 29 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 17368 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
flag 81647 term 29 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 29419 term 29 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
flag 48351 term 29 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 49341 term 29 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
flag 49594 term 29 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 20157 term 29 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
flag 68596 term 29 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 26378 term 29 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
flag 44478 term 29 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 66023 term 29 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
flag 3638 term 29 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 48007 term 29 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
flag 33709 term 29 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 73314 term 29 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54881 term 29 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 38677 term 29 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
flag 96142 term 29 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 56249 term 29 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
flag 51042 term 29 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 69999 term 29 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
term 29 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44695 term 29 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 1931 term 29 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
flag 72665 term 29 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 56238 term 29 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
flag 39055 term 29 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 89161 term 29 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
flag 89705 term 29 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 61475 term 29 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
flag 13350 term 29 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 10869 term 29 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
flag 73485 term 29 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 50493 term 29 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96407 term 29 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 13798 term 29 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
term 29 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 598 term 29 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 44538 term 29 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205}]
------------------------------------------------------
client write log 1681666144813846886 (index 206) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 206->205
------------------------------------------------------
flag 61328 term 29 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 0  matchIndex[1]: 205
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 1 InstallSnapshot fail
rf.commitIndex 205 args.LastIncludedIndex 199
------------------------------------------------------
term 29 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205} {1681666144813846886 29 206}]
------------------------------------------------------
flag 1779 term 29 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 29 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
flag 49921 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205} {1681666144813846886 29 206}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205} {1681666144813846886 29 206}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69734 term 29 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 29 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
flag 1964 term 29 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 29 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205} {1681666144813846886 29 206}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205} {1681666144813846886 29 206}]
------------------------------------------------------
flag 82147 term 29 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 29 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
flag 90403 term 29 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 29 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205} {1681666144813846886 29 206}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205} {1681666144813846886 29 206}]
------------------------------------------------------
flag 53266 term 29 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 29 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
flag 6293 term 29 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 29 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205} {1681666144813846886 29 206}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205} {1681666144813846886 29 206}]
------------------------------------------------------
flag 53617 term 29 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 29 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
flag 51282 term 29 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 29 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205} {1681666144813846886 29 206}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205} {1681666144813846886 29 206}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 207->206
------------------------------------------------------
flag 63826 term 29 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 29 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 0  matchIndex[1]: 206
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
term 29 server 1 InstallSnapshot fail
rf.commitIndex 206 args.LastIncludedIndex 199
------------------------------------------------------
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205} {1681666144813846886 29 206}]
------------------------------------------------------
term 29 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
flag 24600 term 29 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 29 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
flag 24999 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205} {1681666144813846886 29 206}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205} {1681666144813846886 29 206}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8275775858385687706 (index 207) to leader 2
flag 4413 term 29 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 29 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
flag 2985 term 29 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 29 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205} {1681666144813846886 29 206} {8275775858385687706 29 207}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7440 term 29 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 29 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 207 
------------------------------------------------------
flag 66145 term 29 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 29 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 29 leaderCommit: 207 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205} {1681666144813846886 29 206} {8275775858385687706 29 207}]
------------------------------------------------------
client write log 5391859600443186764 (index 208) to leader 2
client write log 3417005390665409134 (index 209) to leader 2
client write log 2534279720966568347 (index 210) to leader 2
client write log 3591633505967272415 (index 211) to leader 2
client write log 7573085086099124181 (index 212) to leader 2
client write log 3162499586087979592 (index 213) to leader 2
client write log 2187073105022292846 (index 214) to leader 2
client write log 5083118622957730873 (index 215) to leader 2
client write log 2235807362040886192 (index 216) to leader 2
client write log 7595186057187039399 (index 217) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29815 term 29 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 29 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 207 
------------------------------------------------------
flag 34842 term 29 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 29 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 29 leaderCommit: 207 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 29 199} {7185380181166813948 29 200} {530717778033821394 29 201} {1575223421078469888 29 202} {3158736910244853743 29 203} {6072980862014918713 29 204} {8431333404063714820 29 205} {1681666144813846886 29 206} {8275775858385687706 29 207} {5391859600443186764 29 208} {3417005390665409134 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217}]
------------------------------------------------------
term 29 Server2 start snapshot! index=209
term 29 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=217
-------------------------------------------------------------
term 29 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 29
------------------------------------------------------
flag 58289 term 29 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 29 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217}]
------------------------------------------------------
term 29 Server1 start snapshot! index=209
term 29 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=217
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3791368053176766853 (index 218) to leader 2
term 29 server 2 not vote for server 0, 日志不够新
term 29 server 1 not vote for server 0, 日志不够新
term 31 server 1 vote for server 2
term 31 server 0 vote for server 2
term 31 server 2 get vote from server 1
term 31 server 2 become leader
------------------------------------------------------
term 31 server 2 get outdate rpc reply from server 0
flag 13335 term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 6644 term 31 leader 2 nextIndex[1]: 219  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 219->218
------------------------------------------------------
term 31 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 219->218
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 2 nextIndex[0]: 207  matchIndex[0]: 0
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 29
------------------------------------------------------
flag 65837 term 31 leader 2 nextIndex[1]: 218  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 0 InstallSnapshot success
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 210 matchIndex[0] 209 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 29 rf.commitIndex 209 rf.lastApplied 209
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
flag 83980 term 31 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 53225 term 31 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
flag 67015 term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 60329 term 31 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
flag 70046 term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 70568 term 31 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
flag 39854 term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 18404 term 31 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
term 31 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87914 term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 5441 term 31 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 1 not vote for server 2, 任期不够新
term 31 server 2 get outdate rpc reply from server 1
flag 74241 term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 39972 term 31 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
flag 7899 term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 91843 term 31 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
flag 80904 term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 64885 term 31 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
flag 96132 term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 33695 term 31 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44395 term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 3012 term 31 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
flag 34643 term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 15799 term 31 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
flag 73548 term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 79853 term 31 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
flag 53017 term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 78069 term 31 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
flag 81834 term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 95444 term 31 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7475 term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 68393 term 31 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
flag 26350 term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 33963 term 31 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35273 term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 51386 term 31 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
term 31 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
flag 87239 term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 84336 term 31 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218}]
------------------------------------------------------
client write log 3791368053176766853 (index 219) to leader 2
flag 1842 term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
flag 591 term 31 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 29 leaderCommit: 217 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218} {3791368053176766853 31 219}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 29 209} {2534279720966568347 29 210} {3591633505967272415 29 211} {7573085086099124181 29 212} {3162499586087979592 29 213} {2187073105022292846 29 214} {5083118622957730873 29 215} {2235807362040886192 29 216} {7595186057187039399 29 217} {3791368053176766853 29 218} {3791368053176766853 31 219}]
------------------------------------------------------
term 31 Server2 start snapshot! index=219
term 31 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
flag 7384 term 31 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 31 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 73664 term 31 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 31 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 31 219}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 31 219}]
------------------------------------------------------
term 31 Server0 start snapshot! index=219
term 31 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
term 31 Server1 start snapshot! index=219
term 31 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13778 term 31 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 31 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 75275 term 31 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 31 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 31 219}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 31 219}]
------------------------------------------------------
flag 57449 term 31 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 31 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 71113 term 31 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 31 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 31 219}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 31 219}]
------------------------------------------------------
flag 4428 term 31 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 31 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 55824 term 31 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 31 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 31 219}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 31 219}]
------------------------------------------------------
flag 29629 term 31 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 31 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 8400 term 31 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 31 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 31 219}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 31 219}]
------------------------------------------------------
flag 85811 term 31 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 31 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 49075 term 31 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 31 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 31 219}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 31 219}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 665873237073769188 (index 220) to leader 2
flag 51680 term 31 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 31 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 15727 term 31 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 31 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {665873237073769188 31 220}]
------------------------------------------------------
flag 89072 term 31 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 31 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
flag 77335 term 31 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 31 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {665873237073769188 31 220}]
------------------------------------------------------
term 31 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 2165325923755210974 (index 221) to leader 2
client write log 8073558024006232958 (index 222) to leader 2
client write log 8871329821908517080 (index 223) to leader 2
client write log 8310371649399758056 (index 224) to leader 2
client write log 1886334612806842203 (index 225) to leader 2
client write log 2510930581319681447 (index 226) to leader 2
client write log 8152293915405547254 (index 227) to leader 2
client write log 287219795014770151 (index 228) to leader 2
client write log 9031715168673838477 (index 229) to leader 2
client write log 7308505220654433780 (index 230) to leader 2
client write log 4569224231596176728 (index 231) to leader 2
client write log 4973198121713432622 (index 232) to leader 2
client write log 2513536198015085676 (index 233) to leader 2
client write log 5662923248418222800 (index 234) to leader 2
flag 24519 term 31 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 31 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
flag 39749 term 31 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 31 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 31 219} {665873237073769188 31 220} {2165325923755210974 31 221} {8073558024006232958 31 222} {8871329821908517080 31 223} {8310371649399758056 31 224} {1886334612806842203 31 225} {2510930581319681447 31 226} {8152293915405547254 31 227} {287219795014770151 31 228} {9031715168673838477 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234}]
------------------------------------------------------
term 31 Server2 start snapshot! index=229
term 31 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=234
-------------------------------------------------------------
term 31 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 31
------------------------------------------------------
flag 57711 term 31 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 31 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234}]
------------------------------------------------------
term 31 Server1 start snapshot! index=229
term 31 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=234
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4972279980585215042 (index 235) to leader 2
term 31 server 2 not vote for server 0, 日志不够新
term 31 server 1 not vote for server 0, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 1 vote for server 2
term 33 server 0 vote for server 2
term 33 server 2 get vote from server 1
term 33 server 2 become leader
------------------------------------------------------
term 33 server 2 get outdate rpc reply from server 0
flag 63451 term 33 leader 2 nextIndex[0]: 236  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
flag 68956 term 33 leader 2 nextIndex[1]: 236  matchIndex[1]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
term 33 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 236->235
------------------------------------------------------
term 33 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 236->235
------------------------------------------------------
term 33 leader 2 nextIndex[0]: 220  matchIndex[0]: 0
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 31
------------------------------------------------------
flag 4666 term 33 leader 2 nextIndex[1]: 235  matchIndex[1]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
term 33 server 0 InstallSnapshot success
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 31 rf.commitIndex 229 rf.lastApplied 229
term 33 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91522 term 33 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
flag 18001 term 33 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
flag 77776 term 33 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
flag 60311 term 33 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4708 term 33 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
flag 57327 term 33 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2552 term 33 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
flag 57945 term 33 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
flag 40454 term 33 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
flag 90139 term 33 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
flag 30218 term 33 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
flag 322 term 33 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
flag 1992 term 33 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
flag 60931 term 33 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
term 33 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
flag 12749 term 33 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
flag 48475 term 33 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
flag 42016 term 33 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
flag 98584 term 33 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
flag 38147 term 33 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
flag 30096 term 33 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
flag 79317 term 33 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
flag 53233 term 33 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
flag 95834 term 33 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
flag 83529 term 33 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
flag 52547 term 33 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
flag 27091 term 33 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45650 term 33 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
flag 34706 term 33 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
flag 20799 term 33 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
flag 83602 term 33 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
flag 58634 term 33 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
flag 37128 term 33 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
flag 58111 term 33 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
flag 68295 term 33 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235}]
------------------------------------------------------
flag 76048 term 33 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
flag 55596 term 33 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
client write log 4972279980585215042 (index 236) to leader 2
term 33 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
term 33 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235} {4972279980585215042 33 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235} {4972279980585215042 33 236}]
------------------------------------------------------
flag 21461 term 33 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
flag 34214 term 33 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 33 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 234 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235} {4972279980585215042 33 236}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235} {4972279980585215042 33 236}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14918 term 33 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
flag 53090 term 33 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235} {4972279980585215042 33 236}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235} {4972279980585215042 33 236}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83424 term 33 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
flag 21381 term 33 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235} {4972279980585215042 33 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235} {4972279980585215042 33 236}]
------------------------------------------------------
flag 42 term 33 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
flag 28222 term 33 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235} {4972279980585215042 33 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235} {4972279980585215042 33 236}]
------------------------------------------------------
flag 12568 term 33 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
flag 65179 term 33 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235} {4972279980585215042 33 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235} {4972279980585215042 33 236}]
------------------------------------------------------
flag 18686 term 33 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
flag 49109 term 33 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235} {4972279980585215042 33 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235} {4972279980585215042 33 236}]
------------------------------------------------------
flag 648 term 33 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
flag 29267 term 33 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235} {4972279980585215042 33 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235} {4972279980585215042 33 236}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 5883 term 33 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
flag 17039 term 33 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
flag 53089 term 33 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
flag 30174 term 33 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
flag 61620 term 33 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
flag 41225 term 33 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
flag 37593 term 33 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
flag 8104 term 33 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
term 34 server 1 vote for server 0
term 34 server 0 get vote from server 1
term 34 server 0 become leader
------------------------------------------------------
flag 91274 term 34 leader 0 nextIndex[1]: 237  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
flag 61911 term 34 leader 0 nextIndex[2]: 237  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235} {4972279980585215042 33 236}]
------------------------------------------------------
client write log 1734432189333067654 (index 237) to leader 0
flag 51355 term 33 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
flag 18825 term 33 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
flag 98524 term 34 leader 0 nextIndex[1]: 237  matchIndex[1]: 236
term 34 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
flag 93417 term 34 leader 0 nextIndex[2]: 237  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235} {4972279980585215042 33 236} {1734432189333067654 34 237}]
------------------------------------------------------
flag 51242 term 33 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
flag 76517 term 33 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
flag 54212 term 34 leader 0 nextIndex[1]: 238  matchIndex[1]: 237
term 34 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 60117 term 34 leader 0 nextIndex[2]: 237  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 237 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235} {4972279980585215042 33 236} {1734432189333067654 34 237}]
------------------------------------------------------
client write log 5112980229093236046 (index 238) to leader 0
client write log 108194505429283840 (index 239) to leader 0
client write log 2659424283948948637 (index 240) to leader 0
client write log 7460920388856925766 (index 241) to leader 0
client write log 7422004440801962345 (index 242) to leader 0
client write log 5694507726894546181 (index 243) to leader 0
flag 98538 term 33 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
flag 48254 term 33 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
flag 20897 term 34 leader 0 nextIndex[1]: 238  matchIndex[1]: 237
term 34 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 99979 term 34 leader 0 nextIndex[2]: 237  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 237 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 31 229} {7308505220654433780 31 230} {4569224231596176728 31 231} {4973198121713432622 31 232} {2513536198015085676 31 233} {5662923248418222800 31 234} {4972279980585215042 31 235} {4972279980585215042 33 236} {1734432189333067654 34 237} {5112980229093236046 34 238} {108194505429283840 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
term 34 Server0 start snapshot! index=239
term 34 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=243
-------------------------------------------------------------
flag 41227 term 33 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
flag 90614 term 33 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
flag 72672 term 34 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 237  matchIndex[2]: 0
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
term 34 Server1 start snapshot! index=239
term 34 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=243
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1899971250273771893 (index 237) to leader 2
flag 40827 term 33 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
flag 44051 term 33 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 33 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 33 leaderCommit: 236 
------------------------------------------------------
term 34 server 1 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 34 server 0 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78709 term 34 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 237  matchIndex[2]: 0
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 2 InstallSnapshot success
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
term 34 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 34 rf.commitIndex 239 rf.lastApplied 239
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27475 term 34 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 36887 term 34 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 34 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
flag 96032 term 34 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 72803 term 34 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
flag 7399 term 34 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 98112 term 34 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
flag 57721 term 34 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 30559 term 34 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
flag 69717 term 34 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 9893 term 34 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
term 34 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
flag 38405 term 34 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 65499 term 34 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
term 34 server 2 not vote for server 0, 日志不够新
term 34 server 0 get outdate rpc reply from server 2
flag 83921 term 34 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 24362 term 34 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23008 term 34 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 92145 term 34 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27666 term 34 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 39948 term 34 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5171 term 34 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 74269 term 34 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 244->243
------------------------------------------------------
flag 75931 term 34 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 0  matchIndex[2]: 243
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 2 InstallSnapshot fail
rf.commitIndex 243 args.LastIncludedIndex 239
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
term 34 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
flag 8726 term 34 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 89984 term 34 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 34 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
flag 19058 term 34 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 20541 term 34 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
flag 80249 term 34 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 19689 term 34 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
flag 83816 term 34 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 77386 term 34 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
flag 41146 term 34 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 73056 term 34 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
flag 1275 term 34 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 46683 term 34 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
flag 8672 term 34 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 48518 term 34 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
term 34 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
flag 38535 term 34 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 12176 term 34 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243}]
------------------------------------------------------
client write log 1899971250273771893 (index 244) to leader 0
flag 10811 term 34 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
flag 91488 term 34 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 34 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243} {1899971250273771893 34 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243} {1899971250273771893 34 244}]
------------------------------------------------------
flag 57854 term 34 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 34 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
flag 83201 term 34 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 34 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243} {1899971250273771893 34 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243} {1899971250273771893 34 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 245->244
------------------------------------------------------
flag 10089 term 34 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 34 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 0  matchIndex[2]: 244
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 2 InstallSnapshot fail
rf.commitIndex 244 args.LastIncludedIndex 239
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 34 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243} {1899971250273771893 34 244}]
------------------------------------------------------
flag 28487 term 34 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 34 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
flag 82080 term 34 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 34 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243} {1899971250273771893 34 244}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243} {1899971250273771893 34 244}]
------------------------------------------------------
flag 57308 term 34 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 34 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
flag 83533 term 34 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 34 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243} {1899971250273771893 34 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243} {1899971250273771893 34 244}]
------------------------------------------------------
flag 46322 term 34 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 34 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
flag 47330 term 34 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 34 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243} {1899971250273771893 34 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243} {1899971250273771893 34 244}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8485313885023364687 (index 245) to leader 0
flag 22065 term 34 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 34 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
flag 53481 term 34 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 34 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243} {1899971250273771893 34 244} {8485313885023364687 34 245}]
------------------------------------------------------
flag 85454 term 34 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 34 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 245 
------------------------------------------------------
flag 94873 term 34 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 34 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 34 leaderCommit: 245 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243} {1899971250273771893 34 244} {8485313885023364687 34 245}]
------------------------------------------------------
client write log 9127512006805058504 (index 246) to leader 0
client write log 2977112772249210589 (index 247) to leader 0
client write log 6057396351329981114 (index 248) to leader 0
client write log 7297183446076851491 (index 249) to leader 0
client write log 177060744495989785 (index 250) to leader 0
client write log 4211430136377975028 (index 251) to leader 0
client write log 6801383075817775339 (index 252) to leader 0
client write log 8878745780019414801 (index 253) to leader 0
client write log 4224753993076897858 (index 254) to leader 0
client write log 2458298534324337515 (index 255) to leader 0
client write log 4529974284631820853 (index 256) to leader 0
client write log 5433315771500485436 (index 257) to leader 0
client write log 2271781898658901562 (index 258) to leader 0
client write log 8521589396096301530 (index 259) to leader 0
flag 43783 term 34 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 34 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 245 
------------------------------------------------------
flag 85085 term 34 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 34 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 34 leaderCommit: 245 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 34 239} {2659424283948948637 34 240} {7460920388856925766 34 241} {7422004440801962345 34 242} {5694507726894546181 34 243} {1899971250273771893 34 244} {8485313885023364687 34 245} {9127512006805058504 34 246} {2977112772249210589 34 247} {6057396351329981114 34 248} {7297183446076851491 34 249} {177060744495989785 34 250} {4211430136377975028 34 251} {6801383075817775339 34 252} {8878745780019414801 34 253} {4224753993076897858 34 254} {2458298534324337515 34 255} {4529974284631820853 34 256} {5433315771500485436 34 257} {2271781898658901562 34 258} {8521589396096301530 34 259}]
------------------------------------------------------
term 34 Server0 start snapshot! index=249
term 34 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=259
-------------------------------------------------------------
term 34 Server0 start snapshot! index=259
term 34 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
term 34 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 34
------------------------------------------------------
flag 52740 term 34 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 34 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 34 259}]
------------------------------------------------------
term 34 Server2 start snapshot! index=249
term 34 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=259
-------------------------------------------------------------
term 34 Server2 start snapshot! index=259
term 34 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
!!!!!!connect server 1
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 260->259
------------------------------------------------------
client write log 7342424520933260387 (index 260) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 245->244
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 0  matchIndex[1]: 244
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 34
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 0  matchIndex[2]: 259
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 2 InstallSnapshot fail
rf.commitIndex 259 args.LastIncludedIndex 259
------------------------------------------------------
term 35 server 1 InstallSnapshot false 领导者任期过期
term 34 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 2 vote for server 0
term 36 server 1 vote for server 0
term 36 server 0 get vote from server 2
term 36 server 0 become leader
------------------------------------------------------
term 36 server 0 get outdate rpc reply from server 1
flag 45873 term 36 leader 0 nextIndex[1]: 261  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 97972 term 36 leader 0 nextIndex[2]: 261  matchIndex[2]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 261->260
------------------------------------------------------
term 36 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 261->260
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 245  matchIndex[1]: 0
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 34
------------------------------------------------------
flag 56801 term 36 leader 0 nextIndex[2]: 260  matchIndex[2]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 1 InstallSnapshot success
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 34 rf.commitIndex 259 rf.lastApplied 259
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92329 term 36 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 36 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 85259 term 36 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
flag 94966 term 36 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 69131 term 36 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
flag 29661 term 36 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 31906 term 36 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
flag 60812 term 36 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 65618 term 36 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
flag 80477 term 36 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 79938 term 36 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49295 term 36 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 64283 term 36 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
flag 57285 term 36 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 23725 term 36 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
term 36 server 2 not vote for server 1, 任期不够新
term 36 server 1 get outdate rpc reply from server 2
flag 94673 term 36 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 81630 term 36 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
term 36 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21620 term 36 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 32341 term 36 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
flag 82222 term 36 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 56632 term 36 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
flag 26405 term 36 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 85002 term 36 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38453 term 36 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 88907 term 36 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
flag 56292 term 36 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 33975 term 36 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82568 term 36 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 37364 term 36 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
flag 36969 term 36 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 99588 term 36 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
flag 56886 term 36 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 84554 term 36 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
flag 18124 term 36 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 43714 term 36 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7342424520933260387 34 260}]
------------------------------------------------------
client write log 7342424520933260387 (index 261) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62858 term 36 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 97883 term 36 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 36 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 34 259} {7342424520933260387 34 260} {7342424520933260387 36 261}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 34 259} {7342424520933260387 34 260} {7342424520933260387 36 261}]
------------------------------------------------------
flag 12612 term 36 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 36 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
flag 63385 term 36 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 36 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 34 259} {7342424520933260387 34 260} {7342424520933260387 36 261}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 34 259} {7342424520933260387 34 260} {7342424520933260387 36 261}]
------------------------------------------------------
term 36 server 0 not vote for server 1, 任期不够新
term 36 server 1 get outdate rpc reply from server 0
flag 68928 term 36 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 36 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
flag 57353 term 36 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 36 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 34 259} {7342424520933260387 34 260} {7342424520933260387 36 261}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 34 259} {7342424520933260387 34 260} {7342424520933260387 36 261}]
------------------------------------------------------
flag 17376 term 36 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 36 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
flag 65640 term 36 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 36 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 34 259} {7342424520933260387 34 260} {7342424520933260387 36 261}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 34 259} {7342424520933260387 34 260} {7342424520933260387 36 261}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14368 term 36 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 36 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
flag 57818 term 36 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 36 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 34 259} {7342424520933260387 34 260} {7342424520933260387 36 261}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 34 259} {7342424520933260387 34 260} {7342424520933260387 36 261}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20605 term 36 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 36 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
flag 82243 term 36 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 36 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
term 36 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
[{snapshot 34 259} {7342424520933260387 34 260} {7342424520933260387 36 261}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 34 259} {7342424520933260387 34 260} {7342424520933260387 36 261}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5335909106551779127 (index 262) to leader 0
flag 21253 term 36 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 36 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
flag 50241 term 36 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 36 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 34 259} {7342424520933260387 34 260} {7342424520933260387 36 261} {5335909106551779127 36 262}]
------------------------------------------------------
flag 96226 term 36 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 36 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 262 
------------------------------------------------------
flag 93078 term 36 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 36 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 36 leaderCommit: 262 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 34 259} {7342424520933260387 34 260} {7342424520933260387 36 261} {5335909106551779127 36 262}]
------------------------------------------------------
client write log 6976702483464019824 (index 263) to leader 0
client write log 1612554825545263553 (index 264) to leader 0
client write log 5691762753167990396 (index 265) to leader 0
client write log 7402138251324973272 (index 266) to leader 0
client write log 5896331893511489959 (index 267) to leader 0
client write log 2790569625219357528 (index 268) to leader 0
client write log 5964146120523273549 (index 269) to leader 0
client write log 7190289473387136707 (index 270) to leader 0
client write log 8415278284278848198 (index 271) to leader 0
client write log 1111061683945514213 (index 272) to leader 0
flag 85908 term 36 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 36 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 262 
------------------------------------------------------
flag 68010 term 36 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 36 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 36 leaderCommit: 262 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 34 259} {7342424520933260387 34 260} {7342424520933260387 36 261} {5335909106551779127 36 262} {6976702483464019824 36 263} {1612554825545263553 36 264} {5691762753167990396 36 265} {7402138251324973272 36 266} {5896331893511489959 36 267} {2790569625219357528 36 268} {5964146120523273549 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272}]
------------------------------------------------------
term 36 Server0 start snapshot! index=269
term 36 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=272
-------------------------------------------------------------
term 36 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 36
------------------------------------------------------
flag 56627 term 36 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 36 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272}]
------------------------------------------------------
term 36 Server2 start snapshot! index=269
term 36 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=272
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7946637440066802318 (index 273) to leader 0
term 36 server 2 not vote for server 1, 日志不够新
term 36 server 0 not vote for server 1, 日志不够新
term 38 server 2 vote for server 0
term 38 server 1 vote for server 0
term 38 server 0 get vote from server 2
term 38 server 0 become leader
------------------------------------------------------
term 38 server 0 get outdate rpc reply from server 1
flag 3795 term 38 leader 0 nextIndex[1]: 274  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
flag 61670 term 38 leader 0 nextIndex[2]: 274  matchIndex[2]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
term 38 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 274->273
------------------------------------------------------
term 38 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 274->273
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 262  matchIndex[1]: 0
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 36
------------------------------------------------------
flag 1734 term 38 leader 0 nextIndex[2]: 273  matchIndex[2]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
term 38 server 1 InstallSnapshot success
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 36 rf.commitIndex 269 rf.lastApplied 269
flag 48873 term 38 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 38 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
flag 45114 term 38 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19988 term 38 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
flag 42199 term 38 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
flag 94385 term 38 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
flag 65689 term 38 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79586 term 38 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
flag 91918 term 38 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
flag 10308 term 38 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
flag 83052 term 38 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
flag 12101 term 38 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
flag 4242 term 38 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
flag 70096 term 38 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
flag 94263 term 38 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
flag 31326 term 38 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
flag 41447 term 38 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28431 term 38 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
flag 90532 term 38 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
flag 37942 term 38 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
flag 20075 term 38 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28257 term 38 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
flag 999 term 38 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
flag 46308 term 38 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
flag 23744 term 38 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
flag 28736 term 38 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
flag 40952 term 38 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
flag 84574 term 38 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
flag 97628 term 38 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
flag 27434 term 38 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
flag 35179 term 38 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
flag 92420 term 38 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
flag 33748 term 38 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
flag 78835 term 38 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
flag 24140 term 38 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273}]
------------------------------------------------------
client write log 7946637440066802318 (index 274) to leader 0
flag 28371 term 38 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
flag 24930 term 38 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 38 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 272 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274}]
------------------------------------------------------
flag 6598 term 38 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
flag 32274 term 38 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 38 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274}]
------------------------------------------------------
flag 70630 term 38 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
flag 41601 term 38 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 38 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274}]
------------------------------------------------------
flag 31186 term 38 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
flag 8999 term 38 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 38 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274}]
------------------------------------------------------
flag 51602 term 38 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
flag 18169 term 38 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 38 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274}]
------------------------------------------------------
flag 33366 term 38 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
flag 74531 term 38 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 38 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274}]
------------------------------------------------------
flag 29461 term 38 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
flag 59423 term 38 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 38 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 25907 term 38 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
flag 45802 term 38 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 38 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
flag 42128 term 38 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
flag 70366 term 38 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 38 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45710 term 38 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
flag 23905 term 38 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 38 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 39 server 1 vote for server 2
term 39 server 2 get vote from server 1
term 39 server 2 become leader
------------------------------------------------------
client write log 925828504913900485 (index 275) to leader 2
flag 22166 term 39 leader 2 nextIndex[0]: 275  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
flag 91638 term 39 leader 2 nextIndex[1]: 275  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274} {925828504913900485 39 275}]
------------------------------------------------------
flag 91982 term 38 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
flag 46233 term 38 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 38 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
flag 52571 term 39 leader 2 nextIndex[0]: 275  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 275 
------------------------------------------------------
flag 62137 term 39 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 39 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 275 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274} {925828504913900485 39 275}]
------------------------------------------------------
flag 60652 term 38 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
flag 9093 term 38 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 38 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
client write log 5494098109342574167 (index 276) to leader 2
flag 58614 term 39 leader 2 nextIndex[0]: 275  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 275 
------------------------------------------------------
flag 23216 term 39 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 39 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 275 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274} {925828504913900485 39 275} {5494098109342574167 39 276}]
------------------------------------------------------
flag 62846 term 38 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
flag 9937 term 38 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 38 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
flag 18997 term 39 leader 2 nextIndex[0]: 275  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 276 
------------------------------------------------------
flag 38197 term 39 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 39 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 39 leaderCommit: 276 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274} {925828504913900485 39 275} {5494098109342574167 39 276}]
------------------------------------------------------
!!!!!!connect server 0
client write log 6138337547080671098 (index 277) to leader 2
flag 76969 term 38 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
flag 15255 term 38 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 38 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 274 
------------------------------------------------------
term 39 server 2 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 39 server 1 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 server 0 vote for server 2
term 39 server 2 get outdate rpc reply from server 0
flag 46800 term 39 leader 2 nextIndex[0]: 275  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 38 leaderCommit: 276 
------------------------------------------------------
flag 6123 term 39 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 39 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 39 leaderCommit: 276 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:274 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274} {925828504913900485 39 275} {5494098109342574167 39 276} {6138337547080671098 39 277}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274} {925828504913900485 39 275} {5494098109342574167 39 276} {6138337547080671098 39 277}]
------------------------------------------------------
flag 48808 term 39 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 39 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 39 leaderCommit: 277 
------------------------------------------------------
flag 41726 term 39 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 39 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 39 leaderCommit: 277 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274} {925828504913900485 39 275} {5494098109342574167 39 276} {6138337547080671098 39 277}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274} {925828504913900485 39 275} {5494098109342574167 39 276} {6138337547080671098 39 277}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 278->277
------------------------------------------------------
term 39 leader 2 nextIndex[0]: 0  matchIndex[0]: 277
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 36
------------------------------------------------------
flag 58293 term 39 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 39 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 39 leaderCommit: 277 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274} {925828504913900485 39 275} {5494098109342574167 39 276} {6138337547080671098 39 277}]
------------------------------------------------------
term 39 server 0 InstallSnapshot fail
rf.commitIndex 277 args.LastIncludedIndex 269
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 270 matchIndex[0] 269 
------------------------------------------------------------------------
flag 69630 term 39 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 39 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
flag 42680 term 39 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 39 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 39 leaderCommit: 277 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274} {925828504913900485 39 275} {5494098109342574167 39 276} {6138337547080671098 39 277}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274} {925828504913900485 39 275} {5494098109342574167 39 276} {6138337547080671098 39 277}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 278->277
------------------------------------------------------
term 39 leader 2 nextIndex[0]: 0  matchIndex[0]: 277
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 36
------------------------------------------------------
flag 10806 term 39 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 39 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 39 leaderCommit: 277 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
term 39 server 0 InstallSnapshot fail
rf.commitIndex 277 args.LastIncludedIndex 269
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274} {925828504913900485 39 275} {5494098109342574167 39 276} {6138337547080671098 39 277}]
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 270 matchIndex[0] 269 
------------------------------------------------------------------------
flag 14577 term 39 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 39 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
flag 95589 term 39 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 39 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 39 leaderCommit: 277 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274} {925828504913900485 39 275} {5494098109342574167 39 276} {6138337547080671098 39 277}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274} {925828504913900485 39 275} {5494098109342574167 39 276} {6138337547080671098 39 277}]
------------------------------------------------------
flag 91493 term 39 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 39 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 39 leaderCommit: 277 
------------------------------------------------------
flag 13696 term 39 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 39 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 39 leaderCommit: 277 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274} {925828504913900485 39 275} {5494098109342574167 39 276} {6138337547080671098 39 277}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274} {925828504913900485 39 275} {5494098109342574167 39 276} {6138337547080671098 39 277}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3262051635415776920 (index 278) to leader 2
flag 50991 term 39 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 39 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 39 leaderCommit: 277 
------------------------------------------------------
flag 38826 term 39 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 39 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 39 leaderCommit: 277 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274} {925828504913900485 39 275} {5494098109342574167 39 276} {6138337547080671098 39 277} {3262051635415776920 39 278}]
------------------------------------------------------
flag 33536 term 39 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 39 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 27499 term 39 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 39 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274} {925828504913900485 39 275} {5494098109342574167 39 276} {6138337547080671098 39 277} {3262051635415776920 39 278}]
------------------------------------------------------
client write log 5923329757052878983 (index 279) to leader 2
client write log 4126584557806804951 (index 280) to leader 2
client write log 4122731258684802197 (index 281) to leader 2
client write log 5342359450053129198 (index 282) to leader 2
client write log 3286730392879824901 (index 283) to leader 2
client write log 3952707305935620066 (index 284) to leader 2
client write log 3851000833778896889 (index 285) to leader 2
client write log 1032339695088175606 (index 286) to leader 2
flag 81225 term 39 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 39 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 97442 term 39 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 39 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 36 269} {7190289473387136707 36 270} {8415278284278848198 36 271} {1111061683945514213 36 272} {7946637440066802318 36 273} {7946637440066802318 38 274} {925828504913900485 39 275} {5494098109342574167 39 276} {6138337547080671098 39 277} {3262051635415776920 39 278} {5923329757052878983 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
term 39 Server2 start snapshot! index=279
term 39 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=286
-------------------------------------------------------------
term 39 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 39
------------------------------------------------------
flag 57049 term 39 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 39 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
term 39 Server1 start snapshot! index=279
term 39 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=286
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2278009752940130384 (index 287) to leader 2
term 39 server 1 not vote for server 0, 日志不够新
term 39 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 39
------------------------------------------------------
flag 47761 term 39 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 39 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
term 40 server 1 AppendEntries false 领导者任期过期 args.Term 39
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 40 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 server 2 not vote for server 0, 日志不够新
term 40 server 1 not vote for server 0, 日志不够新
term 41 server 2 not vote for server 1, 日志不够新
term 42 server 0 vote for server 1
term 42 server 1 get vote from server 0
term 42 server 1 become leader
------------------------------------------------------
flag 17200 term 42 leader 1 nextIndex[0]: 287  matchIndex[0]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
flag 86226 term 42 leader 1 nextIndex[2]: 287  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
term 42 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 287->286
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 1 nextIndex[0]: 278  matchIndex[0]: 0
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 39
------------------------------------------------------
flag 82793 term 42 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
term 42 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 39 rf.commitIndex 279 rf.lastApplied 279
term 42 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51496 term 42 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 42 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
flag 35001 term 42 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
term 42 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
flag 88901 term 42 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
flag 2217 term 42 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
flag 18747 term 42 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
flag 84811 term 42 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
flag 57267 term 42 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
flag 81371 term 42 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37065 term 42 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
flag 57632 term 42 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
flag 16561 term 42 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
flag 82347 term 42 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
flag 52375 term 42 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
flag 64300 term 42 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
flag 98477 term 42 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
flag 33190 term 42 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
flag 91665 term 42 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
flag 43774 term 42 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85479 term 42 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
flag 8 term 42 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
flag 49110 term 42 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
flag 83905 term 42 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
flag 3117 term 42 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
flag 94425 term 42 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44411 term 42 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
flag 296 term 42 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
flag 89042 term 42 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
flag 2657 term 42 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286}]
------------------------------------------------------
client write log 2278009752940130384 (index 287) to leader 1
flag 50001 term 42 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
flag 64384 term 42 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 39 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286} {2278009752940130384 42 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286} {2278009752940130384 42 287}]
------------------------------------------------------
flag 5286 term 42 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 42 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
flag 91856 term 42 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286} {2278009752940130384 42 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286} {2278009752940130384 42 287}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64851 term 42 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 42 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
flag 60775 term 42 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286} {2278009752940130384 42 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286} {2278009752940130384 42 287}]
------------------------------------------------------
flag 65505 term 42 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 42 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
flag 89385 term 42 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286} {2278009752940130384 42 287}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286} {2278009752940130384 42 287}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3408 term 42 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 42 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
flag 61757 term 42 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286} {2278009752940130384 42 287}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286} {2278009752940130384 42 287}]
------------------------------------------------------
flag 73037 term 42 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 42 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
flag 24293 term 42 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286} {2278009752940130384 42 287}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286} {2278009752940130384 42 287}]
------------------------------------------------------
flag 32760 term 42 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 42 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
flag 28938 term 42 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286} {2278009752940130384 42 287}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286} {2278009752940130384 42 287}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 226984684851214290 (index 288) to leader 1
flag 508 term 42 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 42 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
flag 99537 term 42 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286} {2278009752940130384 42 287} {226984684851214290 42 288}]
------------------------------------------------------
flag 74743 term 42 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 42 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 288 
------------------------------------------------------
flag 60994 term 42 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 288 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286} {2278009752940130384 42 287} {226984684851214290 42 288}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 8057282112882389726 (index 289) to leader 1
client write log 5699195507367744922 (index 290) to leader 1
client write log 8022305460941410220 (index 291) to leader 1
client write log 5885347172113849359 (index 292) to leader 1
client write log 1267817019634021555 (index 293) to leader 1
client write log 1195991875923172645 (index 294) to leader 1
client write log 1786473666033942118 (index 295) to leader 1
client write log 2620355095913881400 (index 296) to leader 1
client write log 1882021851626815825 (index 297) to leader 1
client write log 5314904052231608817 (index 298) to leader 1
client write log 5398178123435952666 (index 299) to leader 1
client write log 341825629819790149 (index 300) to leader 1
flag 55807 term 42 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 42 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 288 
------------------------------------------------------
flag 9187 term 42 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 288 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=300
leader log:
[{snapshot 39 279} {4126584557806804951 39 280} {4122731258684802197 39 281} {5342359450053129198 39 282} {3286730392879824901 39 283} {3952707305935620066 39 284} {3851000833778896889 39 285} {1032339695088175606 39 286} {2278009752940130384 42 287} {226984684851214290 42 288} {8057282112882389726 42 289} {5699195507367744922 42 290} {8022305460941410220 42 291} {5885347172113849359 42 292} {1267817019634021555 42 293} {1195991875923172645 42 294} {1786473666033942118 42 295} {2620355095913881400 42 296} {1882021851626815825 42 297} {5314904052231608817 42 298} {5398178123435952666 42 299} {341825629819790149 42 300}]
------------------------------------------------------
term 42 Server1 start snapshot! index=289
term 42 server1 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=300
-------------------------------------------------------------
term 42 Server1 start snapshot! index=299
term 42 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=300
-------------------------------------------------------------
flag 52070 term 42 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 42 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 42
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300}]
------------------------------------------------------
term 42 Server0 start snapshot! index=289
term 42 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=300
-------------------------------------------------------------
term 42 Server0 start snapshot! index=299
term 42 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=300
-------------------------------------------------------------
!!!!!!connect server 2
client write log 550943095717973639 (index 301) to leader 1
term 42 server 2 not vote for server 0, 任期不够新
term 42 server 0 get outdate rpc reply from server 2
term 42 server 1 not vote for server 2, 日志不够新
term 42 server 0 not vote for server 2, 日志不够新
term 44 server 2 vote for server 1
term 44 server 0 vote for server 1
term 44 server 1 get vote from server 2
term 44 server 1 become leader
------------------------------------------------------
term 44 server 1 get outdate rpc reply from server 0
flag 48844 term 44 leader 1 nextIndex[0]: 302  matchIndex[0]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
flag 32132 term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
term 44 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 44 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 302->301
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 302->301
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39096 term 44 leader 1 nextIndex[0]: 301  matchIndex[0]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 288  matchIndex[2]: 0
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 42
------------------------------------------------------
term 44 server 2 InstallSnapshot success
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot success
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 42 rf.commitIndex 299 rf.lastApplied 299
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
flag 91575 term 44 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
flag 10521 term 44 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 44 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57426 term 44 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
flag 15808 term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58068 term 44 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
flag 40938 term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
flag 79269 term 44 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
flag 54430 term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5472 term 44 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
flag 79520 term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
flag 20071 term 44 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
flag 18150 term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
flag 24558 term 44 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
flag 17379 term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43190 term 44 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
flag 73708 term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
flag 72593 term 44 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
flag 9845 term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7417 term 44 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
flag 81989 term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
flag 8475 term 44 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
flag 83751 term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:300 
term 44 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
flag 61782 term 44 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
flag 23914 term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
flag 55915 term 44 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
flag 13212 term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
flag 65686 term 44 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
flag 28715 term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
flag 73122 term 44 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
flag 90469 term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
flag 82847 term 44 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
flag 34847 term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
flag 42256 term 44 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
flag 43623 term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
flag 16035 term 44 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
flag 83389 term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301}]
------------------------------------------------------
client write log 550943095717973639 (index 302) to leader 1
flag 13789 term 44 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
flag 76720 term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 42 leaderCommit: 300 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302}]
------------------------------------------------------
flag 11089 term 44 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 55485 term 44 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302}]
------------------------------------------------------
flag 24845 term 44 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 24293 term 44 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302}]
------------------------------------------------------
flag 25648 term 44 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 10826 term 44 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74713 term 44 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 963 term 44 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78916 term 44 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 94797 term 44 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302}]
------------------------------------------------------
flag 93888 term 44 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 79349 term 44 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 19553 term 44 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 86707 term 44 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 5004 term 44 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 93995 term 44 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 95440 term 44 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 27378 term 44 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
term 45 server 2 vote for server 0
term 45 server 0 get vote from server 2
term 45 server 0 become leader
------------------------------------------------------
client write log 1612993648528810626 (index 303) to leader 0
flag 92558 term 45 leader 0 nextIndex[1]: 303  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 78553 term 45 leader 0 nextIndex[2]: 303  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303}]
------------------------------------------------------
flag 47565 term 44 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 8354 term 44 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 45574 term 45 leader 0 nextIndex[1]: 303  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 303 
------------------------------------------------------
flag 20206 term 45 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303}]
------------------------------------------------------
client write log 1650005016619217190 (index 304) to leader 0
flag 82977 term 44 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 52061 term 44 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 25134 term 45 leader 0 nextIndex[1]: 303  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 303 
------------------------------------------------------
flag 58726 term 45 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
flag 99927 term 44 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 83848 term 44 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 56719 term 45 leader 0 nextIndex[1]: 303  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 33505 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
!!!!!!connect server 1
client write log 4152184721336145881 (index 303) to leader 1
flag 38004 term 44 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 2127 term 44 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
term 45 server 2 AppendEntries false 领导者任期过期 args.Term 44
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 45 server 0 AppendEntries false 领导者任期过期 args.Term 44
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63470 term 45 leader 0 nextIndex[1]: 303  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 58987 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
flag 71367 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 71255 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
flag 8667 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 14628 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
flag 81045 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 70554 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
flag 28635 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 43363 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
flag 58717 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 914 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
flag 67235 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 27620 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
term 45 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
flag 82328 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 92309 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
flag 57024 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 63681 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
flag 4581 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 87938 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
flag 15428 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 98113 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
flag 57451 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 22576 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
flag 61253 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 1809 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
flag 70939 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 28656 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
flag 35672 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 42812 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
flag 954 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 57011 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
flag 99039 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 65898 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
flag 69413 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 84970 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
flag 98270 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 29786 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
flag 52946 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 52152 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304}]
------------------------------------------------------
client write log 4152184721336145881 (index 305) to leader 0
flag 84420 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 39726 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304} {4152184721336145881 45 305}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304} {4152184721336145881 45 305}]
------------------------------------------------------
flag 33250 term 45 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 45 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 305 
------------------------------------------------------
flag 65961 term 45 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 45 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 305 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304} {4152184721336145881 45 305}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304} {4152184721336145881 45 305}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79373 term 45 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 45 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 305 
------------------------------------------------------
flag 28817 term 45 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 45 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 305 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304} {4152184721336145881 45 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304} {4152184721336145881 45 305}]
------------------------------------------------------
flag 31826 term 45 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 45 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 305 
------------------------------------------------------
flag 91719 term 45 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 45 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 305 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304} {4152184721336145881 45 305}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304} {4152184721336145881 45 305}]
------------------------------------------------------
flag 95373 term 45 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 45 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 305 
------------------------------------------------------
flag 41500 term 45 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 45 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 305 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304} {4152184721336145881 45 305}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304} {4152184721336145881 45 305}]
------------------------------------------------------
flag 20743 term 45 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 45 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 305 
------------------------------------------------------
flag 26655 term 45 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 45 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 305 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304} {4152184721336145881 45 305}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304} {4152184721336145881 45 305}]
------------------------------------------------------
flag 53569 term 45 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 45 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 305 
------------------------------------------------------
flag 63569 term 45 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 45 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 305 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304} {4152184721336145881 45 305}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304} {4152184721336145881 45 305}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7506349190007937747 (index 306) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 306->305
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 0  matchIndex[1]: 305
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 42
------------------------------------------------------
flag 56547 term 45 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 45 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 305 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304} {4152184721336145881 45 305} {7506349190007937747 45 306}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 0  matchIndex[1]: 305
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 42
------------------------------------------------------
flag 4351 term 45 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 45 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 45 leaderCommit: 306 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304} {4152184721336145881 45 305} {7506349190007937747 45 306}]
------------------------------------------------------
client write log 7585273307538730733 (index 307) to leader 0
client write log 8788653404493076407 (index 308) to leader 0
client write log 89129342537388598 (index 309) to leader 0
client write log 7469615301051514473 (index 310) to leader 0
client write log 6786012709267260453 (index 311) to leader 0
client write log 1956646867588513869 (index 312) to leader 0
client write log 8409543406531724312 (index 313) to leader 0
client write log 6005626891068800247 (index 314) to leader 0
client write log 8774299992713015014 (index 315) to leader 0
client write log 998810981678463555 (index 316) to leader 0
term 45 leader 0 nextIndex[1]: 0  matchIndex[1]: 305
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 42
------------------------------------------------------
flag 18727 term 45 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 45 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 45 leaderCommit: 306 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 42 299} {341825629819790149 42 300} {550943095717973639 42 301} {550943095717973639 44 302} {1612993648528810626 45 303} {1650005016619217190 45 304} {4152184721336145881 45 305} {7506349190007937747 45 306} {7585273307538730733 45 307} {8788653404493076407 45 308} {89129342537388598 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316}]
------------------------------------------------------
term 45 Server0 start snapshot! index=309
term 45 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=316
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 0  matchIndex[1]: 305
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 45
------------------------------------------------------
flag 85367 term 45 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 45 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316}]
------------------------------------------------------
term 45 Server2 start snapshot! index=309
term 45 server2 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=316
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2595336119478740158 (index 317) to leader 0
term 45 leader 0 nextIndex[1]: 0  matchIndex[1]: 305
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 45
------------------------------------------------------
flag 25605 term 45 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 45 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
term 46 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 server 2 vote for server 0
term 47 server 0 get vote from server 2
term 47 server 0 become leader
------------------------------------------------------
term 47 server 1 vote for server 0
term 47 server 0 get outdate rpc reply from server 1
flag 87351 term 47 leader 0 nextIndex[1]: 318  matchIndex[1]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
flag 42782 term 47 leader 0 nextIndex[2]: 318  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
term 47 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 318->317
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
term 47 leader 0 nextIndex[1]: 306  matchIndex[1]: 0
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 45
------------------------------------------------------
flag 94642 term 47 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 47 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 45 rf.commitIndex 309 rf.lastApplied 309
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 310 matchIndex[1] 309 
------------------------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33488 term 47 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 47 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
flag 36955 term 47 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
term 47 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18126 term 47 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
flag 59846 term 47 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37127 term 47 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
flag 76582 term 47 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44158 term 47 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
flag 84214 term 47 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
term 47 server 1 not vote for server 0, 任期不够新
term 47 server 0 get outdate rpc reply from server 1
flag 45116 term 47 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
flag 31181 term 47 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8973 term 47 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
flag 40801 term 47 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
flag 57538 term 47 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
flag 67608 term 47 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
flag 5499 term 47 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
flag 50557 term 47 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
flag 22809 term 47 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
flag 4672 term 47 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
flag 70448 term 47 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
flag 86864 term 47 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38302 term 47 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
flag 98608 term 47 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
flag 83717 term 47 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
flag 39905 term 47 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
flag 63024 term 47 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
flag 11458 term 47 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
flag 86082 term 47 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
flag 93527 term 47 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31188 term 47 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
flag 84410 term 47 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:316 
term 47 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60340 term 47 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
flag 93992 term 47 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
flag 55631 term 47 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
flag 13767 term 47 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317}]
------------------------------------------------------
client write log 2595336119478740158 (index 318) to leader 0
flag 70999 term 47 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
flag 40746 term 47 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 47 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 45 leaderCommit: 316 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317} {2595336119478740158 47 318}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317} {2595336119478740158 47 318}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85543 term 47 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 47 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
flag 27952 term 47 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 47 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317} {2595336119478740158 47 318}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317} {2595336119478740158 47 318}]
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5514 term 47 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 47 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
flag 75099 term 47 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 47 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317} {2595336119478740158 47 318}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317} {2595336119478740158 47 318}]
------------------------------------------------------
flag 5840 term 47 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 47 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
flag 51724 term 47 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 47 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317} {2595336119478740158 47 318}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317} {2595336119478740158 47 318}]
------------------------------------------------------
flag 92069 term 47 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 47 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
flag 91160 term 47 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 47 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317} {2595336119478740158 47 318}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317} {2595336119478740158 47 318}]
------------------------------------------------------
flag 47835 term 47 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 47 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
flag 81609 term 47 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 47 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317} {2595336119478740158 47 318}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317} {2595336119478740158 47 318}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6055205374187003904 (index 319) to leader 0
flag 68054 term 47 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 47 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
flag 6829 term 47 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 47 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 45 309} {7469615301051514473 45 310} {6786012709267260453 45 311} {1956646867588513869 45 312} {8409543406531724312 45 313} {6005626891068800247 45 314} {8774299992713015014 45 315} {998810981678463555 45 316} {2595336119478740158 45 317} {2595336119478740158 47 318} {6055205374187003904 47 319}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 Server0 start snapshot! index=319
term 47 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 47 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 47
------------------------------------------------------
flag 24495 term 47 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 47 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 319 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 47 319}]
------------------------------------------------------
client write log 3719626173335732727 (index 320) to leader 0
client write log 627247941052908606 (index 321) to leader 0
client write log 8781188534224076318 (index 322) to leader 0
term 47 Server2 start snapshot! index=319
term 47 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
client write log 4264293435568963695 (index 323) to leader 0
client write log 347714177986995455 (index 324) to leader 0
client write log 4312797139382649194 (index 325) to leader 0
client write log 6234962338494616234 (index 326) to leader 0
client write log 2251494031173894893 (index 327) to leader 0
client write log 8352600976844017745 (index 328) to leader 0
client write log 2144969583558674755 (index 329) to leader 0
client write log 837899714960935473 (index 330) to leader 0
client write log 857526703648126174 (index 331) to leader 0
term 47 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 47
------------------------------------------------------
flag 55629 term 47 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 47 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 319 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 319} {3719626173335732727 47 320} {627247941052908606 47 321} {8781188534224076318 47 322} {4264293435568963695 47 323} {347714177986995455 47 324} {4312797139382649194 47 325} {6234962338494616234 47 326} {2251494031173894893 47 327} {8352600976844017745 47 328} {2144969583558674755 47 329} {837899714960935473 47 330} {857526703648126174 47 331}]
------------------------------------------------------
term 47 Server0 start snapshot! index=329
term 47 server0 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=331
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 47
------------------------------------------------------
flag 39527 term 47 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 47 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331}]
------------------------------------------------------
term 47 Server2 start snapshot! index=329
term 47 server2 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=331
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5029651380983412640 (index 332) to leader 0
term 47 server 2 not vote for server 1, 日志不够新
term 47 server 0 not vote for server 1, 日志不够新
term 49 server 2 vote for server 0
term 49 server 0 get vote from server 2
term 49 server 0 become leader
------------------------------------------------------
term 49 server 1 vote for server 0
term 49 server 0 get outdate rpc reply from server 1
flag 50481 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 88921 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries false prev日志不匹配
term 49 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 333->332
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 333->332
------------------------------------------------------
term 49 leader 0 nextIndex[1]: 319  matchIndex[1]: 0
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 47
------------------------------------------------------
flag 93189 term 49 leader 0 nextIndex[2]: 332  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 InstallSnapshot success
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 47 rf.commitIndex 329 rf.lastApplied 329
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57794 term 49 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 49 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 83305 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
flag 71489 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 92714 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
flag 38220 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 40326 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
term 49 server 2 not vote for server 1, 任期不够新
term 49 server 1 get outdate rpc reply from server 2
flag 13675 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 86455 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
flag 23844 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 81030 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72702 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 41021 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
flag 44800 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 22185 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
flag 27149 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 82122 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
flag 55262 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 1654 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
flag 37088 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 84602 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
flag 1184 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 12725 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
flag 78497 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 56124 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
flag 97290 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 99215 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
flag 31574 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 50178 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
flag 30686 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 58531 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
flag 85632 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 45887 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
flag 67233 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 22995 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332}]
------------------------------------------------------
client write log 5029651380983412640 (index 333) to leader 0
flag 78394 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 68644 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332} {5029651380983412640 49 333}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332} {5029651380983412640 49 333}]
------------------------------------------------------
term 49 server 0 not vote for server 1, 任期不够新
term 49 server 1 get outdate rpc reply from server 0
flag 22284 term 49 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 49 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
flag 89503 term 49 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 49 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332} {5029651380983412640 49 333}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332} {5029651380983412640 49 333}]
------------------------------------------------------
flag 69877 term 49 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 49 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
flag 15072 term 49 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 49 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332} {5029651380983412640 49 333}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332} {5029651380983412640 49 333}]
------------------------------------------------------
flag 71255 term 49 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 49 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
flag 98842 term 49 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 49 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332} {5029651380983412640 49 333}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332} {5029651380983412640 49 333}]
------------------------------------------------------
flag 11677 term 49 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 49 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
flag 92590 term 49 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 49 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332} {5029651380983412640 49 333}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332} {5029651380983412640 49 333}]
------------------------------------------------------
flag 86557 term 49 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 49 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
flag 84416 term 49 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 49 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332} {5029651380983412640 49 333}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332} {5029651380983412640 49 333}]
------------------------------------------------------
flag 37114 term 49 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 49 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
flag 70745 term 49 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 49 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332} {5029651380983412640 49 333}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332} {5029651380983412640 49 333}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 75207 term 49 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 49 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
flag 71777 term 49 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 49 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 334->333
------------------------------------------------------
flag 92358 term 49 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 49 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
term 49 leader 0 nextIndex[2]: 0  matchIndex[2]: 333
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 47
------------------------------------------------------
flag 13651 term 49 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 49 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
term 49 leader 0 nextIndex[2]: 0  matchIndex[2]: 333
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 47
------------------------------------------------------
term 50 server 2 vote for server 1
term 50 server 1 get vote from server 2
term 50 server 1 become leader
------------------------------------------------------
flag 87589 term 50 leader 1 nextIndex[0]: 334  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
flag 13799 term 50 leader 1 nextIndex[2]: 334  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332} {5029651380983412640 49 333}]
------------------------------------------------------
flag 56738 term 49 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 49 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
term 49 leader 0 nextIndex[2]: 0  matchIndex[2]: 333
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 47
------------------------------------------------------
client write log 3162835534567212411 (index 334) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 334->333
------------------------------------------------------
flag 89128 term 49 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 49 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
term 49 leader 0 nextIndex[2]: 0  matchIndex[2]: 333
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 47
------------------------------------------------------
term 50 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 47
------------------------------------------------------
flag 47665 term 50 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 50 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332} {5029651380983412640 49 333} {3162835534567212411 50 334}]
------------------------------------------------------
term 50 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 47
------------------------------------------------------
flag 34948 term 50 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 50 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
flag 42706 term 49 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 49 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
term 49 leader 0 nextIndex[2]: 0  matchIndex[2]: 333
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 47
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332} {5029651380983412640 49 333} {3162835534567212411 50 334}]
------------------------------------------------------
client write log 3005172258682782762 (index 335) to leader 1
client write log 837176069933348571 (index 336) to leader 1
client write log 2335973803894238553 (index 337) to leader 1
client write log 3923422761063493378 (index 338) to leader 1
client write log 6375201407829083959 (index 339) to leader 1
client write log 2179903368358243707 (index 340) to leader 1
term 50 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 47
------------------------------------------------------
flag 88135 term 50 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 50 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
flag 98111 term 49 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 49 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
term 49 leader 0 nextIndex[2]: 0  matchIndex[2]: 333
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 47
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 47 329} {837899714960935473 47 330} {857526703648126174 47 331} {5029651380983412640 47 332} {5029651380983412640 49 333} {3162835534567212411 50 334} {3005172258682782762 50 335} {837176069933348571 50 336} {2335973803894238553 50 337} {3923422761063493378 50 338} {6375201407829083959 50 339} {2179903368358243707 50 340}]
------------------------------------------------------
term 50 Server1 start snapshot! index=339
term 50 server1 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=340
-------------------------------------------------------------
term 50 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 50
------------------------------------------------------
flag 63283 term 50 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 50 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
flag 38233 term 49 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 49 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
term 49 leader 0 nextIndex[2]: 0  matchIndex[2]: 333
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 47
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 50 339} {2179903368358243707 50 340}]
------------------------------------------------------
term 50 Server2 start snapshot! index=339
term 50 server2 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=340
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1222801026341216367 (index 341) to leader 1
term 50 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 50
------------------------------------------------------
flag 99512 term 50 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 50 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
flag 9634 term 49 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 49 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
term 49 leader 0 nextIndex[2]: 0  matchIndex[2]: 333
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 47
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {2179903368358243707 50 340} {1222801026341216367 50 341}]
------------------------------------------------------
term 50 server 1 AppendEntries false 领导者任期过期 args.Term 49
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 50 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 50 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 server 0 InstallSnapshot success
------------------------------------------------------
term 50 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 340 matchIndex[0] 339 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 50 rf.commitIndex 339 rf.lastApplied 339
flag 10142 term 50 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 42639 term 50 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 50 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {2179903368358243707 50 340} {1222801026341216367 50 341}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {2179903368358243707 50 340} {1222801026341216367 50 341}]
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79665 term 50 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 50 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 39023 term 50 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 50 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {2179903368358243707 50 340} {1222801026341216367 50 341}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {2179903368358243707 50 340} {1222801026341216367 50 341}]
------------------------------------------------------
flag 24455 term 50 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 50 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 12520 term 50 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 50 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {2179903368358243707 50 340} {1222801026341216367 50 341}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {2179903368358243707 50 340} {1222801026341216367 50 341}]
------------------------------------------------------
flag 92976 term 50 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 50 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 61269 term 50 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 50 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {2179903368358243707 50 340} {1222801026341216367 50 341}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {2179903368358243707 50 340} {1222801026341216367 50 341}]
------------------------------------------------------
flag 75164 term 50 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 50 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 98174 term 50 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 50 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {2179903368358243707 50 340} {1222801026341216367 50 341}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {2179903368358243707 50 340} {1222801026341216367 50 341}]
------------------------------------------------------
term 50 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43114 term 50 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 50 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 44909 term 50 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 50 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {2179903368358243707 50 340} {1222801026341216367 50 341}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {2179903368358243707 50 340} {1222801026341216367 50 341}]
------------------------------------------------------
flag 26482 term 50 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 50 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 94898 term 50 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 50 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {2179903368358243707 50 340} {1222801026341216367 50 341}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {2179903368358243707 50 340} {1222801026341216367 50 341}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4525207912281227038 (index 342) to leader 1
flag 2294 term 50 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 50 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 81305 term 50 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 50 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 50 339} {2179903368358243707 50 340} {1222801026341216367 50 341} {4525207912281227038 50 342}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53210 term 50 leader 1 nextIndex[0]: 343  matchIndex[0]: 342
term 50 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 50 leaderCommit: 342 
------------------------------------------------------
flag 64106 term 50 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 50 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 342 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 50 339} {2179903368358243707 50 340} {1222801026341216367 50 341} {4525207912281227038 50 342}]
------------------------------------------------------
client write log 381279386201150942 (index 343) to leader 1
client write log 431387920105742029 (index 344) to leader 1
client write log 1536483050667396419 (index 345) to leader 1
client write log 1969889283897004733 (index 346) to leader 1
client write log 6998533431666753067 (index 347) to leader 1
client write log 7285861889827665860 (index 348) to leader 1
client write log 5319963173923406199 (index 349) to leader 1
client write log 2512022709238256960 (index 350) to leader 1
client write log 772862449644018666 (index 351) to leader 1
client write log 6776995829715498246 (index 352) to leader 1
client write log 289855024579445211 (index 353) to leader 1
client write log 2528214933058375447 (index 354) to leader 1
client write log 579021562664345947 (index 355) to leader 1
flag 98145 term 50 leader 1 nextIndex[0]: 343  matchIndex[0]: 342
term 50 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 50 leaderCommit: 342 
------------------------------------------------------
flag 89563 term 50 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 50 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 342 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 50 339} {2179903368358243707 50 340} {1222801026341216367 50 341} {4525207912281227038 50 342} {381279386201150942 50 343} {431387920105742029 50 344} {1536483050667396419 50 345} {1969889283897004733 50 346} {6998533431666753067 50 347} {7285861889827665860 50 348} {5319963173923406199 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355}]
------------------------------------------------------
term 50 Server1 start snapshot! index=349
term 50 server1 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=355
-------------------------------------------------------------
flag 37381 term 50 leader 1 nextIndex[0]: 356  matchIndex[0]: 355
term 50 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355}]
------------------------------------------------------
term 50 Server0 start snapshot! index=349
term 50 server0 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=355
-------------------------------------------------------------
!!!!!!connect server 2
client write log 9153400918334891647 (index 356) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 1 not vote for server 2, 日志不够新
term 50 server 0 not vote for server 2, 日志不够新
term 52 server 2 vote for server 1
term 52 server 0 vote for server 1
term 52 server 1 get vote from server 2
term 52 server 1 become leader
------------------------------------------------------
term 52 server 1 get outdate rpc reply from server 0
flag 18356 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
flag 48221 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
term 52 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 52 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 357->356
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 357->356
------------------------------------------------------
flag 27830 term 52 leader 1 nextIndex[0]: 356  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 342  matchIndex[2]: 0
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 50
------------------------------------------------------
term 52 server 2 InstallSnapshot success
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 350 matchIndex[2] 349 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 349 rf.lastIncludedTerm 50 rf.commitIndex 349 rf.lastApplied 349
term 52 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52898 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
flag 40867 term 52 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 52 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=357
update matchIndex[2]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
flag 90932 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
flag 86809 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=357
update matchIndex[2]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
term 52 server 0 not vote for server 1, 任期不够新
term 52 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18538 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
flag 20809 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=357
update matchIndex[2]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83550 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
flag 42236 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=357
update matchIndex[2]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
term 52 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79980 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
flag 84559 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=357
update matchIndex[2]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
flag 67801 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
flag 66835 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=357
update matchIndex[2]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
flag 84164 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
flag 62160 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=357
update matchIndex[2]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
flag 32527 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
flag 15612 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=357
update matchIndex[2]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50897 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
flag 2844 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:355 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=357
update matchIndex[2]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
flag 53561 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
flag 27854 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=357
update matchIndex[2]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
flag 68417 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
flag 12869 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=357
update matchIndex[2]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
flag 4055 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
flag 61101 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=357
update matchIndex[2]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
flag 60028 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
flag 53235 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=357
update matchIndex[2]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
flag 22781 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
flag 56768 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=357
update matchIndex[2]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49203 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
flag 16773 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:355 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=357
update matchIndex[2]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
flag 37690 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
flag 38381 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=357
update matchIndex[2]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
term 52 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 93180 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
flag 60402 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:355 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=357
update matchIndex[2]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
term 52 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92335 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
flag 6542 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
term 52 server 2 AppendEntries true commitIndex:355 
------------------------------------------------------
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=357
update matchIndex[2]=356
update leader CommitIndex=355
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356}]
------------------------------------------------------
client write log 9153400918334891647 (index 357) to leader 1
term 52 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 45212 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
flag 58442 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 50 leaderCommit: 355 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:355 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356} {9153400918334891647 52 357}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=358
update matchIndex[0]=357
update leader CommitIndex=357
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356} {9153400918334891647 52 357}]
------------------------------------------------------
flag 13682 term 52 leader 1 nextIndex[0]: 358  matchIndex[0]: 357
term 52 leader 1 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 52 leaderCommit: 357 
------------------------------------------------------
flag 59842 term 52 leader 1 nextIndex[2]: 358  matchIndex[2]: 357
term 52 leader 1 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 52 leaderCommit: 357 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356} {9153400918334891647 52 357}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=358
update matchIndex[0]=357
update leader CommitIndex=357
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356} {9153400918334891647 52 357}]
------------------------------------------------------
flag 95438 term 52 leader 1 nextIndex[0]: 358  matchIndex[0]: 357
term 52 leader 1 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 52 leaderCommit: 357 
------------------------------------------------------
flag 73384 term 52 leader 1 nextIndex[2]: 358  matchIndex[2]: 357
term 52 leader 1 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 52 leaderCommit: 357 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356} {9153400918334891647 52 357}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=358
update matchIndex[0]=357
update leader CommitIndex=357
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356} {9153400918334891647 52 357}]
------------------------------------------------------
flag 55410 term 52 leader 1 nextIndex[0]: 358  matchIndex[0]: 357
term 52 leader 1 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 52 leaderCommit: 357 
------------------------------------------------------
flag 19983 term 52 leader 1 nextIndex[2]: 358  matchIndex[2]: 357
term 52 leader 1 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 52 leaderCommit: 357 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356} {9153400918334891647 52 357}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=358
update matchIndex[0]=357
update leader CommitIndex=357
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356} {9153400918334891647 52 357}]
------------------------------------------------------
flag 74611 term 52 leader 1 nextIndex[0]: 358  matchIndex[0]: 357
term 52 leader 1 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 52 leaderCommit: 357 
------------------------------------------------------
flag 7258 term 52 leader 1 nextIndex[2]: 358  matchIndex[2]: 357
term 52 leader 1 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 52 leaderCommit: 357 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356} {9153400918334891647 52 357}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=358
update matchIndex[0]=357
update leader CommitIndex=357
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356} {9153400918334891647 52 357}]
------------------------------------------------------
flag 63129 term 52 leader 1 nextIndex[0]: 358  matchIndex[0]: 357
term 52 leader 1 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 52 leaderCommit: 357 
------------------------------------------------------
flag 78189 term 52 leader 1 nextIndex[2]: 358  matchIndex[2]: 357
term 52 leader 1 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 52 leaderCommit: 357 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=358
update matchIndex[0]=357
update leader CommitIndex=357
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356} {9153400918334891647 52 357}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356} {9153400918334891647 52 357}]
------------------------------------------------------
term 52 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23521 term 52 leader 1 nextIndex[0]: 358  matchIndex[0]: 357
term 52 leader 1 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 52 leaderCommit: 357 
------------------------------------------------------
flag 20561 term 52 leader 1 nextIndex[2]: 358  matchIndex[2]: 357
term 52 leader 1 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 52 leaderCommit: 357 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356} {9153400918334891647 52 357}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=358
update matchIndex[0]=357
update leader CommitIndex=357
leader log:
[{snapshot 50 349} {2512022709238256960 50 350} {772862449644018666 50 351} {6776995829715498246 50 352} {289855024579445211 50 353} {2528214933058375447 50 354} {579021562664345947 50 355} {9153400918334891647 50 356} {9153400918334891647 52 357}]
------------------------------------------------------
  ... Passed --  87.3  3 1951  870763  357
--- PASS: TestSnapshotInstall2D (87.31s)
PASS
