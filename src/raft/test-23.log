=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 0 vote for server 2
term 1 server 2 get outdate rpc reply from server 0
client write log 7038071536183876964 (index 1) to leader 2
flag 74059 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 46171 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7038071536183876964 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7038071536183876964 1 1}]
------------------------------------------------------
flag 8365 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 55341 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7038071536183876964 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7038071536183876964 1 1}]
------------------------------------------------------
flag 53992 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 43983 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7038071536183876964 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7038071536183876964 1 1}]
------------------------------------------------------
flag 59333 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 1001 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7038071536183876964 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7038071536183876964 1 1}]
------------------------------------------------------
flag 19129 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 98263 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7038071536183876964 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7038071536183876964 1 1}]
------------------------------------------------------
flag 61664 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 6379 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7038071536183876964 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7038071536183876964 1 1}]
------------------------------------------------------
flag 2196 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 9481 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7038071536183876964 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7038071536183876964 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 376807582847152388 (index 2) to leader 2
flag 95931 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 75698 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7038071536183876964 1 1} {376807582847152388 1 2}]
------------------------------------------------------
flag 51581 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 58099 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7038071536183876964 1 1} {376807582847152388 1 2}]
------------------------------------------------------
client write log 5707384267002884235 (index 3) to leader 2
client write log 4700473208318363046 (index 4) to leader 2
client write log 8725371079836691543 (index 5) to leader 2
client write log 7471850041694060075 (index 6) to leader 2
client write log 5730589400790221008 (index 7) to leader 2
client write log 3743085324316366729 (index 8) to leader 2
client write log 3545724048853885246 (index 9) to leader 2
client write log 2189135002032195007 (index 10) to leader 2
client write log 4651078087353168286 (index 11) to leader 2
client write log 493240241253758806 (index 12) to leader 2
client write log 5398373774762214478 (index 13) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 2->1
------------------------------------------------------
term 1 leader 2 nextIndex[0]: 0  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 0  LastIncludedTerm: 0
------------------------------------------------------
flag 26003 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{<nil> 0 0} {7038071536183876964 1 1} {376807582847152388 1 2} {5707384267002884235 1 3} {4700473208318363046 1 4} {8725371079836691543 1 5} {7471850041694060075 1 6} {5730589400790221008 1 7} {3743085324316366729 1 8} {3545724048853885246 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=13
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 0  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 93286 term 1 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 1 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=13
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5616325063415347582 (index 14) to leader 2
term 1 leader 2 nextIndex[0]: 0  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 18483 term 1 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 1 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 2 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
term 1 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 1 server 1 not vote for server 0, 日志不够新
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 0 vote for server 2
term 3 server 2 get outdate rpc reply from server 0
term 3 server 2 not vote for server 0, 任期不够新
term 3 server 0 get outdate rpc reply from server 2
flag 20657 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 64220 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 15->14
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 56595 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
flag 39305 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 40420 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
flag 62752 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 65518 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
flag 77383 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 85180 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
flag 63436 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 25849 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
flag 49136 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 47808 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
flag 15466 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 83468 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
flag 43007 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 91835 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
flag 11361 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 46795 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
flag 55734 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 83088 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
flag 54430 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 97739 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
flag 13727 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 75737 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
flag 51430 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 20285 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
flag 49577 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 74665 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
flag 82237 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 23788 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
flag 69233 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 62460 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
flag 11774 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 83071 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14}]
------------------------------------------------------
client write log 5616325063415347582 (index 15) to leader 2
flag 21257 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 24473 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14} {5616325063415347582 3 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14} {5616325063415347582 3 15}]
------------------------------------------------------
flag 2985 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 83299 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14} {5616325063415347582 3 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14} {5616325063415347582 3 15}]
------------------------------------------------------
flag 58384 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 58242 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14} {5616325063415347582 3 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14} {5616325063415347582 3 15}]
------------------------------------------------------
flag 41478 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 38541 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14} {5616325063415347582 3 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14} {5616325063415347582 3 15}]
------------------------------------------------------
flag 78341 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 12464 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14} {5616325063415347582 3 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14} {5616325063415347582 3 15}]
------------------------------------------------------
flag 82999 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 80880 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14} {5616325063415347582 3 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14} {5616325063415347582 3 15}]
------------------------------------------------------
flag 62149 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 94152 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14} {5616325063415347582 3 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14} {5616325063415347582 3 15}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 63247 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 83441 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 84826 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 56781 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 26502 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 8903 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11014 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 61636 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 vote for server 0
term 4 server 0 get vote from server 1
term 4 server 0 become leader
------------------------------------------------------
flag 15556 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 74260 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14} {5616325063415347582 3 15}]
------------------------------------------------------
client write log 5376041419819755600 (index 16) to leader 0
flag 43019 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 72359 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 82902 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 82550 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14} {5616325063415347582 3 15} {5376041419819755600 4 16}]
------------------------------------------------------
flag 96248 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 8229 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 52390 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 53758 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14} {5616325063415347582 3 15} {5376041419819755600 4 16}]
------------------------------------------------------
client write log 3373651404212060353 (index 17) to leader 0
client write log 5452899697110529982 (index 18) to leader 0
client write log 6675910506061957247 (index 19) to leader 0
client write log 8490102802807329991 (index 20) to leader 0
client write log 3244503118130240175 (index 21) to leader 0
client write log 2502362567327885335 (index 22) to leader 0
client write log 2323246843087647583 (index 23) to leader 0
client write log 82961399841123359 (index 24) to leader 0
client write log 6558073582639613666 (index 25) to leader 0
client write log 3360226499565218402 (index 26) to leader 0
client write log 936697244966725012 (index 27) to leader 0
client write log 5576117812331184312 (index 28) to leader 0
client write log 6441080792735635877 (index 29) to leader 0
client write log 7149771204616965933 (index 30) to leader 0
client write log 8207171451963900966 (index 31) to leader 0
term 3 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 1096 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 41816 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 16->15
------------------------------------------------------
flag 20438 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 18345 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 1 9} {2189135002032195007 1 10} {4651078087353168286 1 11} {493240241253758806 1 12} {5398373774762214478 1 13} {5616325063415347582 1 14} {5616325063415347582 3 15} {5376041419819755600 4 16} {3373651404212060353 4 17} {5452899697110529982 4 18} {6675910506061957247 4 19} {8490102802807329991 4 20} {3244503118130240175 4 21} {2502362567327885335 4 22} {2323246843087647583 4 23} {82961399841123359 4 24} {6558073582639613666 4 25} {3360226499565218402 4 26} {936697244966725012 4 27} {5576117812331184312 4 28} {6441080792735635877 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=31
-------------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=31
-------------------------------------------------------------
flag 87594 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 15
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 38017 term 4 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 4 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=31
-------------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=31
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8494496774368859745 (index 16) to leader 2
flag 34034 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 15
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 3 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27253 term 4 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 4 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot success
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 30 matchIndex[2] 29 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
term 4 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 0 not vote for server 2, 日志不够新
term 6 server 2 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 1 vote for server 0
term 6 server 0 get outdate rpc reply from server 1
flag 33146 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 80144 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 32->31
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
flag 76929 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 56505 term 6 leader 0 nextIndex[2]: 30  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
flag 83654 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 49063 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 465 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 19519 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36650 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 41557 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
flag 65918 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 85964 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
flag 46065 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 53808 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
flag 63173 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 63203 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10365 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 92137 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
term 6 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44348 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 27551 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96487 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 74840 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
flag 49413 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 52732 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
flag 9421 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 17426 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
flag 17201 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 95622 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46122 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 37527 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53574 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 59746 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
flag 85469 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 68846 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45789 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 72512 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14738 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 10459 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31}]
------------------------------------------------------
client write log 8494496774368859745 (index 32) to leader 0
flag 56440 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 96195 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31} {8494496774368859745 6 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31} {8494496774368859745 6 32}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59513 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 21197 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31} {8494496774368859745 6 32}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31} {8494496774368859745 6 32}]
------------------------------------------------------
flag 39656 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 48201 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31} {8494496774368859745 6 32}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31} {8494496774368859745 6 32}]
------------------------------------------------------
term 6 server 2 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 2
flag 38119 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 60552 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31} {8494496774368859745 6 32}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31} {8494496774368859745 6 32}]
------------------------------------------------------
flag 9985 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 5864 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31} {8494496774368859745 6 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31} {8494496774368859745 6 32}]
------------------------------------------------------
flag 73717 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 92944 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31} {8494496774368859745 6 32}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31} {8494496774368859745 6 32}]
------------------------------------------------------
flag 73574 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 6456 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31} {8494496774368859745 6 32}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31} {8494496774368859745 6 32}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1817639090216765663 (index 33) to leader 0
flag 58986 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 18877 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31} {8494496774368859745 6 32} {1817639090216765663 6 33}]
------------------------------------------------------
flag 44951 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 35689 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31} {8494496774368859745 6 32} {1817639090216765663 6 33}]
------------------------------------------------------
client write log 8997423216426545602 (index 34) to leader 0
client write log 8872800900157433843 (index 35) to leader 0
client write log 7649809770701682110 (index 36) to leader 0
client write log 8161717876707370629 (index 37) to leader 0
client write log 4314884319270907936 (index 38) to leader 0
client write log 8403043463133547504 (index 39) to leader 0
client write log 6889579496248787843 (index 40) to leader 0
client write log 6981859567860474810 (index 41) to leader 0
client write log 1417759424685393629 (index 42) to leader 0
client write log 1952772705448155849 (index 43) to leader 0
client write log 6465387516356958698 (index 44) to leader 0
client write log 2955679265984303718 (index 45) to leader 0
client write log 1347690566868919756 (index 46) to leader 0
client write log 285655704115221327 (index 47) to leader 0
client write log 8152459407135232339 (index 48) to leader 0
flag 84537 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 21838 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 29} {7149771204616965933 4 30} {8207171451963900966 4 31} {8494496774368859745 6 32} {1817639090216765663 6 33} {8997423216426545602 6 34} {8872800900157433843 6 35} {7649809770701682110 6 36} {8161717876707370629 6 37} {4314884319270907936 6 38} {8403043463133547504 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=48
-------------------------------------------------------------
term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 61022 term 6 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 6 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=48
-------------------------------------------------------------
!!!!!!connect server 1
client write log 148535114538559389 (index 49) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 not vote for server 1, 日志不够新
term 6 server 0 not vote for server 1, 日志不够新
term 8 server 2 vote for server 0
term 8 server 0 get vote from server 2
term 8 server 0 become leader
------------------------------------------------------
term 8 server 1 vote for server 0
term 8 server 0 get outdate rpc reply from server 1
flag 65614 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 90510 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 50->49
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 50->49
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 33  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 37260 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
term 8 server 1 InstallSnapshot success
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34503 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 88890 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37523 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 29720 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33282 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 65106 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81069 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 13156 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
flag 49670 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 6614 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
flag 36646 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 65943 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
flag 77255 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 87443 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7966 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 72505 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69806 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 13090 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
flag 50761 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 52634 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
flag 89803 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 88623 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
flag 38024 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 28889 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74767 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 17113 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
flag 49130 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 67205 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
flag 92345 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 55600 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
flag 83692 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 87095 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
flag 56903 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 33080 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87946 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 13355 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49}]
------------------------------------------------------
client write log 148535114538559389 (index 50) to leader 0
flag 47360 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 11496 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49} {148535114538559389 8 50}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 39} {6889579496248787843 6 40} {6981859567860474810 6 41} {1417759424685393629 6 42} {1952772705448155849 6 43} {6465387516356958698 6 44} {2955679265984303718 6 45} {1347690566868919756 6 46} {285655704115221327 6 47} {8152459407135232339 6 48} {148535114538559389 6 49} {148535114538559389 8 50}]
------------------------------------------------------
term 8 Server0 start snapshot! index=49
term 8 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
flag 10863 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 82365 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {148535114538559389 8 50}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {148535114538559389 8 50}]
------------------------------------------------------
term 8 Server2 start snapshot! index=49
term 8 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
term 8 Server1 start snapshot! index=49
term 8 server1 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34798 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 68105 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {148535114538559389 8 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {148535114538559389 8 50}]
------------------------------------------------------
flag 80935 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 38449 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {148535114538559389 8 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {148535114538559389 8 50}]
------------------------------------------------------
flag 93429 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 60067 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {148535114538559389 8 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {148535114538559389 8 50}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2570 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 20675 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {148535114538559389 8 50}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {148535114538559389 8 50}]
------------------------------------------------------
flag 41465 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 36793 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {148535114538559389 8 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {148535114538559389 8 50}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5247611552080033509 (index 51) to leader 0
flag 65073 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 27762 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51}]
------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66166 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 83873 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51}]
------------------------------------------------------
client write log 6114843762578166406 (index 52) to leader 0
client write log 5232629131137023704 (index 53) to leader 0
client write log 8838072215669372331 (index 54) to leader 0
client write log 7513824270282587708 (index 55) to leader 0
client write log 4329178624186763566 (index 56) to leader 0
client write log 1189304913920275864 (index 57) to leader 0
flag 27363 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 78327 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57}]
------------------------------------------------------
flag 99676 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 85581 term 8 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 8 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5113397203414056831 (index 58) to leader 0
term 8 server 2 not vote for server 1, 日志不够新
term 8 server 0 not vote for server 1, 日志不够新
term 10 server 2 vote for server 0
term 10 server 0 get vote from server 2
term 10 server 0 become leader
------------------------------------------------------
term 10 server 1 vote for server 0
term 10 server 0 get outdate rpc reply from server 1
flag 89518 term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 9043 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 10 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 59->58
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 59->58
------------------------------------------------------
flag 34661 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 636 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
flag 48210 term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 99311 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
flag 50999 term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 70239 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
flag 49792 term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 20638 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
flag 29403 term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 20652 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
flag 4740 term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 90814 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
flag 27719 term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 61197 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
flag 18835 term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 51247 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
flag 66434 term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 26882 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
flag 40474 term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 732 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
flag 54605 term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 33052 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
flag 81141 term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 68146 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
flag 9961 term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 4965 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
flag 74553 term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 57748 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
flag 49882 term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 83266 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60819 term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 45036 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
flag 46998 term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 30767 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
flag 21571 term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 45308 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58}]
------------------------------------------------------
client write log 5113397203414056831 (index 59) to leader 0
flag 29550 term 10 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 52009 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58} {5113397203414056831 10 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 6 49} {148535114538559389 8 50} {5247611552080033509 8 51} {6114843762578166406 8 52} {5232629131137023704 8 53} {8838072215669372331 8 54} {7513824270282587708 8 55} {4329178624186763566 8 56} {1189304913920275864 8 57} {5113397203414056831 8 58} {5113397203414056831 10 59}]
------------------------------------------------------
term 10 Server0 start snapshot! index=59
term 10 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22039 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 49555 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
term 10 Server2 start snapshot! index=59
term 10 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 10 Server1 start snapshot! index=59
term 10 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
flag 93330 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 44738 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63125 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 26617 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
flag 22081 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 43803 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
flag 92549 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 22373 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
flag 64688 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 82441 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 14928 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 8106 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 24951 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 78493 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 7546 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 18370 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 11 server 1 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 2 become leader
------------------------------------------------------
flag 47157 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 66793 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
client write log 1868659269355547106 (index 60) to leader 2
flag 54842 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 52393 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 34192 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 62120 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {1868659269355547106 11 60}]
------------------------------------------------------
flag 77863 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 67454 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 29114 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
flag 17082 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {1868659269355547106 11 60}]
------------------------------------------------------
client write log 7189627318824263955 (index 61) to leader 2
flag 24301 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 2115 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 77593 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
flag 86104 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {1868659269355547106 11 60} {7189627318824263955 11 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 60->59
------------------------------------------------------
flag 6442 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 leader 0 nextIndex[2]: 0  matchIndex[2]: 59
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 10
------------------------------------------------------
flag 63050 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 2164 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {1868659269355547106 11 60} {7189627318824263955 11 61}]
------------------------------------------------------
!!!!!!connect server 0
client write log 276050553108443757 (index 62) to leader 2
flag 78787 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 leader 0 nextIndex[2]: 0  matchIndex[2]: 59
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 10
------------------------------------------------------
term 11 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 server 1 AppendEntries false 领导者任期过期 args.Term 10
------------------------------------------------------
term 10 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16838 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 48887 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {1868659269355547106 11 60} {7189627318824263955 11 61} {276050553108443757 11 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {1868659269355547106 11 60} {7189627318824263955 11 61} {276050553108443757 11 62}]
------------------------------------------------------
flag 23418 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 16386 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {1868659269355547106 11 60} {7189627318824263955 11 61} {276050553108443757 11 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {1868659269355547106 11 60} {7189627318824263955 11 61} {276050553108443757 11 62}]
------------------------------------------------------
flag 93224 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 67372 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {1868659269355547106 11 60} {7189627318824263955 11 61} {276050553108443757 11 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {1868659269355547106 11 60} {7189627318824263955 11 61} {276050553108443757 11 62}]
------------------------------------------------------
flag 45094 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 22434 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {1868659269355547106 11 60} {7189627318824263955 11 61} {276050553108443757 11 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {1868659269355547106 11 60} {7189627318824263955 11 61} {276050553108443757 11 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 63->62
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 0  matchIndex[0]: 62
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 10
------------------------------------------------------
flag 31613 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {1868659269355547106 11 60} {7189627318824263955 11 61} {276050553108443757 11 62}]
------------------------------------------------------
term 11 server 0 InstallSnapshot fail
rf.commitIndex 62 args.LastIncludedIndex 59
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
flag 1171 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 62 
------------------------------------------------------
flag 72274 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {1868659269355547106 11 60} {7189627318824263955 11 61} {276050553108443757 11 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {1868659269355547106 11 60} {7189627318824263955 11 61} {276050553108443757 11 62}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4249259634292782598 (index 63) to leader 2
flag 80111 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 20998 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 10 59} {1868659269355547106 11 60} {7189627318824263955 11 61} {276050553108443757 11 62} {4249259634292782598 11 63}]
------------------------------------------------------
flag 48948 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 99225 term 11 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 10 59} {1868659269355547106 11 60} {7189627318824263955 11 61} {276050553108443757 11 62} {4249259634292782598 11 63}]
------------------------------------------------------
client write log 2105429288242656104 (index 64) to leader 2
client write log 6911534480641108662 (index 65) to leader 2
client write log 2229604839273899228 (index 66) to leader 2
client write log 4511979946534022917 (index 67) to leader 2
client write log 835657747053042926 (index 68) to leader 2
client write log 1847617225432840415 (index 69) to leader 2
flag 31568 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 41620 term 11 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 10 59} {1868659269355547106 11 60} {7189627318824263955 11 61} {276050553108443757 11 62} {4249259634292782598 11 63} {2105429288242656104 11 64} {6911534480641108662 11 65} {2229604839273899228 11 66} {4511979946534022917 11 67} {835657747053042926 11 68} {1847617225432840415 11 69}]
------------------------------------------------------
term 11 Server2 start snapshot! index=69
term 11 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 11735 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 11 Server1 start snapshot! index=69
term 11 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3815308987244926689 (index 70) to leader 2
term 11 server 2 not vote for server 0, 日志不够新
term 11 server 1 not vote for server 0, 日志不够新
term 13 server 1 vote for server 2
term 13 server 0 vote for server 2
term 13 server 2 get vote from server 1
term 13 server 2 become leader
------------------------------------------------------
term 13 server 2 get outdate rpc reply from server 0
flag 93935 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 21363 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 71->70
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 71->70
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 63  matchIndex[0]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 12338 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 13 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 11 rf.commitIndex 69 rf.lastApplied 69
flag 1971 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 41048 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
flag 85062 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 25882 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
flag 37371 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 2165 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33437 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 9298 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42537 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 43307 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
flag 29259 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 47689 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
flag 36603 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 65657 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60579 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 30439 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
flag 21674 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 74835 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3583 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 96296 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
flag 47217 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 21065 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
flag 84116 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 88957 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
flag 71621 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 10285 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
flag 39371 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 80249 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83336 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 42961 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
term 13 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72055 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 70363 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
flag 93305 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 81949 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {3815308987244926689 11 70}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 3815308987244926689 (index 71) to leader 2
flag 47901 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 93544 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {3815308987244926689 11 70} {3815308987244926689 13 71}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {3815308987244926689 11 70} {3815308987244926689 13 71}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31427 term 13 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 13 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
flag 30223 term 13 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {3815308987244926689 11 70} {3815308987244926689 13 71}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {3815308987244926689 11 70} {3815308987244926689 13 71}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53020 term 13 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 13 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
flag 8732 term 13 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {3815308987244926689 11 70} {3815308987244926689 13 71}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {3815308987244926689 11 70} {3815308987244926689 13 71}]
------------------------------------------------------
flag 48611 term 13 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 13 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
flag 71238 term 13 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {3815308987244926689 11 70} {3815308987244926689 13 71}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {3815308987244926689 11 70} {3815308987244926689 13 71}]
------------------------------------------------------
flag 53742 term 13 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 13 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
flag 7277 term 13 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {3815308987244926689 11 70} {3815308987244926689 13 71}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {3815308987244926689 11 70} {3815308987244926689 13 71}]
------------------------------------------------------
flag 55044 term 13 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 13 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
flag 18802 term 13 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {3815308987244926689 11 70} {3815308987244926689 13 71}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {3815308987244926689 11 70} {3815308987244926689 13 71}]
------------------------------------------------------
term 13 server 0 not vote for server 2, 任期不够新
term 13 server 2 get outdate rpc reply from server 0
flag 87421 term 13 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 13 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
flag 72278 term 13 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {3815308987244926689 11 70} {3815308987244926689 13 71}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {3815308987244926689 11 70} {3815308987244926689 13 71}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8113632088371384413 (index 72) to leader 2
flag 81716 term 13 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 13 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
flag 91515 term 13 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {3815308987244926689 11 70} {3815308987244926689 13 71} {8113632088371384413 13 72}]
------------------------------------------------------
flag 79183 term 13 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 13 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 69490 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {3815308987244926689 11 70} {3815308987244926689 13 71} {8113632088371384413 13 72}]
------------------------------------------------------
client write log 6181848815298775520 (index 73) to leader 2
client write log 7849167888914013297 (index 74) to leader 2
client write log 7261242530990139852 (index 75) to leader 2
client write log 3976330641959174882 (index 76) to leader 2
client write log 8868115398915665757 (index 77) to leader 2
client write log 4405968468713199480 (index 78) to leader 2
client write log 3514187131328789591 (index 79) to leader 2
flag 94319 term 13 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 13 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 22504 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 11 69} {3815308987244926689 11 70} {3815308987244926689 13 71} {8113632088371384413 13 72} {6181848815298775520 13 73} {7849167888914013297 13 74} {7261242530990139852 13 75} {3976330641959174882 13 76} {8868115398915665757 13 77} {4405968468713199480 13 78} {3514187131328789591 13 79}]
------------------------------------------------------
term 13 Server2 start snapshot! index=79
term 13 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 86865 term 13 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
term 13 Server1 start snapshot! index=79
term 13 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8224413414649411396 (index 80) to leader 2
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 54325 term 13 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
term 14 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader log:
[{snapshot 13 79} {8224413414649411396 13 80}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 15 server 0 vote for server 2
term 15 server 2 get vote from server 0
term 15 server 2 become leader
------------------------------------------------------
term 15 server 1 vote for server 2
term 15 server 2 get outdate rpc reply from server 1
flag 61230 term 15 leader 2 nextIndex[0]: 81  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 6404 term 15 leader 2 nextIndex[1]: 81  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 13 79} {8224413414649411396 13 80}]
------------------------------------------------------
term 15 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 81->80
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 leader 2 nextIndex[0]: 72  matchIndex[0]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 57490 term 15 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 15 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 13 79} {8224413414649411396 13 80}]
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 13 rf.commitIndex 79 rf.lastApplied 79
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54364 term 15 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 15 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 71614 term 15 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 13 79} {8224413414649411396 13 80}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 13 79} {8224413414649411396 13 80}]
------------------------------------------------------
flag 21478 term 15 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 65985 term 15 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 13 79} {8224413414649411396 13 80}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 13 79} {8224413414649411396 13 80}]
------------------------------------------------------
flag 67389 term 15 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 19961 term 15 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 13 79} {8224413414649411396 13 80}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 13 79} {8224413414649411396 13 80}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33772 term 15 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 81216 term 15 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 13 79} {8224413414649411396 13 80}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 13 79} {8224413414649411396 13 80}]
------------------------------------------------------
flag 98566 term 15 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 55940 term 15 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 13 79} {8224413414649411396 13 80}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 13 79} {8224413414649411396 13 80}]
------------------------------------------------------
flag 8977 term 15 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 3181 term 15 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 13 79} {8224413414649411396 13 80}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 13 79} {8224413414649411396 13 80}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 16999 term 15 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 41655 term 15 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 35913 term 15 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 76742 term 15 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 95182 term 15 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 20492 term 15 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 16 server 0 vote for server 1
term 16 server 1 get vote from server 0
term 16 server 1 become leader
------------------------------------------------------
flag 61003 term 16 leader 1 nextIndex[0]: 81  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 21075 term 16 leader 1 nextIndex[2]: 81  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 13 79} {8224413414649411396 13 80}]
------------------------------------------------------
client write log 1248757980171685326 (index 81) to leader 1
flag 90410 term 15 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 42028 term 15 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66664 term 16 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 16 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 45980 term 16 leader 1 nextIndex[2]: 81  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {8224413414649411396 13 80} {1248757980171685326 16 81}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4003 term 15 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 95496 term 15 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 81->80
------------------------------------------------------
flag 53796 term 16 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 16 leaderCommit: 81 
------------------------------------------------------
flag 7178 term 16 leader 1 nextIndex[2]: 81  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {8224413414649411396 13 80} {1248757980171685326 16 81}]
------------------------------------------------------
client write log 6256643740256032143 (index 82) to leader 1
flag 21041 term 15 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 80
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17979 term 16 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 16 leaderCommit: 81 
------------------------------------------------------
flag 14477 term 16 leader 1 nextIndex[2]: 81  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8224413414649411396 13 80} {1248757980171685326 16 81} {6256643740256032143 16 82}]
------------------------------------------------------
flag 48305 term 15 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 80
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 42870 term 16 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 16 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 84863 term 16 leader 1 nextIndex[2]: 81  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8224413414649411396 13 80} {1248757980171685326 16 81} {6256643740256032143 16 82}]
------------------------------------------------------
flag 14804 term 15 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 80
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
!!!!!!connect server 2
client write log 1913018647110306170 (index 83) to leader 1
flag 1783 term 16 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 16 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 95140 term 16 leader 1 nextIndex[2]: 81  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {8224413414649411396 13 80} {1248757980171685326 16 81} {6256643740256032143 16 82} {1913018647110306170 16 83}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {8224413414649411396 13 80} {1248757980171685326 16 81} {6256643740256032143 16 82} {1913018647110306170 16 83}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90336 term 16 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 36914 term 16 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 16 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {8224413414649411396 13 80} {1248757980171685326 16 81} {6256643740256032143 16 82} {1913018647110306170 16 83}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {8224413414649411396 13 80} {1248757980171685326 16 81} {6256643740256032143 16 82} {1913018647110306170 16 83}]
------------------------------------------------------
flag 95629 term 16 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 15010 term 16 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 16 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {8224413414649411396 13 80} {1248757980171685326 16 81} {6256643740256032143 16 82} {1913018647110306170 16 83}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {8224413414649411396 13 80} {1248757980171685326 16 81} {6256643740256032143 16 82} {1913018647110306170 16 83}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87495 term 16 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 89234 term 16 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 16 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {8224413414649411396 13 80} {1248757980171685326 16 81} {6256643740256032143 16 82} {1913018647110306170 16 83}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {8224413414649411396 13 80} {1248757980171685326 16 81} {6256643740256032143 16 82} {1913018647110306170 16 83}]
------------------------------------------------------
flag 55 term 16 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 74946 term 16 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 16 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {8224413414649411396 13 80} {1248757980171685326 16 81} {6256643740256032143 16 82} {1913018647110306170 16 83}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {8224413414649411396 13 80} {1248757980171685326 16 81} {6256643740256032143 16 82} {1913018647110306170 16 83}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70634 term 16 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 34622 term 16 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 16 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {8224413414649411396 13 80} {1248757980171685326 16 81} {6256643740256032143 16 82} {1913018647110306170 16 83}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {8224413414649411396 13 80} {1248757980171685326 16 81} {6256643740256032143 16 82} {1913018647110306170 16 83}]
------------------------------------------------------
term 16 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 2
client write log 8467601627446905498 (index 84) to leader 1
term 16 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25615 term 16 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 79143 term 16 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 16 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8224413414649411396 13 80} {1248757980171685326 16 81} {6256643740256032143 16 82} {1913018647110306170 16 83} {8467601627446905498 16 84}]
------------------------------------------------------
flag 41296 term 16 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
flag 76691 term 16 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 16 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8224413414649411396 13 80} {1248757980171685326 16 81} {6256643740256032143 16 82} {1913018647110306170 16 83} {8467601627446905498 16 84}]
------------------------------------------------------
client write log 2578459623810296940 (index 85) to leader 1
client write log 356223144695900503 (index 86) to leader 1
client write log 8833206416352059701 (index 87) to leader 1
client write log 44967601883475807 (index 88) to leader 1
client write log 2112140507498189256 (index 89) to leader 1
client write log 6312425606931525522 (index 90) to leader 1
client write log 6066103051149404896 (index 91) to leader 1
client write log 5881582489603450560 (index 92) to leader 1
client write log 6489773005289938704 (index 93) to leader 1
client write log 1485991112241376634 (index 94) to leader 1
client write log 8539316789569833216 (index 95) to leader 1
client write log 4811947750155708965 (index 96) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25936 term 16 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
flag 88857 term 16 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 16 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 13 79} {8224413414649411396 13 80} {1248757980171685326 16 81} {6256643740256032143 16 82} {1913018647110306170 16 83} {8467601627446905498 16 84} {2578459623810296940 16 85} {356223144695900503 16 86} {8833206416352059701 16 87} {44967601883475807 16 88} {2112140507498189256 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96}]
------------------------------------------------------
term 16 Server1 start snapshot! index=89
term 16 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=96
-------------------------------------------------------------
flag 21912 term 16 leader 1 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96}]
------------------------------------------------------
term 16 Server0 start snapshot! index=89
term 16 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=96
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3104461838246205803 (index 97) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15293 term 16 leader 1 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
term 17 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 2 vote for server 1
term 18 server 1 get vote from server 2
term 18 server 1 become leader
------------------------------------------------------
term 18 server 0 vote for server 1
term 18 server 1 get outdate rpc reply from server 0
flag 91811 term 18 leader 1 nextIndex[0]: 98  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 17883 term 18 leader 1 nextIndex[2]: 98  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 98->97
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91631 term 18 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 84  matchIndex[2]: 0
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
term 18 server 2 InstallSnapshot success
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 16 rf.commitIndex 89 rf.lastApplied 89
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61690 term 18 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 69905 term 18 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 18 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
flag 24741 term 18 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 20758 term 18 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
flag 98302 term 18 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 27291 term 18 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
flag 94725 term 18 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 15173 term 18 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
flag 2342 term 18 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 54774 term 18 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
flag 8769 term 18 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 83332 term 18 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
flag 19058 term 18 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 47939 term 18 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
flag 78997 term 18 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 68421 term 18 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
term 18 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
flag 33219 term 18 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 79553 term 18 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38468 term 18 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 73477 term 18 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20399 term 18 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 68872 term 18 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 2 not vote for server 0, 任期不够新
term 18 server 0 get outdate rpc reply from server 2
flag 53611 term 18 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 76228 term 18 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
term 18 server 1 not vote for server 2, 任期不够新
term 18 server 2 get outdate rpc reply from server 1
flag 50899 term 18 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 11321 term 18 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
flag 6165 term 18 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 32825 term 18 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
flag 30036 term 18 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 99001 term 18 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
flag 19908 term 18 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 91150 term 18 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
term 18 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 3104461838246205803 (index 98) to leader 1
flag 32183 term 18 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 41811 term 18 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97} {3104461838246205803 18 98}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97} {3104461838246205803 18 98}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52315 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 37724 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97} {3104461838246205803 18 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97} {3104461838246205803 18 98}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1867 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 96717 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97} {3104461838246205803 18 98}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97} {3104461838246205803 18 98}]
------------------------------------------------------
flag 64706 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 83885 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97} {3104461838246205803 18 98}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97} {3104461838246205803 18 98}]
------------------------------------------------------
flag 44855 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 17643 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97} {3104461838246205803 18 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97} {3104461838246205803 18 98}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20666 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 22322 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
update nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97} {3104461838246205803 18 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97} {3104461838246205803 18 98}]
------------------------------------------------------
flag 11308 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 93710 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97} {3104461838246205803 18 98}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97} {3104461838246205803 18 98}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5119206178488697080 (index 99) to leader 1
flag 40994 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 10170 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 89} {6312425606931525522 16 90} {6066103051149404896 16 91} {5881582489603450560 16 92} {6489773005289938704 16 93} {1485991112241376634 16 94} {8539316789569833216 16 95} {4811947750155708965 16 96} {3104461838246205803 16 97} {3104461838246205803 18 98} {5119206178488697080 18 99}]
------------------------------------------------------
term 18 Server1 start snapshot! index=99
term 18 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59090 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
term 18 Server0 start snapshot! index=99
term 18 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
client write log 7293973662855285487 (index 100) to leader 1
client write log 1900831733782686151 (index 101) to leader 1
client write log 2828946657687555998 (index 102) to leader 1
client write log 8884062037504843675 (index 103) to leader 1
client write log 7492161277716993909 (index 104) to leader 1
client write log 7889951063087240150 (index 105) to leader 1
client write log 2539518067753544343 (index 106) to leader 1
client write log 7592920884765329303 (index 107) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66376 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107}]
------------------------------------------------------
flag 30528 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 2
client write log 6064858124086546145 (index 108) to leader 1
term 18 server 1 not vote for server 2, 日志不够新
term 18 server 0 not vote for server 2, 日志不够新
term 20 server 2 vote for server 1
term 20 server 1 get vote from server 2
term 20 server 1 become leader
------------------------------------------------------
term 20 server 0 vote for server 1
term 20 server 1 get outdate rpc reply from server 0
flag 63196 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 38876 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 109->108
------------------------------------------------------
term 20 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 109->108
------------------------------------------------------
flag 81949 term 20 leader 1 nextIndex[0]: 108  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 99  matchIndex[2]: 0
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
term 20 server 2 InstallSnapshot success
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 18 rf.commitIndex 99 rf.lastApplied 99
term 20 server 1 not vote for server 0, 任期不够新
term 20 server 0 get outdate rpc reply from server 1
flag 13929 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 69524 term 20 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
flag 86536 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 6471 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
term 20 server 0 not vote for server 2, 任期不够新
term 20 server 2 get outdate rpc reply from server 0
flag 99825 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 59085 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
flag 10222 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 17206 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
flag 91464 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 82237 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
flag 36286 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 4526 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
term 20 server 2 not vote for server 1, 任期不够新
term 20 server 1 get outdate rpc reply from server 2
flag 68419 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 8002 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
flag 80024 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 11981 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
flag 55407 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 12566 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
flag 16420 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 42395 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68727 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 55528 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
flag 27672 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 20174 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
flag 24838 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 96515 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14050 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 97393 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
flag 12512 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 87959 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
flag 83230 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 91850 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
flag 55034 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 26254 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
term 20 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94560 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 78837 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108}]
------------------------------------------------------
client write log 6064858124086546145 (index 109) to leader 1
flag 27572 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 32317 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108} {6064858124086546145 20 109}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 99} {7293973662855285487 18 100} {1900831733782686151 18 101} {2828946657687555998 18 102} {8884062037504843675 18 103} {7492161277716993909 18 104} {7889951063087240150 18 105} {2539518067753544343 18 106} {7592920884765329303 18 107} {6064858124086546145 18 108} {6064858124086546145 20 109}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 Server1 start snapshot! index=109
term 20 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28214 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 10053 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
term 20 Server0 start snapshot! index=109
term 20 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
term 20 Server2 start snapshot! index=109
term 20 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
flag 48605 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 8108 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
flag 22453 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 29822 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
flag 85762 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 81710 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37255 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 45521 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
flag 53026 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 34980 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 1
flag 32813 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 72242 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 14350 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 6852 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 15257 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 8382 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 47397 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 68689 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 21 server 0 vote for server 2
term 21 server 2 get vote from server 0
term 21 server 2 become leader
------------------------------------------------------
flag 29698 term 21 leader 2 nextIndex[0]: 110  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 87189 term 21 leader 2 nextIndex[1]: 110  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
client write log 7960977704379966870 (index 110) to leader 2
flag 5696 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 34651 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 49647 term 21 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 88020 term 21 leader 2 nextIndex[1]: 110  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 20 109} {7960977704379966870 21 110}]
------------------------------------------------------
flag 53360 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 7072 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 55560 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 82879 term 21 leader 2 nextIndex[1]: 110  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 20 109} {7960977704379966870 21 110}]
------------------------------------------------------
client write log 6284297325636755186 (index 111) to leader 2
client write log 2886247680293948777 (index 112) to leader 2
client write log 1082800574388414516 (index 113) to leader 2
client write log 1769399698933786991 (index 114) to leader 2
client write log 324646402787021585 (index 115) to leader 2
client write log 6937609824234908587 (index 116) to leader 2
client write log 7497844025554257697 (index 117) to leader 2
client write log 5653783952193043497 (index 118) to leader 2
client write log 8892496741540895886 (index 119) to leader 2
client write log 433620961991189258 (index 120) to leader 2
client write log 4948607949370139886 (index 121) to leader 2
client write log 3134629604430851167 (index 122) to leader 2
client write log 7709026180723688739 (index 123) to leader 2
client write log 5122443135949274699 (index 124) to leader 2
flag 46999 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 38347 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 31064 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 77860 term 21 leader 2 nextIndex[1]: 110  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 20 109} {7960977704379966870 21 110} {6284297325636755186 21 111} {2886247680293948777 21 112} {1082800574388414516 21 113} {1769399698933786991 21 114} {324646402787021585 21 115} {6937609824234908587 21 116} {7497844025554257697 21 117} {5653783952193043497 21 118} {8892496741540895886 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
term 21 Server2 start snapshot! index=119
term 21 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=124
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 110->109
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 110->109
------------------------------------------------------
term 20 leader 1 nextIndex[0]: 0  matchIndex[0]: 109
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 0  matchIndex[2]: 109
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
flag 30350 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 leader 2 nextIndex[1]: 110  matchIndex[1]: 0
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
term 21 Server0 start snapshot! index=119
term 21 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=124
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
!!!!!!connect server 1
client write log 5531610295129483119 (index 110) to leader 1
term 20 leader 1 nextIndex[0]: 0  matchIndex[0]: 109
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 0  matchIndex[2]: 109
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
term 21 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 20 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 19017 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 leader 2 nextIndex[1]: 110  matchIndex[1]: 0
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 1 InstallSnapshot success
------------------------------------------------------
term 21 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 21 rf.commitIndex 119 rf.lastApplied 119
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
term 21 server 0 not vote for server 1, 日志不够新
term 21 server 2 not vote for server 1, 日志不够新
term 23 server 1 vote for server 2
term 23 server 0 vote for server 2
term 23 server 2 get vote from server 1
term 23 server 2 become leader
------------------------------------------------------
term 23 server 2 get outdate rpc reply from server 0
flag 9823 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 87065 term 23 leader 2 nextIndex[1]: 125  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 125->124
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
flag 60380 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 4585 term 23 leader 2 nextIndex[1]: 120  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
flag 33490 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 22921 term 23 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
flag 97912 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 93003 term 23 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69580 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 7814 term 23 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23767 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 35870 term 23 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
flag 19204 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 27802 term 23 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
flag 45876 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 54249 term 23 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28273 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 15052 term 23 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
flag 72163 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 42906 term 23 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96735 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 90578 term 23 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62651 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 55597 term 23 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22680 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 21752 term 23 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
flag 43357 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 17568 term 23 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35001 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 12035 term 23 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
flag 47819 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 58610 term 23 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
flag 91391 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 86700 term 23 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
flag 10856 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 33242 term 23 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124}]
------------------------------------------------------
client write log 5531610295129483119 (index 125) to leader 2
flag 48810 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 48722 term 23 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124} {5531610295129483119 23 125}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124} {5531610295129483119 23 125}]
------------------------------------------------------
term 23 server 1 not vote for server 2, 任期不够新
term 23 server 2 get outdate rpc reply from server 1
flag 75512 term 23 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 23 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
flag 15964 term 23 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124} {5531610295129483119 23 125}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124} {5531610295129483119 23 125}]
------------------------------------------------------
flag 84536 term 23 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 23 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
flag 23456 term 23 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124} {5531610295129483119 23 125}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124} {5531610295129483119 23 125}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7756 term 23 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 23 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
flag 5839 term 23 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124} {5531610295129483119 23 125}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124} {5531610295129483119 23 125}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85167 term 23 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 23 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
flag 7716 term 23 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124} {5531610295129483119 23 125}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124} {5531610295129483119 23 125}]
------------------------------------------------------
flag 59175 term 23 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 23 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
flag 62093 term 23 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124} {5531610295129483119 23 125}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124} {5531610295129483119 23 125}]
------------------------------------------------------
flag 1280 term 23 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 23 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
flag 46815 term 23 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124} {5531610295129483119 23 125}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124} {5531610295129483119 23 125}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1744916637542661612 (index 126) to leader 2
flag 83116 term 23 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 23 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
flag 89861 term 23 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124} {5531610295129483119 23 125} {1744916637542661612 23 126}]
------------------------------------------------------
flag 87965 term 23 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 23 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
flag 41501 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124} {5531610295129483119 23 125} {1744916637542661612 23 126}]
------------------------------------------------------
client write log 2183337637180506653 (index 127) to leader 2
client write log 2534740291105676228 (index 128) to leader 2
client write log 5091819688568603791 (index 129) to leader 2
client write log 2324545398593918077 (index 130) to leader 2
client write log 2124509546405728479 (index 131) to leader 2
client write log 5241088009954793292 (index 132) to leader 2
client write log 3815312457015339149 (index 133) to leader 2
client write log 2194579480740742829 (index 134) to leader 2
client write log 1680770904116230577 (index 135) to leader 2
client write log 4007437151523130233 (index 136) to leader 2
client write log 4836523693330999018 (index 137) to leader 2
client write log 4775382868679990820 (index 138) to leader 2
client write log 2778563951095208634 (index 139) to leader 2
client write log 563526192576839477 (index 140) to leader 2
client write log 7108598542472825844 (index 141) to leader 2
flag 86556 term 23 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 23 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
flag 74201 term 23 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 119} {433620961991189258 21 120} {4948607949370139886 21 121} {3134629604430851167 21 122} {7709026180723688739 21 123} {5122443135949274699 21 124} {5531610295129483119 23 125} {1744916637542661612 23 126} {2183337637180506653 23 127} {2534740291105676228 23 128} {5091819688568603791 23 129} {2324545398593918077 23 130} {2124509546405728479 23 131} {5241088009954793292 23 132} {3815312457015339149 23 133} {2194579480740742829 23 134} {1680770904116230577 23 135} {4007437151523130233 23 136} {4836523693330999018 23 137} {4775382868679990820 23 138} {2778563951095208634 23 139} {563526192576839477 23 140} {7108598542472825844 23 141}]
------------------------------------------------------
term 23 Server2 start snapshot! index=129
term 23 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=141
-------------------------------------------------------------
term 23 Server2 start snapshot! index=139
term 23 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=141
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 24387 term 23 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 23 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141}]
------------------------------------------------------
term 23 Server1 start snapshot! index=129
term 23 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=141
-------------------------------------------------------------
term 23 Server1 start snapshot! index=139
term 23 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=141
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7176145870636148752 (index 142) to leader 2
term 23 server 2 not vote for server 0, 日志不够新
term 23 server 1 not vote for server 0, 日志不够新
term 25 server 1 vote for server 2
term 25 server 0 vote for server 2
term 25 server 2 get vote from server 0
term 25 server 2 become leader
------------------------------------------------------
term 25 server 2 get outdate rpc reply from server 1
flag 20434 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 73395 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 143->142
------------------------------------------------------
term 25 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 143->142
------------------------------------------------------
term 25 leader 2 nextIndex[0]: 126  matchIndex[0]: 0
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 74538 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 25 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 23 rf.commitIndex 139 rf.lastApplied 139
term 25 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22149 term 25 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 25 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 4621 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73904 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 43550 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
flag 84247 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 80901 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
flag 1051 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 47876 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
flag 1699 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 75028 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
flag 70491 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 21827 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12158 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 69228 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
flag 6536 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 21309 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
flag 59980 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 87110 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
flag 54886 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 15648 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
flag 14558 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 48888 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
term 25 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15069 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 73824 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
flag 54361 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 21285 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
flag 10116 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 65637 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95773 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 10891 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
flag 10977 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 43545 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
flag 9394 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 16333 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90351 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 19387 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142}]
------------------------------------------------------
client write log 7176145870636148752 (index 143) to leader 2
flag 46780 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 57584 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142} {7176145870636148752 25 143}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142} {7176145870636148752 25 143}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76251 term 25 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 19201 term 25 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142} {7176145870636148752 25 143}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142} {7176145870636148752 25 143}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52165 term 25 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 65715 term 25 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142} {7176145870636148752 25 143}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142} {7176145870636148752 25 143}]
------------------------------------------------------
flag 48851 term 25 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 62561 term 25 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142} {7176145870636148752 25 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142} {7176145870636148752 25 143}]
------------------------------------------------------
flag 52752 term 25 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 64923 term 25 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142} {7176145870636148752 25 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142} {7176145870636148752 25 143}]
------------------------------------------------------
flag 87808 term 25 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 23645 term 25 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142} {7176145870636148752 25 143}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142} {7176145870636148752 25 143}]
------------------------------------------------------
flag 48516 term 25 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 84470 term 25 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142} {7176145870636148752 25 143}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142} {7176145870636148752 25 143}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4827797559349647111 (index 144) to leader 2
flag 2923 term 25 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 66616 term 25 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142} {7176145870636148752 25 143} {4827797559349647111 25 144}]
------------------------------------------------------
flag 27644 term 25 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 69118 term 25 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142} {7176145870636148752 25 143} {4827797559349647111 25 144}]
------------------------------------------------------
client write log 3109417746050190808 (index 145) to leader 2
client write log 2303973072137651163 (index 146) to leader 2
client write log 4404841314034224880 (index 147) to leader 2
client write log 1949725792320320716 (index 148) to leader 2
client write log 1771420811856524109 (index 149) to leader 2
client write log 4037570640475542187 (index 150) to leader 2
client write log 7929680345000266780 (index 151) to leader 2
client write log 3954180166030447396 (index 152) to leader 2
client write log 3260301101359597926 (index 153) to leader 2
client write log 5398721062072674099 (index 154) to leader 2
client write log 5543900147617316918 (index 155) to leader 2
client write log 4865001491506449582 (index 156) to leader 2
client write log 5826983995539300972 (index 157) to leader 2
client write log 8957818853103480323 (index 158) to leader 2
client write log 3865439914218164397 (index 159) to leader 2
flag 74978 term 25 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 28817 term 25 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 23 139} {563526192576839477 23 140} {7108598542472825844 23 141} {7176145870636148752 23 142} {7176145870636148752 25 143} {4827797559349647111 25 144} {3109417746050190808 25 145} {2303973072137651163 25 146} {4404841314034224880 25 147} {1949725792320320716 25 148} {1771420811856524109 25 149} {4037570640475542187 25 150} {7929680345000266780 25 151} {3954180166030447396 25 152} {3260301101359597926 25 153} {5398721062072674099 25 154} {5543900147617316918 25 155} {4865001491506449582 25 156} {5826983995539300972 25 157} {8957818853103480323 25 158} {3865439914218164397 25 159}]
------------------------------------------------------
term 25 Server2 start snapshot! index=149
term 25 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=159
-------------------------------------------------------------
term 25 Server2 start snapshot! index=159
term 25 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 25 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
flag 58099 term 25 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 159}]
------------------------------------------------------
term 25 Server1 start snapshot! index=149
term 25 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=159
-------------------------------------------------------------
term 25 Server1 start snapshot! index=159
term 25 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4470156303877267113 (index 160) to leader 2
term 25 server 2 not vote for server 0, 日志不够新
term 25 server 1 not vote for server 0, 日志不够新
term 27 server 1 vote for server 2
term 27 server 2 get vote from server 1
term 27 server 2 become leader
------------------------------------------------------
term 27 server 0 vote for server 2
term 27 server 2 get outdate rpc reply from server 0
flag 48858 term 27 leader 2 nextIndex[0]: 161  matchIndex[0]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 10671 term 27 leader 2 nextIndex[1]: 161  matchIndex[1]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 27 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 161->160
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 161->160
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 27 leader 2 nextIndex[0]: 144  matchIndex[0]: 0
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
flag 68994 term 27 leader 2 nextIndex[1]: 160  matchIndex[1]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
term 27 server 0 InstallSnapshot success
------------------------------------------------------
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 25 rf.commitIndex 159 rf.lastApplied 159
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50027 term 27 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 27 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 7844 term 27 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50820 term 27 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 39060 term 27 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13918 term 27 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 78829 term 27 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
flag 92068 term 27 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 16757 term 27 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
flag 51202 term 27 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 98178 term 27 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
flag 29696 term 27 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 92922 term 27 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
flag 27214 term 27 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 24027 term 27 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9241 term 27 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 94176 term 27 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
flag 4466 term 27 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 77455 term 27 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
flag 75286 term 27 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 43041 term 27 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
flag 82713 term 27 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 82941 term 27 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86907 term 27 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 32592 term 27 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
flag 603 term 27 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 70944 term 27 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
flag 1761 term 27 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 84334 term 27 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
flag 26113 term 27 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 17683 term 27 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
flag 45390 term 27 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 51740 term 27 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
flag 62132 term 27 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 29473 term 27 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
flag 6066 term 27 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 55324 term 27 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {4470156303877267113 25 160}]
------------------------------------------------------
client write log 4470156303877267113 (index 161) to leader 2
flag 14725 term 27 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 86235 term 27 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4470156303877267113 25 160} {4470156303877267113 27 161}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4470156303877267113 25 160} {4470156303877267113 27 161}]
------------------------------------------------------
flag 36847 term 27 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 53657 term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4470156303877267113 25 160} {4470156303877267113 27 161}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4470156303877267113 25 160} {4470156303877267113 27 161}]
------------------------------------------------------
flag 72821 term 27 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 37744 term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4470156303877267113 25 160} {4470156303877267113 27 161}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4470156303877267113 25 160} {4470156303877267113 27 161}]
------------------------------------------------------
flag 9726 term 27 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 43868 term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4470156303877267113 25 160} {4470156303877267113 27 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4470156303877267113 25 160} {4470156303877267113 27 161}]
------------------------------------------------------
flag 65314 term 27 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 4409 term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4470156303877267113 25 160} {4470156303877267113 27 161}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4470156303877267113 25 160} {4470156303877267113 27 161}]
------------------------------------------------------
flag 30473 term 27 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 79949 term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4470156303877267113 25 160} {4470156303877267113 27 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4470156303877267113 25 160} {4470156303877267113 27 161}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 65651 term 27 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 10461 term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 60329 term 27 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 7428 term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 84635 term 27 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 25405 term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 56920 term 27 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 96726 term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 28 server 1 vote for server 0
term 28 server 0 get vote from server 1
term 28 server 0 become leader
------------------------------------------------------
flag 73393 term 28 leader 0 nextIndex[1]: 162  matchIndex[1]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 3596 term 28 leader 0 nextIndex[2]: 162  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {4470156303877267113 25 160} {4470156303877267113 27 161}]
------------------------------------------------------
client write log 7930700357942802131 (index 162) to leader 0
flag 62647 term 27 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 12569 term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 26275 term 28 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 28 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 90014 term 28 leader 0 nextIndex[2]: 162  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {4470156303877267113 25 160} {4470156303877267113 27 161} {7930700357942802131 28 162}]
------------------------------------------------------
flag 52677 term 27 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 2037 term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 9982 term 28 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 28 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 28 leaderCommit: 162 
------------------------------------------------------
flag 43192 term 28 leader 0 nextIndex[2]: 162  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {4470156303877267113 25 160} {4470156303877267113 27 161} {7930700357942802131 28 162}]
------------------------------------------------------
client write log 1143045975854592246 (index 163) to leader 0
client write log 2288408588243909646 (index 164) to leader 0
client write log 6526390934920262159 (index 165) to leader 0
client write log 384396794320106431 (index 166) to leader 0
client write log 3619197501511594077 (index 167) to leader 0
client write log 1383402545501091154 (index 168) to leader 0
client write log 1952062271908409018 (index 169) to leader 0
client write log 4342741917726575833 (index 170) to leader 0
client write log 9186326877968338289 (index 171) to leader 0
client write log 4081167779444120679 (index 172) to leader 0
client write log 1089605123330733968 (index 173) to leader 0
client write log 8033056948165502783 (index 174) to leader 0
client write log 5311601335503533932 (index 175) to leader 0
client write log 7088745186562629279 (index 176) to leader 0
flag 4669 term 27 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 50475 term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 17349 term 28 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 28 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 28 leaderCommit: 162 
------------------------------------------------------
flag 198 term 28 leader 0 nextIndex[2]: 162  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 25 159} {4470156303877267113 25 160} {4470156303877267113 27 161} {7930700357942802131 28 162} {1143045975854592246 28 163} {2288408588243909646 28 164} {6526390934920262159 28 165} {384396794320106431 28 166} {3619197501511594077 28 167} {1383402545501091154 28 168} {1952062271908409018 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
term 28 Server0 start snapshot! index=169
term 28 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=176
-------------------------------------------------------------
flag 56890 term 27 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 71133 term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 72693 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 28 leader 0 nextIndex[2]: 162  matchIndex[2]: 0
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
term 28 Server1 start snapshot! index=169
term 28 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=176
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 162->161
------------------------------------------------------
!!!!!!connect server 2
client write log 1910506243044095264 (index 162) to leader 2
flag 15181 term 27 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 82752 term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 28 server 1 AppendEntries false 领导者任期过期 args.Term 27
------------------------------------------------------
term 28 server 0 AppendEntries false 领导者任期过期 args.Term 27
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19817 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 28 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
term 28 server 2 InstallSnapshot success
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 28 rf.commitIndex 169 rf.lastApplied 169
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2406 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 4115 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
flag 68702 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 16846 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71520 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 85172 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
flag 96282 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 98667 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
flag 61875 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 12716 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
flag 48841 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 38110 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4562 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 67320 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66210 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 93771 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
flag 91723 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 81312 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40640 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 19475 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73719 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 44010 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
flag 31086 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 23375 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
flag 19496 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 36254 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68279 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 56623 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
flag 29965 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 52696 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
flag 29453 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 66201 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 177->176
------------------------------------------------------
flag 23661 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 28 leader 0 nextIndex[2]: 0  matchIndex[2]: 176
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
term 28 server 2 InstallSnapshot fail
rf.commitIndex 176 args.LastIncludedIndex 169
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
flag 56408 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 20761 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61752 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 16962 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1910506243044095264 (index 177) to leader 0
flag 22167 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 9549 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176} {1910506243044095264 28 177}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176} {1910506243044095264 28 177}]
------------------------------------------------------
flag 38773 term 28 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 83966 term 28 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176} {1910506243044095264 28 177}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176} {1910506243044095264 28 177}]
------------------------------------------------------
flag 70937 term 28 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 15746 term 28 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176} {1910506243044095264 28 177}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176} {1910506243044095264 28 177}]
------------------------------------------------------
flag 59133 term 28 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 11178 term 28 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176} {1910506243044095264 28 177}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176} {1910506243044095264 28 177}]
------------------------------------------------------
flag 87110 term 28 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 65395 term 28 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176} {1910506243044095264 28 177}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176} {1910506243044095264 28 177}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32719 term 28 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 31522 term 28 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176} {1910506243044095264 28 177}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176} {1910506243044095264 28 177}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1235230719456323294 (index 178) to leader 0
flag 38047 term 28 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 16593 term 28 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176} {1910506243044095264 28 177} {1235230719456323294 28 178}]
------------------------------------------------------
flag 57892 term 28 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
flag 38077 term 28 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 28 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176} {1910506243044095264 28 177} {1235230719456323294 28 178}]
------------------------------------------------------
client write log 3106381860611129971 (index 179) to leader 0
client write log 7417948693149946745 (index 180) to leader 0
client write log 5437325291682197068 (index 181) to leader 0
client write log 2643919212457187880 (index 182) to leader 0
client write log 5727011023003793327 (index 183) to leader 0
client write log 6872613545713521682 (index 184) to leader 0
client write log 8130121969047701291 (index 185) to leader 0
flag 38833 term 28 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
flag 2691 term 28 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 28 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 28 169} {4342741917726575833 28 170} {9186326877968338289 28 171} {4081167779444120679 28 172} {1089605123330733968 28 173} {8033056948165502783 28 174} {5311601335503533932 28 175} {7088745186562629279 28 176} {1910506243044095264 28 177} {1235230719456323294 28 178} {3106381860611129971 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185}]
------------------------------------------------------
term 28 Server0 start snapshot! index=179
term 28 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=185
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 28
------------------------------------------------------
flag 698 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185}]
------------------------------------------------------
term 28 Server2 start snapshot! index=179
term 28 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=185
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7415691142455350103 (index 186) to leader 0
term 28 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 28
------------------------------------------------------
flag 30680 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 29 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 2 vote for server 0
term 30 server 1 vote for server 0
term 30 server 0 get vote from server 2
term 30 server 0 become leader
------------------------------------------------------
term 30 server 0 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89892 term 30 leader 0 nextIndex[1]: 187  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
flag 30488 term 30 leader 0 nextIndex[2]: 187  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 30 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 187->186
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 178  matchIndex[1]: 0
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 28
------------------------------------------------------
flag 5637 term 30 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 30 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 28 rf.commitIndex 179 rf.lastApplied 179
term 30 server 0 not vote for server 1, 任期不够新
term 30 server 1 get outdate rpc reply from server 0
flag 2919 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
flag 46978 term 30 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
flag 5553 term 30 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
flag 14973 term 30 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
flag 674 term 30 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
flag 83657 term 30 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
flag 11475 term 30 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
flag 37712 term 30 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
flag 26976 term 30 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
flag 27289 term 30 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45702 term 30 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
flag 80410 term 30 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70913 term 30 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
flag 99921 term 30 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
flag 68684 term 30 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
flag 41266 term 30 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82319 term 30 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
flag 75788 term 30 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
flag 79758 term 30 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
flag 78960 term 30 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
flag 91987 term 30 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
flag 96970 term 30 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
flag 9907 term 30 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
flag 73758 term 30 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
flag 40603 term 30 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
flag 94056 term 30 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83413 term 30 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
flag 88470 term 30 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
flag 2630 term 30 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
flag 26272 term 30 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:185 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25361 term 30 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
flag 44382 term 30 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186}]
------------------------------------------------------
term 30 server 2 not vote for server 1, 任期不够新
term 30 server 1 get outdate rpc reply from server 2
flag 95331 term 30 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
flag 19463 term 30 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
client write log 7415691142455350103 (index 187) to leader 0
term 30 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186} {7415691142455350103 30 187}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186} {7415691142455350103 30 187}]
------------------------------------------------------
term 30 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48806 term 30 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
flag 84016 term 30 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:185 
leader 0 sendAppendEntries -> server 2 true------------------------------------------------------
update nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186} {7415691142455350103 30 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186} {7415691142455350103 30 187}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48311 term 30 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 99779 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186} {7415691142455350103 30 187}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186} {7415691142455350103 30 187}]
------------------------------------------------------
flag 36931 term 30 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 86560 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186} {7415691142455350103 30 187}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186} {7415691142455350103 30 187}]
------------------------------------------------------
flag 63803 term 30 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 76315 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186} {7415691142455350103 30 187}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186} {7415691142455350103 30 187}]
------------------------------------------------------
flag 91487 term 30 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 76427 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186} {7415691142455350103 30 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186} {7415691142455350103 30 187}]
------------------------------------------------------
flag 68279 term 30 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 61654 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186} {7415691142455350103 30 187}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186} {7415691142455350103 30 187}]
------------------------------------------------------
flag 24402 term 30 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 12443 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186} {7415691142455350103 30 187}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186} {7415691142455350103 30 187}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1414117267075900474 (index 188) to leader 0
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39493 term 30 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 64382 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186} {7415691142455350103 30 187} {1414117267075900474 30 188}]
------------------------------------------------------
term 30 server 2 not vote for server 0, 任期不够新
term 30 server 0 get outdate rpc reply from server 2
flag 22247 term 30 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 52698 term 30 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 30 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186} {7415691142455350103 30 187} {1414117267075900474 30 188}]
------------------------------------------------------
client write log 4673493563957304653 (index 189) to leader 0
client write log 6498416093607898951 (index 190) to leader 0
client write log 5826084416986782291 (index 191) to leader 0
client write log 4398804911934437208 (index 192) to leader 0
client write log 1853484690106754984 (index 193) to leader 0
client write log 9014565144218331369 (index 194) to leader 0
client write log 15466818234780286 (index 195) to leader 0
client write log 203190550075238352 (index 196) to leader 0
client write log 4981338843552784135 (index 197) to leader 0
client write log 7605909800083058675 (index 198) to leader 0
client write log 5391654531690482419 (index 199) to leader 0
flag 58607 term 30 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 48106 term 30 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 30 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 28 179} {7417948693149946745 28 180} {5437325291682197068 28 181} {2643919212457187880 28 182} {5727011023003793327 28 183} {6872613545713521682 28 184} {8130121969047701291 28 185} {7415691142455350103 28 186} {7415691142455350103 30 187} {1414117267075900474 30 188} {4673493563957304653 30 189} {6498416093607898951 30 190} {5826084416986782291 30 191} {4398804911934437208 30 192} {1853484690106754984 30 193} {9014565144218331369 30 194} {15466818234780286 30 195} {203190550075238352 30 196} {4981338843552784135 30 197} {7605909800083058675 30 198} {5391654531690482419 30 199}]
------------------------------------------------------
term 30 Server0 start snapshot! index=189
term 30 server0 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=199
-------------------------------------------------------------
term 30 Server0 start snapshot! index=199
term 30 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
term 30 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 30
------------------------------------------------------
flag 98643 term 30 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 30 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 30 199}]
------------------------------------------------------
term 30 Server2 start snapshot! index=189
term 30 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=199
-------------------------------------------------------------
term 30 Server2 start snapshot! index=199
term 30 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7103202925178942403 (index 200) to leader 0
term 30 server 2 not vote for server 1, 日志不够新
term 30 server 0 not vote for server 1, 日志不够新
term 32 server 2 vote for server 0
term 32 server 1 vote for server 0
term 32 server 0 get vote from server 2
term 32 server 0 become leader
------------------------------------------------------
term 32 server 0 get outdate rpc reply from server 1
flag 70648 term 32 leader 0 nextIndex[1]: 201  matchIndex[1]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
flag 17585 term 32 leader 0 nextIndex[2]: 201  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
term 32 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 201->200
------------------------------------------------------
term 32 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 201->200
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 0
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 30
------------------------------------------------------
flag 70658 term 32 leader 0 nextIndex[2]: 200  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
term 32 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 30 rf.commitIndex 199 rf.lastApplied 199
term 32 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
flag 57096 term 32 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 32 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
flag 98370 term 32 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
flag 82827 term 32 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
flag 59434 term 32 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
flag 65937 term 32 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
flag 68533 term 32 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
flag 43934 term 32 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
flag 17376 term 32 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
flag 51217 term 32 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
flag 6975 term 32 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
flag 28366 term 32 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
flag 39153 term 32 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
flag 67919 term 32 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
flag 27386 term 32 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
flag 94823 term 32 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
flag 31923 term 32 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83011 term 32 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
flag 99039 term 32 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89967 term 32 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
flag 98455 term 32 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
flag 56168 term 32 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
flag 75714 term 32 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
flag 29912 term 32 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
flag 47151 term 32 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
flag 12587 term 32 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
flag 77374 term 32 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
term 32 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11510 term 32 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
flag 22312 term 32 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
flag 83606 term 32 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
flag 82447 term 32 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
flag 81271 term 32 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
flag 55346 term 32 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
flag 17391 term 32 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
flag 94045 term 32 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 30 199} {7103202925178942403 30 200}]
------------------------------------------------------
client write log 7103202925178942403 (index 201) to leader 0
flag 6775 term 32 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
flag 43742 term 32 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 199 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56946 term 32 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 49410 term 32 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201}]
------------------------------------------------------
flag 98671 term 32 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 61481 term 32 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46022 term 32 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 19786 term 32 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201}]
------------------------------------------------------
flag 71315 term 32 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 76753 term 32 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201}]
------------------------------------------------------
flag 49442 term 32 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 87926 term 32 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201}]
------------------------------------------------------
flag 5488 term 32 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 85343 term 32 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 65278 term 32 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 85290 term 32 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 95843 term 32 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 96121 term 32 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 97064 term 32 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 97812 term 32 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 15945 term 32 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 69092 term 32 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 33 server 1 vote for server 2
term 33 server 2 get vote from server 1
term 33 server 2 become leader
------------------------------------------------------
flag 88462 term 33 leader 2 nextIndex[0]: 202  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 96592 term 33 leader 2 nextIndex[1]: 202  matchIndex[1]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201}]
------------------------------------------------------
client write log 7624199679147069332 (index 202) to leader 2
flag 64344 term 32 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 44695 term 32 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 38439 term 33 leader 2 nextIndex[0]: 202  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 16492 term 33 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 33 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201} {7624199679147069332 33 202}]
------------------------------------------------------
flag 12138 term 32 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 36772 term 32 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 56688 term 33 leader 2 nextIndex[0]: 202  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
flag 83551 term 33 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 33 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201} {7624199679147069332 33 202}]
------------------------------------------------------
client write log 3618495709185128596 (index 203) to leader 2
flag 58108 term 32 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 64868 term 32 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 76675 term 33 leader 2 nextIndex[0]: 202  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 202 
------------------------------------------------------
flag 15965 term 33 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 33 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201} {7624199679147069332 33 202} {3618495709185128596 33 203}]
------------------------------------------------------
flag 92500 term 32 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 74950 term 32 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
flag 65756 term 33 leader 2 nextIndex[0]: 202  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
flag 86288 term 33 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201} {7624199679147069332 33 202} {3618495709185128596 33 203}]
------------------------------------------------------
!!!!!!connect server 0
client write log 7586850815776192029 (index 204) to leader 2
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 202->201
------------------------------------------------------
term 32 leader 0 nextIndex[1]: 0  matchIndex[1]: 201
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 30
------------------------------------------------------
flag 59095 term 32 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 32 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries false 领导者任期过期 args.Term 32
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 33 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 24097 term 33 leader 2 nextIndex[0]: 202  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
flag 30884 term 33 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201} {7624199679147069332 33 202} {3618495709185128596 33 203} {7586850815776192029 33 204}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201} {7624199679147069332 33 202} {3618495709185128596 33 203} {7586850815776192029 33 204}]
------------------------------------------------------
flag 61148 term 33 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 11754 term 33 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 33 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201} {7624199679147069332 33 202} {3618495709185128596 33 203} {7586850815776192029 33 204}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201} {7624199679147069332 33 202} {3618495709185128596 33 203} {7586850815776192029 33 204}]
------------------------------------------------------
flag 24841 term 33 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 13475 term 33 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 33 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201} {7624199679147069332 33 202} {3618495709185128596 33 203} {7586850815776192029 33 204}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201} {7624199679147069332 33 202} {3618495709185128596 33 203} {7586850815776192029 33 204}]
------------------------------------------------------
flag 98369 term 33 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 97804 term 33 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 33 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201} {7624199679147069332 33 202} {3618495709185128596 33 203} {7586850815776192029 33 204}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201} {7624199679147069332 33 202} {3618495709185128596 33 203} {7586850815776192029 33 204}]
------------------------------------------------------
flag 57368 term 33 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 14645 term 33 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 33 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201} {7624199679147069332 33 202} {3618495709185128596 33 203} {7586850815776192029 33 204}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201} {7624199679147069332 33 202} {3618495709185128596 33 203} {7586850815776192029 33 204}]
------------------------------------------------------
flag 47199 term 33 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 95853 term 33 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 33 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201} {7624199679147069332 33 202} {3618495709185128596 33 203} {7586850815776192029 33 204}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201} {7624199679147069332 33 202} {3618495709185128596 33 203} {7586850815776192029 33 204}]
------------------------------------------------------
flag 71155 term 33 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 18309 term 33 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 33 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201} {7624199679147069332 33 202} {3618495709185128596 33 203} {7586850815776192029 33 204}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201} {7624199679147069332 33 202} {3618495709185128596 33 203} {7586850815776192029 33 204}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2745185984285936753 (index 205) to leader 2
flag 7953 term 33 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 51873 term 33 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 33 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201} {7624199679147069332 33 202} {3618495709185128596 33 203} {7586850815776192029 33 204} {2745185984285936753 33 205}]
------------------------------------------------------
flag 32425 term 33 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 52930 term 33 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 33 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201} {7624199679147069332 33 202} {3618495709185128596 33 203} {7586850815776192029 33 204} {2745185984285936753 33 205}]
------------------------------------------------------
client write log 594323179956785572 (index 206) to leader 2
client write log 5759471252841878685 (index 207) to leader 2
client write log 8682957205159146331 (index 208) to leader 2
client write log 373204805902385356 (index 209) to leader 2
client write log 2349340985698363228 (index 210) to leader 2
client write log 5577597467350516346 (index 211) to leader 2
client write log 2085425126391034220 (index 212) to leader 2
client write log 1517429857404521681 (index 213) to leader 2
client write log 3612473848562346813 (index 214) to leader 2
client write log 3690814908569081968 (index 215) to leader 2
flag 30416 term 33 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 90928 term 33 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 33 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 30 199} {7103202925178942403 30 200} {7103202925178942403 32 201} {7624199679147069332 33 202} {3618495709185128596 33 203} {7586850815776192029 33 204} {2745185984285936753 33 205} {594323179956785572 33 206} {5759471252841878685 33 207} {8682957205159146331 33 208} {373204805902385356 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215}]
------------------------------------------------------
term 33 Server2 start snapshot! index=209
term 33 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=215
-------------------------------------------------------------
term 33 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 95241 term 33 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 33 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215}]
------------------------------------------------------
term 33 Server1 start snapshot! index=209
term 33 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=215
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7807203322831864240 (index 216) to leader 2
term 33 server 2 not vote for server 0, 日志不够新
term 33 server 1 not vote for server 0, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 server 1 vote for server 2
term 35 server 2 get vote from server 1
term 35 server 0 vote for server 2
term 35 server 2 become leader
------------------------------------------------------
term 35 server 2 get outdate rpc reply from server 0
flag 29547 term 35 leader 2 nextIndex[0]: 217  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 67050 term 35 leader 2 nextIndex[1]: 217  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 35 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 35 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 217->216
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 217->216
------------------------------------------------------
term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 0
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 87517 term 35 leader 2 nextIndex[1]: 216  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
term 35 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 33 rf.commitIndex 209 rf.lastApplied 209
term 35 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 210 matchIndex[0] 209 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9397 term 35 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 35 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 16661 term 35 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
flag 17581 term 35 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 52294 term 35 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
flag 38227 term 35 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 63914 term 35 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
term 35 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
flag 93948 term 35 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 40128 term 35 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
flag 51108 term 35 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 48671 term 35 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
flag 71301 term 35 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 35699 term 35 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65119 term 35 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 81926 term 35 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
flag 18627 term 35 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 86542 term 35 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
term 35 server 0 not vote for server 2, 任期不够新
term 35 server 2 get outdate rpc reply from server 0
flag 10814 term 35 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 11503 term 35 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
flag 99971 term 35 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 66698 term 35 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37730 term 35 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 86654 term 35 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26507 term 35 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 72573 term 35 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31935 term 35 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 28585 term 35 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
flag 53402 term 35 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 86562 term 35 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38937 term 35 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 3894 term 35 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
flag 60877 term 35 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 38348 term 35 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
flag 34292 term 35 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 31715 term 35 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 7807203322831864240 (index 217) to leader 2
flag 79567 term 35 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 94176 term 35 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216} {7807203322831864240 35 217}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216} {7807203322831864240 35 217}]
------------------------------------------------------
flag 22029 term 35 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 22759 term 35 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216} {7807203322831864240 35 217}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216} {7807203322831864240 35 217}]
------------------------------------------------------
flag 48139 term 35 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 2013 term 35 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216} {7807203322831864240 35 217}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216} {7807203322831864240 35 217}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22996 term 35 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 15173 term 35 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216} {7807203322831864240 35 217}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216} {7807203322831864240 35 217}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30111 term 35 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 53795 term 35 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216} {7807203322831864240 35 217}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216} {7807203322831864240 35 217}]
------------------------------------------------------
flag 83721 term 35 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 55109 term 35 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
term 35 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216} {7807203322831864240 35 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216} {7807203322831864240 35 217}]
------------------------------------------------------
flag 7268 term 35 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 97813 term 35 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216} {7807203322831864240 35 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216} {7807203322831864240 35 217}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3723592157706568941 (index 218) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28743 term 35 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 28341 term 35 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216} {7807203322831864240 35 217} {3723592157706568941 35 218}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75813 term 35 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 35705 term 35 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216} {7807203322831864240 35 217} {3723592157706568941 35 218}]
------------------------------------------------------
client write log 9078861567295126066 (index 219) to leader 2
client write log 3330059657950567703 (index 220) to leader 2
client write log 7601569399075724268 (index 221) to leader 2
client write log 3162079114091054143 (index 222) to leader 2
client write log 2057728853046714110 (index 223) to leader 2
client write log 2739747362656723177 (index 224) to leader 2
client write log 7699027723404771227 (index 225) to leader 2
client write log 1512893977842431129 (index 226) to leader 2
client write log 5219253099243245568 (index 227) to leader 2
client write log 1794662095599306390 (index 228) to leader 2
client write log 634805827569526182 (index 229) to leader 2
client write log 8015746374535972361 (index 230) to leader 2
flag 63834 term 35 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 84844 term 35 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 33 209} {2349340985698363228 33 210} {5577597467350516346 33 211} {2085425126391034220 33 212} {1517429857404521681 33 213} {3612473848562346813 33 214} {3690814908569081968 33 215} {7807203322831864240 33 216} {7807203322831864240 35 217} {3723592157706568941 35 218} {9078861567295126066 35 219} {3330059657950567703 35 220} {7601569399075724268 35 221} {3162079114091054143 35 222} {2057728853046714110 35 223} {2739747362656723177 35 224} {7699027723404771227 35 225} {1512893977842431129 35 226} {5219253099243245568 35 227} {1794662095599306390 35 228} {634805827569526182 35 229} {8015746374535972361 35 230}]
------------------------------------------------------
term 35 Server2 start snapshot! index=219
term 35 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=230
-------------------------------------------------------------
term 35 Server2 start snapshot! index=229
term 35 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=230
-------------------------------------------------------------
term 35 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
flag 54988 term 35 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 35 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230}]
------------------------------------------------------
term 35 Server1 start snapshot! index=219
term 35 server1 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=230
-------------------------------------------------------------
term 35 Server1 start snapshot! index=229
term 35 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=230
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2665932382098818605 (index 231) to leader 2
term 35 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
flag 43214 term 35 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 35 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
term 36 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 35 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 server 1 vote for server 2
term 37 server 0 vote for server 2
term 37 server 2 get vote from server 1
term 37 server 2 become leader
------------------------------------------------------
term 37 server 2 get outdate rpc reply from server 0
flag 25706 term 37 leader 2 nextIndex[0]: 232  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
flag 28546 term 37 leader 2 nextIndex[1]: 232  matchIndex[1]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
term 37 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 232->231
------------------------------------------------------
term 37 leader 2 nextIndex[0]: 218  matchIndex[0]: 0
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
flag 25555 term 37 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
term 37 server 0 InstallSnapshot success
------------------------------------------------------
term 37 leader 2 -> server 0 sendInstallSnapshot success
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 35 rf.commitIndex 229 rf.lastApplied 229
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
flag 276 term 37 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 37 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
flag 21889 term 37 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75466 term 37 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
flag 70075 term 37 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:230 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73935 term 37 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
flag 66183 term 37 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
flag 68465 term 37 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
flag 76527 term 37 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 37 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
update nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
flag 32799 term 37 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
flag 57511 term 37 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46718 term 37 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
flag 46898 term 37 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3912 term 37 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
flag 1469 term 37 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
flag 65123 term 37 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
flag 8797 term 37 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
flag 19996 term 37 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
flag 34213 term 37 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
flag 5035 term 37 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
flag 22155 term 37 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
flag 25500 term 37 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
flag 32366 term 37 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11196 term 37 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
flag 61385 term 37 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=230
leader log:
term 37 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
flag 31200 term 37 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
flag 14958 term 37 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
flag 75167 term 37 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
flag 22717 term 37 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
flag 73535 term 37 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
flag 3689 term 37 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
flag 50912 term 37 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
flag 11704 term 37 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91510 term 37 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
flag 78526 term 37 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231}]
------------------------------------------------------
client write log 2665932382098818605 (index 232) to leader 2
flag 58526 term 37 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
flag 38388 term 37 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 37 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=232
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232}]
------------------------------------------------------
flag 26759 term 37 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
flag 36530 term 37 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=232
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232}]
------------------------------------------------------
flag 9209 term 37 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
flag 27619 term 37 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=232
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232}]
------------------------------------------------------
flag 55999 term 37 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
flag 44904 term 37 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=232
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232}]
------------------------------------------------------
flag 83094 term 37 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
flag 63693 term 37 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=232
term 37 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20314 term 37 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
flag 17607 term 37 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=232
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232}]
------------------------------------------------------
flag 26926 term 37 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
flag 47529 term 37 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=232
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 18030 term 37 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
flag 79404 term 37 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
flag 70725 term 37 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
flag 45710 term 37 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75540 term 37 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
flag 77172 term 37 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
term 38 server 0 vote for server 1
term 38 server 1 get vote from server 0
term 38 server 1 become leader
------------------------------------------------------
flag 82727 term 37 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
flag 57392 term 37 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
flag 31584 term 38 leader 1 nextIndex[0]: 233  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
flag 40943 term 38 leader 1 nextIndex[2]: 233  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232}]
------------------------------------------------------
client write log 2232813208403081571 (index 233) to leader 1
flag 19013 term 37 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
flag 63733 term 37 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
flag 4084 term 38 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 38 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
flag 98231 term 38 leader 1 nextIndex[2]: 233  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232} {2232813208403081571 38 233}]
------------------------------------------------------
flag 27671 term 37 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
flag 86188 term 37 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
flag 65940 term 38 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 38 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 233 
------------------------------------------------------
flag 47122 term 38 leader 1 nextIndex[2]: 233  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232} {2232813208403081571 38 233}]
------------------------------------------------------
client write log 2642998236125373248 (index 234) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44854 term 37 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
flag 88972 term 37 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
flag 68297 term 38 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 38 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 233 
------------------------------------------------------
flag 57679 term 38 leader 1 nextIndex[2]: 233  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232} {2232813208403081571 38 233} {2642998236125373248 38 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 233->232
------------------------------------------------------
flag 74865 term 37 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
term 37 leader 2 nextIndex[1]: 0  matchIndex[1]: 232
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
flag 48811 term 38 leader 1 nextIndex[0]: 235  matchIndex[0]: 234
term 38 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 38 leaderCommit: 234 
------------------------------------------------------
flag 56758 term 38 leader 1 nextIndex[2]: 233  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 234 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232} {2232813208403081571 38 233} {2642998236125373248 38 234}]
------------------------------------------------------
!!!!!!connect server 2
client write log 4502159915944296466 (index 235) to leader 1
flag 1245 term 37 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 37 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
term 37 leader 2 nextIndex[1]: 0  matchIndex[1]: 232
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
term 38 server 0 AppendEntries false 领导者任期过期 args.Term 37
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 38 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96421 term 38 leader 1 nextIndex[0]: 235  matchIndex[0]: 234
term 38 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 38 leaderCommit: 234 
------------------------------------------------------
flag 96895 term 38 leader 1 nextIndex[2]: 233  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 234 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232} {2232813208403081571 38 233} {2642998236125373248 38 234} {4502159915944296466 38 235}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232} {2232813208403081571 38 233} {2642998236125373248 38 234} {4502159915944296466 38 235}]
------------------------------------------------------
term 38 server 1 not vote for server 0, 任期不够新
term 38 server 0 get outdate rpc reply from server 1
flag 83516 term 38 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 38 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
flag 92421 term 38 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 38 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232} {2232813208403081571 38 233} {2642998236125373248 38 234} {4502159915944296466 38 235}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232} {2232813208403081571 38 233} {2642998236125373248 38 234} {4502159915944296466 38 235}]
------------------------------------------------------
flag 13068 term 38 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 38 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
flag 51681 term 38 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 38 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232} {2232813208403081571 38 233} {2642998236125373248 38 234} {4502159915944296466 38 235}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232} {2232813208403081571 38 233} {2642998236125373248 38 234} {4502159915944296466 38 235}]
------------------------------------------------------
flag 24603 term 38 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 38 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
flag 15715 term 38 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 38 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232} {2232813208403081571 38 233} {2642998236125373248 38 234} {4502159915944296466 38 235}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232} {2232813208403081571 38 233} {2642998236125373248 38 234} {4502159915944296466 38 235}]
------------------------------------------------------
flag 46181 term 38 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 38 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
flag 40423 term 38 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 38 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232} {2232813208403081571 38 233} {2642998236125373248 38 234} {4502159915944296466 38 235}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232} {2232813208403081571 38 233} {2642998236125373248 38 234} {4502159915944296466 38 235}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 236->235
------------------------------------------------------
flag 16943 term 38 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 38 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 235
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
term 38 server 2 InstallSnapshot fail
rf.commitIndex 235 args.LastIncludedIndex 229
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 230 matchIndex[2] 229 
------------------------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232} {2232813208403081571 38 233} {2642998236125373248 38 234} {4502159915944296466 38 235}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6766865070929762459 (index 236) to leader 1
flag 22906 term 38 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 38 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
flag 89672 term 38 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232} {2232813208403081571 38 233} {2642998236125373248 38 234} {4502159915944296466 38 235} {6766865070929762459 38 236}]
------------------------------------------------------
flag 50565 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 73785 term 38 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232} {2232813208403081571 38 233} {2642998236125373248 38 234} {4502159915944296466 38 235} {6766865070929762459 38 236}]
------------------------------------------------------
client write log 5739872318919038213 (index 237) to leader 1
client write log 6575796258907354093 (index 238) to leader 1
client write log 386115211112338094 (index 239) to leader 1
client write log 1194084703553684033 (index 240) to leader 1
client write log 2234178043526762362 (index 241) to leader 1
client write log 8045570139603510805 (index 242) to leader 1
client write log 6129006572548984005 (index 243) to leader 1
client write log 7940140097468339893 (index 244) to leader 1
client write log 2100728736583784554 (index 245) to leader 1
client write log 455749823006586622 (index 246) to leader 1
client write log 5392698103831080979 (index 247) to leader 1
client write log 8043176515234526331 (index 248) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49311 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 31325 term 38 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 35 229} {8015746374535972361 35 230} {2665932382098818605 35 231} {2665932382098818605 37 232} {2232813208403081571 38 233} {2642998236125373248 38 234} {4502159915944296466 38 235} {6766865070929762459 38 236} {5739872318919038213 38 237} {6575796258907354093 38 238} {386115211112338094 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248}]
------------------------------------------------------
term 38 Server1 start snapshot! index=239
term 38 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=248
-------------------------------------------------------------
flag 51495 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248}]
------------------------------------------------------
term 38 Server0 start snapshot! index=239
term 38 server0 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=248
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1046764013945291596 (index 249) to leader 1
flag 15319 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
term 39 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 server 2 vote for server 1
term 40 server 1 get vote from server 2
term 40 server 1 become leader
------------------------------------------------------
term 40 server 0 vote for server 1
term 40 server 1 get outdate rpc reply from server 0
flag 39326 term 40 leader 1 nextIndex[0]: 250  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 83944 term 40 leader 1 nextIndex[2]: 250  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 250->249
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56335 term 40 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 236  matchIndex[2]: 0
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
term 40 server 2 InstallSnapshot success
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 38 rf.commitIndex 239 rf.lastApplied 239
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32910 term 40 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 34076 term 40 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 40 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10072 term 40 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 12968 term 40 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
flag 94853 term 40 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 70866 term 40 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
flag 8365 term 40 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 35786 term 40 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
flag 78957 term 40 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 70810 term 40 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
flag 12499 term 40 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 70894 term 40 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22908 term 40 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 50624 term 40 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38038 term 40 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 3897 term 40 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
flag 86165 term 40 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 41098 term 40 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
flag 89466 term 40 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 24011 term 40 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
flag 94409 term 40 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 78043 term 40 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
flag 99988 term 40 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 70057 term 40 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
flag 95122 term 40 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 16288 term 40 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
flag 4390 term 40 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 71330 term 40 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 server 1 not vote for server 2, 任期不够新
term 40 server 2 get outdate rpc reply from server 1
flag 41117 term 40 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 28950 term 40 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
flag 44521 term 40 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 97915 term 40 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249}]
------------------------------------------------------
client write log 1046764013945291596 (index 250) to leader 1
flag 18860 term 40 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 83299 term 40 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249} {1046764013945291596 40 250}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 239} {1194084703553684033 38 240} {2234178043526762362 38 241} {8045570139603510805 38 242} {6129006572548984005 38 243} {7940140097468339893 38 244} {2100728736583784554 38 245} {455749823006586622 38 246} {5392698103831080979 38 247} {8043176515234526331 38 248} {1046764013945291596 38 249} {1046764013945291596 40 250}]
------------------------------------------------------
term 40 Server1 start snapshot! index=249
term 40 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=250
-------------------------------------------------------------
term 40 server 0 not vote for server 2, 任期不够新
term 40 server 2 get outdate rpc reply from server 0
flag 15572 term 40 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 58619 term 40 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 249} {1046764013945291596 40 250}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 249} {1046764013945291596 40 250}]
------------------------------------------------------
term 40 Server0 start snapshot! index=249
term 40 server0 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=250
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 Server2 start snapshot! index=249
term 40 server2 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=250
-------------------------------------------------------------
flag 71481 term 40 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 21510 term 40 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 249} {1046764013945291596 40 250}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 249} {1046764013945291596 40 250}]
------------------------------------------------------
flag 22203 term 40 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 80317 term 40 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 249} {1046764013945291596 40 250}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 249} {1046764013945291596 40 250}]
------------------------------------------------------
term 40 server 2 not vote for server 0, 任期不够新
term 40 server 0 get outdate rpc reply from server 2
flag 82016 term 40 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 28305 term 40 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:250 
term 40 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 249} {1046764013945291596 40 250}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 249} {1046764013945291596 40 250}]
------------------------------------------------------
flag 97703 term 40 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 33459 term 40 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 249} {1046764013945291596 40 250}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 249} {1046764013945291596 40 250}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1624 term 40 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 7354 term 40 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7887140179017770506 (index 251) to leader 1
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 249} {1046764013945291596 40 250} {7887140179017770506 40 251}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 251->250
------------------------------------------------------
flag 9365 term 40 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 0  matchIndex[2]: 250
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 38 249} {1046764013945291596 40 250} {7887140179017770506 40 251}]
------------------------------------------------------
flag 24580 term 40 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 40 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 0  matchIndex[2]: 250
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 38 249} {1046764013945291596 40 250} {7887140179017770506 40 251}]
------------------------------------------------------
client write log 1217584440889355451 (index 252) to leader 1
client write log 4987765160186297942 (index 253) to leader 1
client write log 56710678060210385 (index 254) to leader 1
client write log 7479713699780862512 (index 255) to leader 1
client write log 162727224829933701 (index 256) to leader 1
client write log 309138455936341124 (index 257) to leader 1
client write log 130020217896031676 (index 258) to leader 1
client write log 8115239668698651218 (index 259) to leader 1
client write log 7252771479448943422 (index 260) to leader 1
flag 92150 term 40 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 40 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 0  matchIndex[2]: 250
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 38 249} {1046764013945291596 40 250} {7887140179017770506 40 251} {1217584440889355451 40 252} {4987765160186297942 40 253} {56710678060210385 40 254} {7479713699780862512 40 255} {162727224829933701 40 256} {309138455936341124 40 257} {130020217896031676 40 258} {8115239668698651218 40 259} {7252771479448943422 40 260}]
------------------------------------------------------
term 40 Server1 start snapshot! index=259
term 40 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=260
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12044 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 0  matchIndex[2]: 250
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260}]
------------------------------------------------------
term 40 Server0 start snapshot! index=259
term 40 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=260
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1851808085046490757 (index 261) to leader 1
flag 73264 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 0  matchIndex[2]: 250
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
term 41 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 2 vote for server 1
term 42 server 1 get vote from server 2
term 42 server 1 become leader
------------------------------------------------------
term 42 server 0 vote for server 1
term 42 server 1 get outdate rpc reply from server 0
flag 18484 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 59378 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
term 42 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 262->261
------------------------------------------------------
flag 46098 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 251  matchIndex[2]: 0
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
term 42 server 2 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 40 rf.commitIndex 259 rf.lastApplied 259
term 42 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90599 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 27586 term 42 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
flag 93855 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 53969 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
flag 5883 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 69161 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
flag 90290 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 36655 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
flag 49472 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 5599 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
flag 1834 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 92498 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
flag 60802 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 73597 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71533 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 31878 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70613 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 21350 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
flag 61114 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 89399 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 7287 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
term 42 server 2 not vote for server 1, 任期不够新
term 42 server 1 get outdate rpc reply from server 2
term 42 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89824 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 89836 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30675 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 49165 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60369 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 60971 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
flag 66833 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 66631 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21272 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 21712 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261}]
------------------------------------------------------
client write log 1851808085046490757 (index 262) to leader 1
flag 43309 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 26738 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261} {1851808085046490757 42 262}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261} {1851808085046490757 42 262}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81237 term 42 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 42 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 26041 term 42 leader 1 nextIndex[2]: 263  matchIndex[2]: 262
term 42 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261} {1851808085046490757 42 262}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261} {1851808085046490757 42 262}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77893 term 42 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 42 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 62867 term 42 leader 1 nextIndex[2]: 263  matchIndex[2]: 262
term 42 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261} {1851808085046490757 42 262}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261} {1851808085046490757 42 262}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63243 term 42 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 42 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 9287 term 42 leader 1 nextIndex[2]: 263  matchIndex[2]: 262
term 42 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261} {1851808085046490757 42 262}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261} {1851808085046490757 42 262}]
------------------------------------------------------
flag 74115 term 42 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 42 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 6924 term 42 leader 1 nextIndex[2]: 263  matchIndex[2]: 262
term 42 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261} {1851808085046490757 42 262}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261} {1851808085046490757 42 262}]
------------------------------------------------------
flag 73254 term 42 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 42 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 18232 term 42 leader 1 nextIndex[2]: 263  matchIndex[2]: 262
term 42 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261} {1851808085046490757 42 262}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261} {1851808085046490757 42 262}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31883 term 42 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 42 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 58063 term 42 leader 1 nextIndex[2]: 263  matchIndex[2]: 262
term 42 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261} {1851808085046490757 42 262}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261} {1851808085046490757 42 262}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 53195 term 42 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 42 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 99510 term 42 leader 1 nextIndex[2]: 263  matchIndex[2]: 262
term 42 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 13411 term 42 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 42 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 26775 term 42 leader 1 nextIndex[2]: 263  matchIndex[2]: 262
term 42 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 62137 term 42 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 42 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 34281 term 42 leader 1 nextIndex[2]: 263  matchIndex[2]: 262
term 42 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 30799 term 42 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 42 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 53174 term 42 leader 1 nextIndex[2]: 263  matchIndex[2]: 262
term 42 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
term 43 server 0 vote for server 2
term 43 server 2 get vote from server 0
term 43 server 2 become leader
------------------------------------------------------
flag 65574 term 43 leader 2 nextIndex[0]: 263  matchIndex[0]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 77025 term 43 leader 2 nextIndex[1]: 263  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261} {1851808085046490757 42 262}]
------------------------------------------------------
flag 63633 term 42 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 42 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 50394 term 42 leader 1 nextIndex[2]: 263  matchIndex[2]: 262
term 42 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
client write log 3373939115730328613 (index 263) to leader 2
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 263->262
------------------------------------------------------
flag 18979 term 43 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 43 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 56099 term 43 leader 2 nextIndex[1]: 263  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261} {1851808085046490757 42 262} {3373939115730328613 43 263}]
------------------------------------------------------
term 42 leader 1 nextIndex[0]: 0  matchIndex[0]: 262
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
flag 76040 term 42 leader 1 nextIndex[2]: 263  matchIndex[2]: 262
term 42 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 7843 term 43 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 43 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
flag 40758 term 43 leader 2 nextIndex[1]: 263  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261} {1851808085046490757 42 262} {3373939115730328613 43 263}]
------------------------------------------------------
client write log 6127839490612018973 (index 264) to leader 2
client write log 8949731277260767070 (index 265) to leader 2
client write log 2515883676842086557 (index 266) to leader 2
client write log 2567324139104812034 (index 267) to leader 2
client write log 8331737978999918062 (index 268) to leader 2
client write log 320321278149020149 (index 269) to leader 2
client write log 7004117133884827786 (index 270) to leader 2
client write log 507477983475876201 (index 271) to leader 2
term 42 leader 1 nextIndex[0]: 0  matchIndex[0]: 262
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
flag 47071 term 42 leader 1 nextIndex[2]: 263  matchIndex[2]: 262
term 42 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 11626 term 43 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 43 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
flag 82675 term 43 leader 2 nextIndex[1]: 263  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 40 259} {7252771479448943422 40 260} {1851808085046490757 40 261} {1851808085046490757 42 262} {3373939115730328613 43 263} {6127839490612018973 43 264} {8949731277260767070 43 265} {2515883676842086557 43 266} {2567324139104812034 43 267} {8331737978999918062 43 268} {320321278149020149 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
term 43 Server2 start snapshot! index=269
term 43 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=271
-------------------------------------------------------------
term 42 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 260 matchIndex[0] 259 
------------------------------------------------------------------------
flag 4181 term 42 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
flag 11928 term 42 leader 1 nextIndex[2]: 263  matchIndex[2]: 262
term 42 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 263->262
------------------------------------------------------
flag 46869 term 43 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 43 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
term 43 leader 2 nextIndex[1]: 263  matchIndex[1]: 0
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
term 43 Server0 start snapshot! index=269
term 43 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=271
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1489320836737226175 (index 263) to leader 1
flag 55605 term 42 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 262
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
term 43 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 server 0 AppendEntries false 领导者任期过期 args.Term 42
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58278 term 43 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 43 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
term 43 leader 2 nextIndex[1]: 263  matchIndex[1]: 0
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 1 InstallSnapshot success
------------------------------------------------------
term 43 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 43 rf.commitIndex 269 rf.lastApplied 269
term 43 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
term 43 server 2 not vote for server 1, 日志不够新
term 43 server 0 not vote for server 1, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 1 vote for server 2
term 45 server 0 vote for server 2
term 45 server 2 get vote from server 1
term 45 server 2 become leader
------------------------------------------------------
term 45 server 2 get outdate rpc reply from server 0
flag 69592 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
flag 37110 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
term 45 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 272->271
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30492 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
flag 51488 term 45 leader 2 nextIndex[1]: 270  matchIndex[1]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
flag 12257 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
flag 22368 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31241 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
flag 41514 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
flag 42376 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
flag 60601 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
flag 9568 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
flag 9953 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
flag 23853 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
flag 48324 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
flag 71397 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
flag 23744 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
term 45 server 1 not vote for server 2, 任期不够新
term 45 server 2 get outdate rpc reply from server 1
flag 85496 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
flag 22199 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74046 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
flag 47650 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
flag 73729 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
flag 53803 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
flag 10543 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
flag 7920 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
flag 3887 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
flag 75520 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
flag 35912 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
flag 23569 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
flag 49943 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
flag 44152 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
flag 66149 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
flag 43694 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
flag 52692 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
flag 73049 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
flag 61190 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
flag 62975 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271}]
------------------------------------------------------
client write log 1489320836737226175 (index 272) to leader 2
flag 71077 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
flag 51423 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271} {1489320836737226175 45 272}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271} {1489320836737226175 45 272}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7727 term 45 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 93038 term 45 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271} {1489320836737226175 45 272}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271} {1489320836737226175 45 272}]
------------------------------------------------------
flag 6902 term 45 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 70651 term 45 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271} {1489320836737226175 45 272}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271} {1489320836737226175 45 272}]
------------------------------------------------------
flag 99812 term 45 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 81571 term 45 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271} {1489320836737226175 45 272}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271} {1489320836737226175 45 272}]
------------------------------------------------------
flag 31064 term 45 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 46285 term 45 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271} {1489320836737226175 45 272}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271} {1489320836737226175 45 272}]
------------------------------------------------------
flag 62729 term 45 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 88976 term 45 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271} {1489320836737226175 45 272}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271} {1489320836737226175 45 272}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18216 term 45 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 68453 term 45 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271} {1489320836737226175 45 272}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271} {1489320836737226175 45 272}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8639767412957595035 (index 273) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50096 term 45 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 67257 term 45 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271} {1489320836737226175 45 272} {8639767412957595035 45 273}]
------------------------------------------------------
flag 80687 term 45 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 273 
------------------------------------------------------
flag 96399 term 45 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 45 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 45 leaderCommit: 273 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
term 45 server 1 not vote for server 2, 任期不够新
update leader CommitIndex=273
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271} {1489320836737226175 45 272} {8639767412957595035 45 273}]
------------------------------------------------------
term 45 server 2 get outdate rpc reply from server 1
client write log 7330924781532617846 (index 274) to leader 2
client write log 4981108864813035066 (index 275) to leader 2
client write log 1885455728742254255 (index 276) to leader 2
client write log 4337587964964296137 (index 277) to leader 2
client write log 8135350981022844197 (index 278) to leader 2
client write log 3305688792619772761 (index 279) to leader 2
flag 4048 term 45 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 273 
------------------------------------------------------
flag 24719 term 45 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 45 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 45 leaderCommit: 273 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 269} {7004117133884827786 43 270} {507477983475876201 43 271} {1489320836737226175 45 272} {8639767412957595035 45 273} {7330924781532617846 45 274} {4981108864813035066 45 275} {1885455728742254255 45 276} {4337587964964296137 45 277} {8135350981022844197 45 278} {3305688792619772761 45 279}]
------------------------------------------------------
term 45 Server2 start snapshot! index=279
term 45 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
term 45 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 88007 term 45 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 45 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 45 279}]
------------------------------------------------------
term 45 Server1 start snapshot! index=279
term 45 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2475404243367165308 (index 280) to leader 2
term 45 server 2 not vote for server 0, 日志不够新
term 45 server 1 not vote for server 0, 日志不够新
term 47 server 1 vote for server 2
term 47 server 0 vote for server 2
term 47 server 2 get vote from server 1
term 47 server 2 become leader
------------------------------------------------------
term 47 server 2 get outdate rpc reply from server 0
flag 3443 term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 21261 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 47 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 281->280
------------------------------------------------------
term 47 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 281->280
------------------------------------------------------
term 47 leader 2 nextIndex[0]: 273  matchIndex[0]: 0
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 5858 term 47 leader 2 nextIndex[1]: 280  matchIndex[1]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
term 47 server 0 InstallSnapshot success
------------------------------------------------------
term 47 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 45 rf.commitIndex 279 rf.lastApplied 279
flag 63484 term 47 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 95816 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 server 0 not vote for server 2, 任期不够新
term 47 server 2 get outdate rpc reply from server 0
flag 82791 term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 86900 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
term 47 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12861 term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 17207 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
flag 64278 term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 85725 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
term 47 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50399 term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 96521 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23043 term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 74953 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
flag 48427 term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 38971 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
flag 84270 term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 55885 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
flag 17184 term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 3228 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65019 term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 97396 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
flag 600 term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 19072 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13407 term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 56298 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46954 term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 4072 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
flag 47846 term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 11216 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
flag 43632 term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 89652 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
flag 59107 term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 49817 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17129 term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 77076 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=279
leader log:
[{snapshot 45 279} {2475404243367165308 45 280}]
------------------------------------------------------
client write log 2475404243367165308 (index 281) to leader 2
flag 67934 term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 57280 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {2475404243367165308 45 280} {2475404243367165308 47 281}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {2475404243367165308 45 280} {2475404243367165308 47 281}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77585 term 47 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 281 
------------------------------------------------------
flag 41083 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 281 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {2475404243367165308 45 280} {2475404243367165308 47 281}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {2475404243367165308 45 280} {2475404243367165308 47 281}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28077 term 47 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 281 
------------------------------------------------------
flag 97755 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 281 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {2475404243367165308 45 280} {2475404243367165308 47 281}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {2475404243367165308 45 280} {2475404243367165308 47 281}]
------------------------------------------------------
flag 26263 term 47 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 281 
------------------------------------------------------
flag 12399 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 281 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {2475404243367165308 45 280} {2475404243367165308 47 281}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {2475404243367165308 45 280} {2475404243367165308 47 281}]
------------------------------------------------------
flag 21411 term 47 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 281 
------------------------------------------------------
flag 37181 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 281 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {2475404243367165308 45 280} {2475404243367165308 47 281}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {2475404243367165308 45 280} {2475404243367165308 47 281}]
------------------------------------------------------
flag 72144 term 47 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 281 
------------------------------------------------------
flag 67294 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 281 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:281 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {2475404243367165308 45 280} {2475404243367165308 47 281}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {2475404243367165308 45 280} {2475404243367165308 47 281}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2426706346576125011 (index 282) to leader 2
flag 25200 term 47 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 281 
------------------------------------------------------
flag 21500 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 281 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {2475404243367165308 45 280} {2475404243367165308 47 281} {2426706346576125011 47 282}]
------------------------------------------------------
flag 91755 term 47 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 8770 term 47 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 47 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {2475404243367165308 45 280} {2475404243367165308 47 281} {2426706346576125011 47 282}]
------------------------------------------------------
client write log 1624690274911519844 (index 283) to leader 2
client write log 4823632976392228050 (index 284) to leader 2
client write log 8659350028071819856 (index 285) to leader 2
client write log 6610172133883441398 (index 286) to leader 2
client write log 5175104922440025586 (index 287) to leader 2
client write log 1406627369701539631 (index 288) to leader 2
client write log 6864170737705688532 (index 289) to leader 2
client write log 1137119583332166848 (index 290) to leader 2
client write log 5560900976266590003 (index 291) to leader 2
client write log 9036099281941407428 (index 292) to leader 2
flag 45278 term 47 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 46779 term 47 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 47 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 45 279} {2475404243367165308 45 280} {2475404243367165308 47 281} {2426706346576125011 47 282} {1624690274911519844 47 283} {4823632976392228050 47 284} {8659350028071819856 47 285} {6610172133883441398 47 286} {5175104922440025586 47 287} {1406627369701539631 47 288} {6864170737705688532 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292}]
------------------------------------------------------
term 47 Server2 start snapshot! index=289
term 47 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=292
-------------------------------------------------------------
term 47 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 47
------------------------------------------------------
flag 99068 term 47 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 47 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292}]
------------------------------------------------------
term 47 Server1 start snapshot! index=289
term 47 server1 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=292
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1555689104030357714 (index 293) to leader 2
term 47 server 1 not vote for server 0, 日志不够新
term 47 server 2 not vote for server 0, 日志不够新
term 49 server 1 vote for server 2
term 49 server 2 get vote from server 1
term 49 server 0 vote for server 2
term 49 server 2 become leader
------------------------------------------------------
term 49 server 2 get outdate rpc reply from server 0
flag 55505 term 49 leader 2 nextIndex[0]: 294  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
flag 53858 term 49 leader 2 nextIndex[1]: 294  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
term 49 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 49 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 294->293
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 294->293
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 2 nextIndex[0]: 282  matchIndex[0]: 0
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 47
------------------------------------------------------
flag 35351 term 49 leader 2 nextIndex[1]: 293  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
term 49 server 0 InstallSnapshot success
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:292 
term 49 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 47 rf.commitIndex 289 rf.lastApplied 289
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41920 term 49 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 49 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
flag 75222 term 49 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
flag 88111 term 49 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
flag 29711 term 49 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
flag 4028 term 49 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
flag 86559 term 49 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
flag 70129 term 49 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
flag 76955 term 49 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
flag 41878 term 49 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
flag 90589 term 49 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65796 term 49 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
flag 67577 term 49 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
flag 74918 term 49 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
flag 41919 term 49 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
flag 88980 term 49 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
flag 27867 term 49 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
flag 16171 term 49 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
flag 66916 term 49 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
flag 39064 term 49 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
flag 43001 term 49 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
flag 80705 term 49 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
flag 94299 term 49 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
flag 11735 term 49 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
flag 39361 term 49 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
flag 87879 term 49 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
flag 75509 term 49 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20889 term 49 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
flag 44480 term 49 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
flag 62739 term 49 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
flag 64561 term 49 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
flag 75707 term 49 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
flag 52918 term 49 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
flag 31314 term 49 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
flag 14379 term 49 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
flag 30940 term 49 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
flag 74516 term 49 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293}]
------------------------------------------------------
client write log 1555689104030357714 (index 294) to leader 2
flag 40026 term 49 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
flag 70359 term 49 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 49 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83225 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
flag 2129 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294}]
------------------------------------------------------
flag 9909 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
flag 23409 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294}]
------------------------------------------------------
flag 44063 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
flag 90821 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294}]
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43972 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
flag 21421 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294}]
------------------------------------------------------
flag 54369 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
flag 67550 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294}]
------------------------------------------------------
flag 98019 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
flag 42799 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 47492 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
flag 63767 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
flag 17330 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
flag 17020 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23369 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
flag 38814 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
term 50 server 0 vote for server 1
term 50 server 1 get vote from server 0
term 50 server 1 become leader
------------------------------------------------------
flag 28041 term 50 leader 1 nextIndex[0]: 295  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
flag 38935 term 50 leader 1 nextIndex[2]: 295  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294}]
------------------------------------------------------
client write log 268438452296638159 (index 295) to leader 1
flag 44908 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
flag 5671 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
flag 21389 term 50 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
flag 73848 term 50 leader 1 nextIndex[2]: 295  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294} {268438452296638159 50 295}]
------------------------------------------------------
flag 10762 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
flag 34733 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
flag 39638 term 50 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 50 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 50 leaderCommit: 295 
------------------------------------------------------
flag 70588 term 50 leader 1 nextIndex[2]: 295  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294} {268438452296638159 50 295}]
------------------------------------------------------
client write log 6873170112568763867 (index 296) to leader 1
flag 17861 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
flag 36969 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
flag 1090 term 50 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 50 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 50 leaderCommit: 295 
------------------------------------------------------
flag 62602 term 50 leader 1 nextIndex[2]: 295  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294} {268438452296638159 50 295} {6873170112568763867 50 296}]
------------------------------------------------------
flag 91246 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
flag 19084 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
flag 10213 term 50 leader 1 nextIndex[0]: 297  matchIndex[0]: 296
term 50 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 6096 term 50 leader 1 nextIndex[2]: 295  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 296 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294} {268438452296638159 50 295} {6873170112568763867 50 296}]
------------------------------------------------------
!!!!!!connect server 2
client write log 7820140967307913779 (index 297) to leader 1
flag 17780 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
flag 35582 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 294 
------------------------------------------------------
term 50 server 1 AppendEntries false 领导者任期过期 args.Term 49
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 50 server 0 AppendEntries false 领导者任期过期 args.Term 49
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1802 term 50 leader 1 nextIndex[0]: 297  matchIndex[0]: 296
term 50 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 80599 term 50 leader 1 nextIndex[2]: 295  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 49 leaderCommit: 296 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294} {268438452296638159 50 295} {6873170112568763867 50 296} {7820140967307913779 50 297}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294} {268438452296638159 50 295} {6873170112568763867 50 296} {7820140967307913779 50 297}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5441 term 50 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 50 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
flag 71971 term 50 leader 1 nextIndex[2]: 298  matchIndex[2]: 297
term 50 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294} {268438452296638159 50 295} {6873170112568763867 50 296} {7820140967307913779 50 297}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294} {268438452296638159 50 295} {6873170112568763867 50 296} {7820140967307913779 50 297}]
------------------------------------------------------
flag 10807 term 50 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 50 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
flag 89394 term 50 leader 1 nextIndex[2]: 298  matchIndex[2]: 297
term 50 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294} {268438452296638159 50 295} {6873170112568763867 50 296} {7820140967307913779 50 297}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294} {268438452296638159 50 295} {6873170112568763867 50 296} {7820140967307913779 50 297}]
------------------------------------------------------
flag 19290 term 50 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 50 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
flag 25460 term 50 leader 1 nextIndex[2]: 298  matchIndex[2]: 297
term 50 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294} {268438452296638159 50 295} {6873170112568763867 50 296} {7820140967307913779 50 297}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294} {268438452296638159 50 295} {6873170112568763867 50 296} {7820140967307913779 50 297}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37245 term 50 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 50 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
flag 40727 term 50 leader 1 nextIndex[2]: 298  matchIndex[2]: 297
term 50 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294} {268438452296638159 50 295} {6873170112568763867 50 296} {7820140967307913779 50 297}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294} {268438452296638159 50 295} {6873170112568763867 50 296} {7820140967307913779 50 297}]
------------------------------------------------------
flag 97318 term 50 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 50 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
flag 33167 term 50 leader 1 nextIndex[2]: 298  matchIndex[2]: 297
term 50 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294} {268438452296638159 50 295} {6873170112568763867 50 296} {7820140967307913779 50 297}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294} {268438452296638159 50 295} {6873170112568763867 50 296} {7820140967307913779 50 297}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 89171334387152039 (index 298) to leader 1
flag 82151 term 50 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 50 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
flag 29729 term 50 leader 1 nextIndex[2]: 298  matchIndex[2]: 297
term 50 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294} {268438452296638159 50 295} {6873170112568763867 50 296} {7820140967307913779 50 297} {89171334387152039 50 298}]
------------------------------------------------------
flag 39766 term 50 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 50 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
flag 31779 term 50 leader 1 nextIndex[2]: 298  matchIndex[2]: 297
term 50 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294} {268438452296638159 50 295} {6873170112568763867 50 296} {7820140967307913779 50 297} {89171334387152039 50 298}]
------------------------------------------------------
client write log 6951308736255197786 (index 299) to leader 1
client write log 1886003205333201436 (index 300) to leader 1
client write log 7963464424608241325 (index 301) to leader 1
client write log 1318103917005460591 (index 302) to leader 1
client write log 8261166767911279283 (index 303) to leader 1
client write log 1268720107131267634 (index 304) to leader 1
client write log 4621191760089035545 (index 305) to leader 1
client write log 2571598076316737302 (index 306) to leader 1
flag 76653 term 50 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 50 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
flag 50643 term 50 leader 1 nextIndex[2]: 298  matchIndex[2]: 297
term 50 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 47 289} {1137119583332166848 47 290} {5560900976266590003 47 291} {9036099281941407428 47 292} {1555689104030357714 47 293} {1555689104030357714 49 294} {268438452296638159 50 295} {6873170112568763867 50 296} {7820140967307913779 50 297} {89171334387152039 50 298} {6951308736255197786 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306}]
------------------------------------------------------
term 50 Server1 start snapshot! index=299
term 50 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=306
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 298->297
------------------------------------------------------
flag 57745 term 50 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 0  matchIndex[2]: 297
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306}]
------------------------------------------------------
term 50 Server0 start snapshot! index=299
term 50 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=306
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8719282258532561566 (index 307) to leader 1
term 50 server 1 not vote for server 2, 日志不够新
term 50 server 0 not vote for server 2, 日志不够新
term 52 server 2 vote for server 1
term 52 server 1 get vote from server 2
term 52 server 1 become leader
------------------------------------------------------
term 52 server 0 vote for server 1
term 52 server 1 get outdate rpc reply from server 0
flag 20152 term 52 leader 1 nextIndex[0]: 308  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 39099 term 52 leader 1 nextIndex[2]: 308  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 308->307
------------------------------------------------------
term 52 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 308->307
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56437 term 52 leader 1 nextIndex[0]: 307  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 298  matchIndex[2]: 0
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
term 52 server 2 InstallSnapshot success
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 50 rf.commitIndex 299 rf.lastApplied 299
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17799 term 52 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 78232 term 52 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
flag 43213 term 52 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 62460 term 52 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
flag 38354 term 52 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 41887 term 52 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70807 term 52 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 4433 term 52 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
flag 61132 term 52 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 83536 term 52 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87574 term 52 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 24873 term 52 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52437 term 52 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 89536 term 52 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
flag 32444 term 52 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 40286 term 52 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
flag 41211 term 52 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 3741 term 52 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
flag 18967 term 52 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 91767 term 52 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91920 term 52 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 36199 term 52 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
flag 79814 term 52 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 91694 term 52 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
flag 40901 term 52 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 46160 term 52 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
flag 31991 term 52 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 13249 term 52 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
flag 69635 term 52 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 46125 term 52 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78009 term 52 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 30114 term 52 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
flag 33090 term 52 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 414 term 52 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30885 term 52 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 33413 term 52 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307}]
------------------------------------------------------
client write log 8719282258532561566 (index 308) to leader 1
flag 74760 term 52 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 58086 term 52 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 52 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
update nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307} {8719282258532561566 52 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307} {8719282258532561566 52 308}]
------------------------------------------------------
term 52 server 2 not vote for server 1, 任期不够新
term 52 server 1 get outdate rpc reply from server 2
flag 84721 term 52 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 98470 term 52 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 52 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307} {8719282258532561566 52 308}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307} {8719282258532561566 52 308}]
------------------------------------------------------
flag 24393 term 52 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 52214 term 52 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 52 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307} {8719282258532561566 52 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307} {8719282258532561566 52 308}]
------------------------------------------------------
flag 17315 term 52 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 58907 term 52 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 52 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307} {8719282258532561566 52 308}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307} {8719282258532561566 52 308}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60150 term 52 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 19613 term 52 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 52 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307} {8719282258532561566 52 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307} {8719282258532561566 52 308}]
------------------------------------------------------
flag 2141 term 52 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 38530 term 52 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 52 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307} {8719282258532561566 52 308}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307} {8719282258532561566 52 308}]
------------------------------------------------------
flag 23474 term 52 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 39206 term 52 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 52 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307} {8719282258532561566 52 308}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307} {8719282258532561566 52 308}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5917288313138446364 (index 309) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28104 term 52 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 27490 term 52 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 52 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 50 299} {1886003205333201436 50 300} {7963464424608241325 50 301} {1318103917005460591 50 302} {8261166767911279283 50 303} {1268720107131267634 50 304} {4621191760089035545 50 305} {2571598076316737302 50 306} {8719282258532561566 50 307} {8719282258532561566 52 308} {5917288313138446364 52 309}]
------------------------------------------------------
term 52 Server1 start snapshot! index=309
term 52 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
flag 78553 term 52 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 52 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 52 leaderCommit: 309 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 52 309}]
------------------------------------------------------
term 52 Server0 start snapshot! index=309
term 52 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
client write log 8053333957204090412 (index 310) to leader 1
client write log 2258167182556530365 (index 311) to leader 1
client write log 7787369273514597631 (index 312) to leader 1
client write log 2666210726012740050 (index 313) to leader 1
client write log 4833831706321122583 (index 314) to leader 1
client write log 1440083132801843736 (index 315) to leader 1
client write log 5771682270023481440 (index 316) to leader 1
client write log 7990540060016888305 (index 317) to leader 1
client write log 5718603645582266295 (index 318) to leader 1
client write log 189580354249144326 (index 319) to leader 1
flag 51424 term 52 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 52 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 52 leaderCommit: 309 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 309} {8053333957204090412 52 310} {2258167182556530365 52 311} {7787369273514597631 52 312} {2666210726012740050 52 313} {4833831706321122583 52 314} {1440083132801843736 52 315} {5771682270023481440 52 316} {7990540060016888305 52 317} {5718603645582266295 52 318} {189580354249144326 52 319}]
------------------------------------------------------
term 52 Server1 start snapshot! index=319
term 52 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
flag 92130 term 52 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 52 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 319}]
------------------------------------------------------
term 52 Server0 start snapshot! index=319
term 52 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4457992993134465156 (index 320) to leader 1
term 52 server 1 not vote for server 2, 日志不够新
term 52 server 0 not vote for server 2, 日志不够新
term 54 server 2 vote for server 1
term 54 server 1 get vote from server 2
term 54 server 0 vote for server 1
term 54 server 1 become leader
------------------------------------------------------
term 54 server 1 get outdate rpc reply from server 0
flag 93723 term 54 leader 1 nextIndex[0]: 321  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 19045 term 54 leader 1 nextIndex[2]: 321  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 54 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 321->320
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 321->320
------------------------------------------------------
flag 18749 term 54 leader 1 nextIndex[0]: 320  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 309  matchIndex[2]: 0
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 52
------------------------------------------------------
term 54 server 2 InstallSnapshot success
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 52 rf.commitIndex 319 rf.lastApplied 319
term 54 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
flag 89557 term 54 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 41414 term 54 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 54 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2466 term 54 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 87595 term 54 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84004 term 54 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 77923 term 54 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
term 54 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
flag 56433 term 54 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 76473 term 54 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40 term 54 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 13393 term 54 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
flag 11076 term 54 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 55738 term 54 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
flag 88317 term 54 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 92958 term 54 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
flag 37878 term 54 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 94170 term 54 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89223 term 54 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 75155 term 54 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
flag 20926 term 54 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 40610 term 54 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
flag 36155 term 54 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 88160 term 54 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
flag 5618 term 54 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 54644 term 54 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
flag 48327 term 54 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 96403 term 54 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
flag 3847 term 54 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 38488 term 54 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
flag 34892 term 54 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 61667 term 54 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
flag 8887 term 54 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 54772 term 54 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
term 54 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
flag 8061 term 54 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 80897 term 54 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90901 term 54 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 81274 term 54 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 52 319} {4457992993134465156 52 320}]
------------------------------------------------------
client write log 4457992993134465156 (index 321) to leader 1
flag 84229 term 54 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 2840 term 54 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 54 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321}]
------------------------------------------------------
flag 77639 term 54 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 47254 term 54 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321}]
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5270 term 54 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 8406 term 54 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321}]
------------------------------------------------------
flag 48399 term 54 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 95770 term 54 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321}]
------------------------------------------------------
flag 36474 term 54 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 69598 term 54 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4931 term 54 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 85370 term 54 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 19851 term 54 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 25884 term 54 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 88254 term 54 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 87849 term 54 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 43948 term 54 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 62209 term 54 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 55 server 2 vote for server 0
term 55 server 0 get vote from server 2
term 55 server 0 become leader
------------------------------------------------------
flag 24196 term 54 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 86335 term 54 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 11113 term 55 leader 0 nextIndex[1]: 322  matchIndex[1]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 78730 term 55 leader 0 nextIndex[2]: 322  matchIndex[2]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321}]
------------------------------------------------------
client write log 3597905577859936031 (index 322) to leader 0
flag 2116 term 54 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 70619 term 54 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 55495 term 55 leader 0 nextIndex[1]: 322  matchIndex[1]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 69447 term 55 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 55 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322}]
------------------------------------------------------
flag 35356 term 54 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 59123 term 54 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 50090 term 55 leader 0 nextIndex[1]: 322  matchIndex[1]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
flag 28674 term 55 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 55 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 55 leaderCommit: 322 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322}]
------------------------------------------------------
client write log 6643728618051039579 (index 323) to leader 0
flag 49260 term 54 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 64153 term 54 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 3011 term 55 leader 0 nextIndex[1]: 322  matchIndex[1]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
flag 94724 term 55 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 55 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 55 leaderCommit: 322 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
flag 82623 term 54 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 55157 term 54 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 3779 term 55 leader 0 nextIndex[1]: 322  matchIndex[1]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 323 
------------------------------------------------------
flag 23616 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
!!!!!!connect server 1
client write log 8351981580308666661 (index 322) to leader 1
flag 87364 term 54 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
flag 99393 term 54 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 54 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 55 server 0 AppendEntries false 领导者任期过期 args.Term 54
------------------------------------------------------
term 55 server 2 AppendEntries false 领导者任期过期 args.Term 54
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29659 term 55 leader 0 nextIndex[1]: 322  matchIndex[1]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 323 
------------------------------------------------------
flag 6376 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
term 55 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83110 term 55 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 18492 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
flag 71878 term 55 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 16935 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
flag 44203 term 55 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 82486 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36065 term 55 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 54759 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52054 term 55 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 20867 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
flag 68803 term 55 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 24 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
flag 8577 term 55 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 78906 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
flag 36347 term 55 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 54591 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
flag 31163 term 55 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 39655 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
flag 18441 term 55 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 52442 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
flag 41359 term 55 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 24083 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
flag 11805 term 55 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 10537 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 324->323
------------------------------------------------------
term 55 leader 0 nextIndex[1]: 0  matchIndex[1]: 323
term 55 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 52
------------------------------------------------------
flag 64319 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
term 55 server 1 InstallSnapshot fail
rf.commitIndex 323 args.LastIncludedIndex 319
------------------------------------------------------
term 55 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
flag 56808 term 55 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 55 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 74328 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
flag 72245 term 55 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 86644 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
flag 38673 term 55 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 10387 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
flag 27724 term 55 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 90909 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
flag 17620 term 55 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 16484 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
flag 16807 term 55 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 95125 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323}]
------------------------------------------------------
client write log 8351981580308666661 (index 324) to leader 0
flag 53867 term 55 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 62706 term 55 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 55 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323} {8351981580308666661 55 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323} {8351981580308666661 55 324}]
------------------------------------------------------
term 55 server 1 not vote for server 0, 日志不够新
term 55 server 0 get outdate rpc reply from server 1
flag 52515 term 55 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 55 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 55 leaderCommit: 324 
------------------------------------------------------
flag 75941 term 55 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 55 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 55 leaderCommit: 324 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323} {8351981580308666661 55 324}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323} {8351981580308666661 55 324}]
------------------------------------------------------
flag 46718 term 55 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 55 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 55 leaderCommit: 324 
------------------------------------------------------
flag 8254 term 55 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 55 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 55 leaderCommit: 324 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
term 55 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323} {8351981580308666661 55 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323} {8351981580308666661 55 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 325->324
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 leader 0 nextIndex[1]: 0  matchIndex[1]: 324
term 55 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 52
------------------------------------------------------
flag 33984 term 55 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 55 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 55 leaderCommit: 324 
------------------------------------------------------
term 55 server 1 InstallSnapshot fail
rf.commitIndex 324 args.LastIncludedIndex 319
------------------------------------------------------
term 55 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323} {8351981580308666661 55 324}]
------------------------------------------------------
flag 79583 term 55 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 55 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
flag 25350 term 55 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 55 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 55 leaderCommit: 324 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323} {8351981580308666661 55 324}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323} {8351981580308666661 55 324}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59257 term 55 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 55 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 55 leaderCommit: 324 
------------------------------------------------------
flag 53618 term 55 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 55 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 55 leaderCommit: 324 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323} {8351981580308666661 55 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323} {8351981580308666661 55 324}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 629004703171305613 (index 325) to leader 0
flag 18997 term 55 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 55 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 55 leaderCommit: 324 
------------------------------------------------------
flag 57633 term 55 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 55 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 55 leaderCommit: 324 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323} {8351981580308666661 55 324} {629004703171305613 55 325}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48910 term 55 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 55 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 55 leaderCommit: 325 
------------------------------------------------------
flag 91071 term 55 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 55 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 55 leaderCommit: 325 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323} {8351981580308666661 55 324} {629004703171305613 55 325}]
------------------------------------------------------
client write log 8678031758016591856 (index 326) to leader 0
client write log 4611545774209943709 (index 327) to leader 0
client write log 8059349370847326729 (index 328) to leader 0
client write log 6484641976272310256 (index 329) to leader 0
client write log 7299074299993265694 (index 330) to leader 0
client write log 957047340562611515 (index 331) to leader 0
client write log 7640859476282967861 (index 332) to leader 0
client write log 2449557041379176205 (index 333) to leader 0
client write log 6022634848270217043 (index 334) to leader 0
client write log 6446798076163766596 (index 335) to leader 0
flag 96588 term 55 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 55 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 55 leaderCommit: 325 
------------------------------------------------------
flag 44521 term 55 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 55 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 55 leaderCommit: 325 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 52 319} {4457992993134465156 52 320} {4457992993134465156 54 321} {3597905577859936031 55 322} {6643728618051039579 55 323} {8351981580308666661 55 324} {629004703171305613 55 325} {8678031758016591856 55 326} {4611545774209943709 55 327} {8059349370847326729 55 328} {6484641976272310256 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335}]
------------------------------------------------------
term 55 Server0 start snapshot! index=329
term 55 server0 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=335
-------------------------------------------------------------
term 55 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 55 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 55
------------------------------------------------------
flag 59894 term 55 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 55 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335}]
------------------------------------------------------
term 55 Server2 start snapshot! index=329
term 55 server2 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=335
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4182770204857034673 (index 336) to leader 0
term 55 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 55 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 55
------------------------------------------------------
flag 21448 term 55 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 55 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 56 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 55 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 57 server 2 vote for server 0
term 57 server 0 get vote from server 2
term 57 server 0 become leader
------------------------------------------------------
term 57 server 1 vote for server 0
term 57 server 0 get outdate rpc reply from server 1
flag 1750 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 0
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
flag 63739 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 0
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
term 57 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 337->336
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 57 leader 0 nextIndex[1]: 325  matchIndex[1]: 0
term 57 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 55
------------------------------------------------------
flag 52714 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
term 57 server 1 InstallSnapshot success
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 55 rf.commitIndex 329 rf.lastApplied 329
term 57 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73733 term 57 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 57 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
flag 98191 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
flag 25268 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
flag 18456 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
flag 78053 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
flag 49358 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87225 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
flag 76704 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
flag 59910 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
flag 16882 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
flag 29217 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
flag 97099 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
flag 97571 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
flag 51839 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44741 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
flag 95033 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98605 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
flag 17792 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
flag 26209 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
flag 27665 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
flag 83683 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
flag 39611 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60557 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
flag 87053 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
flag 70423 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
flag 40302 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:335 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
flag 10323 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
flag 79521 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
flag 56016 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
flag 68123 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89611 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
flag 90209 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336}]
------------------------------------------------------
client write log 4182770204857034673 (index 337) to leader 0
flag 19191 term 57 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
flag 22754 term 57 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 57 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336} {4182770204857034673 57 337}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336} {4182770204857034673 57 337}]
------------------------------------------------------
flag 23530 term 57 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 57 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 57 leaderCommit: 337 
------------------------------------------------------
flag 91292 term 57 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 57 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 57 leaderCommit: 337 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336} {4182770204857034673 57 337}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336} {4182770204857034673 57 337}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22453 term 57 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 57 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 57 leaderCommit: 337 
------------------------------------------------------
flag 76120 term 57 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 57 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 57 leaderCommit: 337 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336} {4182770204857034673 57 337}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336} {4182770204857034673 57 337}]
------------------------------------------------------
flag 42802 term 57 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 57 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 57 leaderCommit: 337 
------------------------------------------------------
flag 94629 term 57 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 57 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 57 leaderCommit: 337 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336} {4182770204857034673 57 337}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336} {4182770204857034673 57 337}]
------------------------------------------------------
flag 57283 term 57 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 57 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 57 leaderCommit: 337 
------------------------------------------------------
flag 38141 term 57 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 57 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 57 leaderCommit: 337 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336} {4182770204857034673 57 337}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336} {4182770204857034673 57 337}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20209 term 57 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 57 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 57 leaderCommit: 337 
------------------------------------------------------
flag 8225 term 57 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 57 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 57 leaderCommit: 337 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336} {4182770204857034673 57 337}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336} {4182770204857034673 57 337}]
------------------------------------------------------
flag 89148 term 57 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 57 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 57 leaderCommit: 337 
------------------------------------------------------
flag 38588 term 57 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 57 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 57 leaderCommit: 337 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336} {4182770204857034673 57 337}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 55 329} {7299074299993265694 55 330} {957047340562611515 55 331} {7640859476282967861 55 332} {2449557041379176205 55 333} {6022634848270217043 55 334} {6446798076163766596 55 335} {4182770204857034673 55 336} {4182770204857034673 57 337}]
------------------------------------------------------
  ... Passed --  84.8  3 1929  797685  337
--- PASS: TestSnapshotInstall2D (84.84s)
PASS
